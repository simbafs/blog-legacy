<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Simba çš„å–µçª©</title><link>https://blog.simbafs.cc/</link><description>Recent content on Simba çš„å–µçª©</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 29 Aug 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.simbafs.cc/index.xml" rel="self" type="application/rss+xml"/><item><title>@blog</title><link>https://blog.simbafs.cc/index/</link><pubDate>Tue, 29 Aug 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/index/</guid><description>&lt;p>å—¨ï¼é»ž &amp;raquo;&lt;a class="link" href="https://blog.simbafs.cc/" >é€™è£¡&lt;/a>&amp;laquo; é€²å…¥ä¸»é &lt;/p></description></item><item><title>About</title><link>https://blog.simbafs.cc/index/</link><pubDate>Tue, 29 Aug 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/index/</guid><description>&lt;h1 id="-å“ˆå›‰å•ä¸–ç•Œå®‰å¥½-followershttpsimgshieldsiogithubfollowerssimbafsstyleflat-squarehttpsgithubcomsimbafs">ðŸ–ï¸ å“ˆå›‰ï¼å•ä¸–ç•Œå®‰å¥½ &lt;a class="link" href="https://github.com/simbafs" target="_blank" rel="noopener"
>&lt;img src="https://img.shields.io/github/followers/simbafs?style=flat-square"
loading="lazy"
alt="Followers"
>&lt;/a>&lt;/h1>
&lt;ul>
&lt;li>æœ¬å: é™³å®å½°&lt;/li>
&lt;li>å¸¸ç”¨ç¶²å: simba-fsã€SimbaFs&lt;/li>
&lt;li>åŽŸ JS æ„›å¥½è€… ç›®å‰ Go æ„›å¥½è€…&lt;/li>
&lt;li>vim is the best editor&lt;/li>
&lt;li>å‰ç«¯å¥½é›£&lt;/li>
&lt;li>&lt;strong>Golang&lt;/strong>ã€&lt;strong>NodeJS&lt;/strong>ã€nextjs&lt;/li>
&lt;li>äº”è¿· ç›®å‰æœ€å–œæ­¡ã€Œæˆååœ¨æœ›ã€&lt;/li>
&lt;li>æˆå¤§ç‰©ç†ç³»å¤§ä¸‰&lt;/li>
&lt;li>&lt;a class="link" href="https://ckcsc.net" target="_blank" rel="noopener"
>æˆåŠŸé«˜ä¸­é›»å­è¨ˆç®—æ©Ÿç ”ç¿’ç¤¾&lt;/a> æ“”ä»» &lt;code>é€€ä¼‘ç¶²ç®¡å…¼æ•™å­¸&lt;/code>&lt;/li>
&lt;/ul>
&lt;h1 id="-ä½œå“">ðŸ›  ä½œå“&lt;/h1>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/simbafs/next-blog" target="_blank" rel="noopener"
>next-blog&lt;/a>&lt;br>
æœ¬ä¾†æƒ³è‡ªå·±ç”¨ nextjs å¯«ä¸€å€‹éƒ¨è½æ ¼ç³»çµ±ï¼Œä½†æ˜¯é‡åˆ°ä¸€äº›å•é¡Œå¤±æ•—äº†ï¼Œä½†é€™å€‹æˆ‘å…¶å¯¦å¾ˆæ»¿æ„ï¼Œä¸€å€‹çµ‚ç«¯æ©Ÿé¢¨æ ¼çš„æ“ä½œæ–¹å¼ï¼Œè€Œä¸”å…¨ SSGï¼Œå¦å¤–å°±ç®—é—œæŽ‰ javascript å¤§éƒ¨åˆ†åŠŸèƒ½ä¹Ÿéƒ½é‚„å¯ä»¥å‹•ï¼Œå”¯ä¸€çš„å•é¡Œæ˜¯æª”æ¡ˆå¤ªè‚¥ã€‚ &lt;br>
tech stack: nextjs, tailwindcss&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/simbafs/pixivReader" target="_blank" rel="noopener"
>pixiv reader&lt;/a>&lt;br>
è§£æ±ºçœ‹ä¸æ‡‚ pixiv ä¸Šæ—¥æ–‡å°èªªçš„å›°æ“¾ï¼Œpixiv åœ–ç‰‡å¾ˆé›£æŠ“ä½†æ˜¯å°èªªå®Œå…¨æ²’éŽ–ï¼Œç„¶å¾Œä¸Ÿé€²å¯ä»¥ç™½æ¼‚ google ç¿»è­¯çš„å¥—ä»¶ï¼Œæ­æ‹‰ï¼å‹‰å¼·çœ‹å¾—æ‡‚çš„å°èªªå®Œæˆ&lt;br>
tech stack: nextjs&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/simbafs/JingJing" target="_blank" rel="noopener"
>æ™¶æ™¶é«”ç”¢ç”Ÿå™¨&lt;/a>&lt;br>
æŒ‰å³éµæŠŠé¸å–çš„æ–‡å­—æ›¿æ›æˆè‹±æ–‡ç¿»è­¯ï¼Œæˆ‘åœ¨ç·¨å¯«é€™ä»½åˆ—è¡¨çŸ³æç™¼ç¾æˆ‘å¯«éŽé€™å€‹ï¼Œå¥½ã„Žä¸€ã„¤å–”&lt;br>
tech stack: nextjs&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/simbafs/slides" target="_blank" rel="noopener"
>slides&lt;/a>&lt;br>
ç™¼æƒ³è‡ª hackmd çš„ç°¡å ±æ¨¡å¼ï¼Œä½†æ˜¯é€™å€‹å¯ä»¥é–‹æˆ¿é–“ï¼Œä¸€å€‹äººé–‹æˆ¿é–“å¾Œå…¶ä»–äººåŠ å…¥ï¼Œé€²åº¦æœƒè·Ÿé–‹æˆ¿é–“çš„é‚£å€‹äººåŒæ­¥ã€‚é€™å€‹æ±è¥¿å¯«å¥½å¾Œä¸€æ¬¡ä¹Ÿæ²’ç”¨ä¸Š QQ&lt;br>
tech stack: expressjs, socket.io, ejs&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/simbafs/twitterDL" target="_blank" rel="noopener"
>twitterDL&lt;/a>&lt;br>
æŽ¨ç‰¹ API æ­»äº†&lt;br>
tech stack: nodejs&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/simbafs/ncku-extended" target="_blank" rel="noopener"
>NCKU Extended&lt;/a> &lt;br>
æˆå¤§ç³»çµ±ç€è¦½å™¨æ“´å……å¥—ä»¶&lt;br>
æ“´å……æˆå¤§ç³»çµ±çš„åŠŸèƒ½&lt;br>
ç›®å‰åŠŸèƒ½é‚„ä¸å¤šï¼Œæœ‰å…¶ä»–æƒ³æ³•æ­¡è¿Žç™¼ Issue&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/simbafs/telegrary" target="_blank" rel="noopener"
>telegrary&lt;/a>&lt;br>
Telegrary = Telegram + diary &lt;br>
Telegrary æ˜¯ä¸€å€‹ Telegram æ©Ÿå™¨äººï¼Œè®“ä½ å¯ä»¥åœ¨ Telegram ä¸Šç®¡ç†æ—¥è¨˜ã€‚åŒæ™‚ Telegrary æä¾›äº†ä¸€å€‹ CLI ç•Œé¢ï¼Œè®“ä½ å¯ä»¥åœ¨çµ‚ç«¯æ©Ÿç®¡ç†æ—¥è¨˜ã€‚&lt;br>
&lt;strong>æ©Ÿå™¨äººå•é¡Œå¾ˆå¤šä¸å»ºè­°é–‹&lt;/strong>&lt;br>
tech stack: golang&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h1 id="-è¯çµ¡æ–¹å¼">ðŸ“¬ è¯çµ¡æ–¹å¼&lt;/h1>
&lt;ul>
&lt;li>gpg fingerprint: &lt;a class="link" href="https://github.com/simbafs.gpg" target="_blank" rel="noopener"
>FB39 7B64 177E 7C69 6E4D 707F 2FAD 6967 8674 CF25&lt;/a>&lt;/li>
&lt;li>mail: &lt;a class="link" href="mailto:me@simbafs.cc" >me@simbafs.cc&lt;/a>&lt;/li>
&lt;li>Mastodon: &lt;!-- raw HTML omitted -->@simbafs@masto.simbafs.cc&lt;!-- raw HTML omitted -->&lt;/li>
&lt;li>Discord id: @simbafs&lt;/li>
&lt;li>telegram: &lt;a class="link" href="https://t.me/simbafs" target="_blank" rel="noopener"
>@simbafs&lt;/a>&lt;/li>
&lt;li>twitter: &lt;a class="link" href="https://twitter.com/simbafs" target="_blank" rel="noopener"
>@simbafs&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Search</title><link>https://blog.simbafs.cc/search/</link><pubDate>Tue, 29 Aug 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/search/</guid><description/></item><item><title>PocketBase</title><link>https://blog.simbafs.cc/p/js/pocketbase/</link><pubDate>Sat, 26 Aug 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/pocketbase/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/pocketbase.png" alt="Featured image of post PocketBase" />&lt;h1 id="pocketbase">PocketBase&lt;/h1>
&lt;p>&lt;a class="link" href="https://pocketbase.io/" target="_blank" rel="noopener"
>PocketBase&lt;/a> æ˜¯ä¸€å€‹æ–¹ä¾¿å¿«é€Ÿéƒ¨å±¬å¾Œç«¯è³‡æ–™åº«çš„å·¥å…·ï¼Œä»–ç”¨ golang å¯«çš„ï¼Œå› æ­¤å¯ä»¥ç·¨è­¯æˆä¸€å€‹å–®ä¸€åŸ·è¡Œæª”ï¼Œä¸‹è¼‰å°±èƒ½ä½¿ç”¨ï¼Œå…§å»ºä¸€å€‹å¾ˆå¥½çœ‹çš„ç®¡ç†ç•Œé¢ï¼Œæ»‘é¼ é»žä¸€é»žå°±è¨­å®šå¥½è³‡æ–™åº«çµæ§‹ã€é—œè¯ã€ä½¿ç”¨è€…é©—è­‰å’Œæ¬Šé™æŽ§ç®¡ç­‰åŠŸèƒ½äº†&lt;/p>
&lt;p>&lt;img src="https://blog.simbafs.cc/images/pocketbase/demo.png"
loading="lazy"
alt="demo"
>&lt;/p>
&lt;p>æŽ¥ä¸‹ä¾†æ˜¯æˆ‘ç”¨ pocketbase å¯«ä¸€å€‹è²¼æ–‡ä½ˆå‘Šæ¬„ç³»çµ±çš„éŽç¨‹&lt;/p>
&lt;h2 id="å®‰è£">å®‰è£&lt;/h2>
&lt;p>å®‰è£å¾ˆç°¡å–®ï¼ŒåŽ» &lt;a class="link" href="https://pocketbase.io/docs/" target="_blank" rel="noopener"
>https://pocketbase.io/docs/&lt;/a> æ‰¾åˆ°ä½ çš„ä½œæ¥­ç³»çµ±å°æ‡‰çš„æª”æ¡ˆï¼Œä¸‹è¼‰ä¸‹ä¾†å¾Œæ”¾åˆ° &lt;code>$PATH&lt;/code> è£¡é¢ï¼Œåœ¨ä½ çš„å°ˆæ¡ˆç›®éŒ„å°±åŸ·è¡Œå°±å¯ä»¥äº†&lt;/p>
&lt;h3 id="å°ˆæ¡ˆçµæ§‹">å°ˆæ¡ˆçµæ§‹&lt;/h3>
&lt;p>åŸ·è¡Œ &lt;code>pocketbase serve&lt;/code> å¾Œæœƒå•Ÿå‹• pocketbase ä¼ºæœå™¨ï¼Œä¸¦è‡ªå‹•åˆå§‹åŒ–å…©å€‹è³‡æ–™å¤¾ &lt;code>pb_data&lt;/code> å’Œ &lt;code>pb_migrations&lt;/code>ï¼Œå‰è€…æ˜¯å­˜æ”¾ä½ çš„è³‡æ–™åº«è¨­å®šã€è³‡æ–™ã€log çš„åœ°æ–¹ï¼Œå¾Œè€…æ˜¯æ¯æ¬¡æ›´å‹•è³‡æ–™åº«ï¼ˆæ–°å¢žåˆªæ”¹è¡¨æ ¼ã€æ¬„ä½ç­‰ç­‰ï¼‰æ™‚çš„æ“ä½œï¼Œæ–¹ä¾¿ä½ åœ¨ä¸åŒç’°å¢ƒä¸‹åŒæ­¥è³‡æ–™åº«è¨­å®šè€Œä¸æå£žè³‡æ–™ï¼Œé‚„æœ‰ä¸€å€‹è³‡æ–™å¤¾æ˜¯ &lt;code>pb_public&lt;/code>ï¼Œä½ å¯ä»¥æŠŠå‰ç«¯ç¨‹å¼æ”¾åœ¨é€™è£¡ä»–æœƒå¹«ä½ æ”¾åœ¨ &lt;code>/&lt;/code> è·¯å¾‘ä¸‹&lt;/p>
&lt;h2 id="è¨­å®š-collection">è¨­å®š Collection&lt;/h2>
&lt;p>å•Ÿå‹•ä¼ºæœå™¨å¾Œé–‹å•Ÿç®¡ç†é é¢ &lt;a class="link" href="http://localhost:8090/_" target="_blank" rel="noopener"
>http://localhost:8090/_&lt;/a>ï¼Œä»–æœƒå«ä½ è¨­å®šç¬¬ä¸€å€‹ç®¡ç†å“¡å¸³è™Ÿå¯†ç¢¼ï¼Œé€²å…¥å¾Œæœƒç™¼ç¾å·²ç¶“é è¨­ä¸€å€‹ users Collectionï¼ˆä»¥ä¸‹æ²¿ç”¨ sqlite ç¨±å‘¼ï¼Œç¨±ä¹‹ç‚ºè¡¨æ ¼ï¼‰ï¼Œé‚£éº¼æˆ‘å€‘å°±ä¿ç•™ä»–å§ã€‚&lt;/p>
&lt;h3 id="è¡¨æ ¼ç¨®é¡ž">è¡¨æ ¼ç¨®é¡ž&lt;/h3>
&lt;p>pocketbase ä¸­è¡¨æ ¼æœ‰ä¸‰ç¨®ï¼Œç¬¬ä¸€ç¨®æ˜¯ä¸€èˆ¬çš„ base åŸºç¤Žè¡¨æ ¼ï¼Œå°±æ˜¯æ‹¿ä¾†å­˜è³‡æ–™çš„ï¼Œç¬¬äºŒç¨®æ˜¯ auth é©—è­‰è¡¨æ ¼ï¼Œå°ç™»å…¥é©—è­‰æœ‰å°ˆé–€çš„è¨­å®šï¼Œç¬¬ä¸‰ç¨®æ˜¯ view è¡¨æ ¼ï¼Œé€™å€‹æˆ‘é‚„æ²’ç”¨éŽï¼Œæ›´å¤šç¯„ä¾‹å¯ä»¥çœ‹å®˜æ–¹çš„ &lt;a class="link" href="https://pocketbase.io/docs/collections/#view-collection" target="_blank" rel="noopener"
>æ–‡ä»¶&lt;/a>&lt;/p>
&lt;h3 id="users">users&lt;/h3>
&lt;p>é€™è£¡ users æ‡‰è©²ä¸ç”¨å¤šåšèª¿æ•´ï¼Œå…ˆæ–°å¢žä¸€å€‹ä½¿ç”¨è€…å§ï¼Œé€™è£¡çš„ä½¿ç”¨è€…æ˜¯æ²’æœ‰ç®¡ç†å“¡æ¬Šé™çš„ï¼Œè¦è¨­å®šç®¡ç†å“¡è¦åˆ° &lt;a class="link" href="http://127.0.0.1:8090/_/#/settings/admins" target="_blank" rel="noopener"
>http://127.0.0.1:8090/_/#/settings/admins&lt;/a>
&lt;img src="https://blog.simbafs.cc/images/pocketbase/newUser.png"
loading="lazy"
alt="new user"
>&lt;/p>
&lt;h3 id="posts">posts&lt;/h3>
&lt;p>æŽ¥è‘—å»ºç«‹æ–°çš„ base collectionï¼Œæœ‰ &lt;code>auther&lt;/code>ã€&lt;code>content&lt;/code> å…©å€‹æ¬„ä½ï¼Œå…¶ä¸­ &lt;code>author&lt;/code> æ˜¯é—œè¯åˆ° &lt;code>users&lt;/code> è¡¨æ ¼ï¼Œè¡¨ç¤ºé€™é‚Šæ–‡ç« æ˜¯å“ªå€‹ä½¿ç”¨è€…å¯«çš„ï¼Œä¸¦ä¸”éƒ½è¨­ç‚ºéžç©ºã€‚
&lt;img src="https://blog.simbafs.cc/images/pocketbase/newCollection_fields.png"
loading="lazy"
alt="new collection field"
>
æŽ¥è‘—æˆ‘å€‘è¨­å®šå­˜å–æ¬Šé™ï¼Œé è¨­å…¨éƒ¨éƒ½æ˜¯åªé–‹æ”¾ç®¡ç†å“¡ï¼Œä½†é€™å¤ªæ²’æ„æ€äº†ï¼Œé»ž &lt;code>list&lt;/code>ã€&lt;code>view&lt;/code> å’Œ &lt;code>create&lt;/code> çš„æ¡†æ¡†ä¸€ä¸‹è®Šæˆæ‰€æœ‰äººéƒ½èƒ½å­˜å–ï¼Œå†ä¾†è¨­å®š &lt;code>create&lt;/code> çš„æ¢ä»¶æ˜¯ &lt;code>@request.auth.id = author.id&lt;/code>ï¼Œæ„æ€æ˜¯ç™¼å‡ºè«‹æ±‚çš„äººè·Ÿ &lt;code>author&lt;/code> æ¬„ä½çš„äººå¿…é ˆæ˜¯åŒä¸€å€‹äººæ‰è¡Œã€‚å‰©ä¸‹çš„æœ‰é»žéº»ç…©æˆ‘å°±å…ˆä¸åšäº†
&lt;img src="https://blog.simbafs.cc/images/pocketbase/newCollection_rules.png"
loading="lazy"
alt="new collection rule"
>&lt;/p>
&lt;p>é‚£éº¼æˆ‘å€‘çš„å¾Œç«¯å¤§è‡´å®Œæˆï¼Œå¯ä»¥åŽ»å¯«å‰ç«¯äº†&lt;/p>
&lt;h2 id="å‰ç«¯-js-sdk">å‰ç«¯ JS SDK&lt;/h2>
&lt;p>pocketbase å®˜æ–¹æœ‰æä¾›ä¸€å€‹ &lt;a class="link" href="https://github.com/pocketbase/js-sdk" target="_blank" rel="noopener"
>JS SDK&lt;/a> å¯ä»¥ä½¿ç”¨ï¼Œè£å¥½å¾Œæˆ‘å€‘é–‹ä¸€å€‹ nextjs å°ˆæ¡ˆï¼Œé–‹å•Ÿ &lt;code>src/&lt;/code> ç›®éŒ„ã€&lt;code>typescript&lt;/code> è·Ÿ tailwindcssã€‚æŠŠé è¨­çš„é›œä¸ƒé›œå…«çš„æ±è¥¿åˆªæŽ‰å¾Œï¼Œæˆ‘å€‘å¾žä¸€å€‹ä¹¾æ·¨çš„ &lt;code>src/pages/index.tsx&lt;/code> é–‹å§‹ã€‚&lt;/p>
&lt;h3 id="ç™»å…¥">ç™»å…¥&lt;/h3>
&lt;p>æˆ‘å€‘éœ€è¦å…©å€‹æ¡†æ¡†ä¸€å€‹æŒ‰éˆ•ä¾†ç™»å…¥ä½¿ç”¨è€…å¸³è™Ÿï¼Œ&lt;code>input()&lt;/code> æ˜¯ tailwindcss vairantï¼Œåæ­£å°±æ˜¯è¨­å®šæŒ‰éˆ•æ¨£å¼è€Œå·²&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">Home() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">pb&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">Pocketbase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;http://localhost:8090&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setEmail&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setPassword&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">handleLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">collection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;users&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">authWithPassword&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">password&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;h-screen max-w-[800px] mx-auto flex flex-col&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setEmail&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setPassword&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">handleLogin&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Login&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>pocketbase æœƒè‡ªå‹•ç¶­è­· &lt;code>authStore&lt;/code>ï¼Œé è¨­æ˜¯å­˜åœ¨ localStorage è£¡é¢ï¼Œå› æ­¤æˆ‘å€‘åªæœ‰ç¬¬ä¸€æ¬¡è¦ç™»å…¥ï¼Œç¬¬äºŒæ¬¡ä»–å…¶å¯¦æœƒè‡ªå‹•æŠŠ token ä»€éº¼çš„å¾ž localStorage æŠ“å‡ºä¾†ï¼Œçœäº†æˆ‘å€‘ä¸å°‘åŠ›æ°£&lt;/p>
&lt;h3 id="typescript">typescript&lt;/h3>
&lt;p>åœ¨é–‹å§‹æŠ“è³‡æ–™å‰ï¼Œæˆ‘å€‘ä¾†è™•ç†ä¸€ä¸‹ typescript çš„éƒ¨ä»½ï¼Œå¦‚æžœé€™è£¡è¨­å®šå¥½ï¼Œå¾Œé¢é–‹ç™¼æœƒè¼•é¬†å¾ˆå¤šï¼Œæœ‰å€‹å·¥å…·å«åš &lt;a class="link" href="https://github.com/patmood/pocketbase-typegen" target="_blank" rel="noopener"
>pocketbase-typegen&lt;/a> å¯ä»¥è‡ªå‹•æ ¹æ“š pocketbase è¨­å®šç”¢ç”Ÿåž‹åˆ¥å®šç¾©æª”æ¡ˆï¼Œç”¨æŒ‡ä»¤ &lt;code>npx pocketbase-typegen --db ../pb_data/data.db --out src/pocketbase-type.ts&lt;/code> å°±æœƒç”¢ç”Ÿå¥½æˆ‘å€‘è¦çš„æª”æ¡ˆäº†ã€‚&lt;br>
è£¡é¢æœ‰å¹¾ç¨®åž‹åˆ¥ï¼Œç¬¬ä¸€é¡žæ˜¯ &lt;code>xxxRecord&lt;/code>ï¼Œé€™é¡žæ˜¯æ ¹æ“šè³‡æ–™åº«è¨­å®šç›´æŽ¥ç”¢å‡ºä¾†çš„ï¼Œå†ä¾†æ˜¯ &lt;code>xxxResponse&lt;/code>ï¼Œé€™å€‹æ˜¯ js-sdk æœƒåçµ¦æˆ‘å€‘çš„ï¼Œæˆ‘å€‘è¦ç”¨çš„ä¹Ÿæ˜¯é€™å€‹&lt;/p>
&lt;h3 id="åˆ—å‡º-post">åˆ—å‡º post&lt;/h3>
&lt;p>æˆ‘å€‘å¯«ä¸€å€‹ hook ä¾†è™•ç†æŠ“è³‡æ–™çš„å·¥ä½œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">usePosts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pb&lt;/span>: &lt;span class="kt">Pocketbase&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span> &lt;span class="nx">Post&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">PostResponse&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">post&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setPost&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Post&lt;/span>&lt;span class="err">[]&lt;/span>&lt;span class="p">&amp;gt;([])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">collection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;posts&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">getList&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Post&lt;/span>&lt;span class="p">&amp;gt;()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setPost&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reverse&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">pb&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">posts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="subscribe">Subscribe&lt;/h4>
&lt;p>é€™å€‹ hook æœƒåœ¨ä¸€é–‹å§‹å°±æŠ“å–å…¨éƒ¨çš„ postsï¼Œä½†æ˜¯å¾ŒçºŒæ›´æ–°æ€Žéº¼è¾¦ï¼Ÿpocketbase æä¾› Subscribeï¼Œä»–æœƒé€éŽ websocket æˆ–æ˜¯ SSE çš„æ–¹å¼æŠŠè³‡æ–™åº«çš„æ›´æ–°å³æ™‚é€šçŸ¥å‰ç«¯ï¼Œæˆ‘å€‘å°±ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„ç¨‹å¼ç¢¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">usePosts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pb&lt;/span>: &lt;span class="kt">Pocketbase&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span> &lt;span class="nx">Post&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">PostsResponse&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">posts&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">updatePosts&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useReducer&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>: &lt;span class="kt">Post&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="nx">action&lt;/span>: &lt;span class="kt">Post&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Post&lt;/span>&lt;span class="p">[])&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isArray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">action&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">action&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">action&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">collection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;posts&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">getList&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Post&lt;/span>&lt;span class="p">&amp;gt;()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">updatePosts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reverse&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">realtime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;posts&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">action&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s1">&amp;#39;create&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">updatePosts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">record&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">realtime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unsubscribe&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">pb&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">posts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡é‚„æœ‰ä¸€å€‹åœ°æ–¹è¦æ³¨æ„ï¼Œå› ç‚º nextjs é è¨­é–‹å•Ÿåš´æ ¼æ¨¡å¼ï¼Œæœƒå°Žè‡´ useEffect åœ¨é–‹ç™¼æ™‚æœƒè¢«åŸ·è¡Œå…©æ¬¡ï¼Œä¹Ÿå°±æ˜¯èªªä½ æœƒ subscribe å…©æ¬¡ï¼Œè€Œä¸”ä¼¼ä¹Žæ²’è¾¦æ³•é—œæŽ‰ï¼Œå”¯ä¸€çš„æ–¹å¼æ˜¯åŽ» &lt;code>next.config.js&lt;/code> æŠŠ &lt;code>reactStrictMode&lt;/code> è¨­æˆ &lt;code>false&lt;/code>&lt;/p>
&lt;h4 id="é¡¯ç¤º-posts">é¡¯ç¤º posts&lt;/h4>
&lt;p>é‚£éº¼ï¼Œç¾åœ¨æˆ‘å€‘å°±æœ‰ä¸€å€‹ä¸€é–‹å§‹æœƒæŠ“å–æ‰€æœ‰ postsã€æœƒå³æ™‚æ›´æ–°çš„ hook å•¦ï¼ŒæŠŠä»–åŠ é€²ç•«é¢è£¡å§&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">Home() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">pb&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">Pocketbase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;http://localhost:8090&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setEmail&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setPassword&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">posts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">usePosts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pb&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">handleLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">collection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;users&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">authWithPassword&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">password&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;h-screen max-w-[800px] mx-auto flex flex-col&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setEmail&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setPassword&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">handleLogin&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Login&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">hr&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">posts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-2 p-2 border-2 border-stone-400 rounded-lg&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">))}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›®å‰ç•«é¢é•·é€™æ¨£&lt;br>
&lt;img src="https://blog.simbafs.cc/images/pocketbase/demo2.png"
loading="lazy"
alt="demo 2"
>&lt;/p>
&lt;h3 id="ç™¼æ–‡">ç™¼æ–‡&lt;/h3>
&lt;p>ç™¼æ–‡å°±æ˜¯åŽ»æˆ³ post çš„ create APIï¼Œé€™éƒ¨ä»½ä¹Ÿå¾ˆç°¡å–®ï¼ŒåŠ å…¥ä¸€å€‹ &lt;code>&amp;lt;textarea&amp;gt;&lt;/code>ï¼ŒæŒ‰ä¸‹å¾ŒæŠŠå…§å®¹é€å‡ºåŽ»å°±å¥½ï¼Œé€™éƒ¨ä»½é•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setContent&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleSend&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">collection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;posts&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">create&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">author&lt;/span>: &lt;span class="kt">pb.authStore.model?.id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setContent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">textarea&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setContent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;content&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">handleSend&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Send&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç™»å…¥å¾Œéš±è—">ç™»å…¥å¾Œéš±è—&lt;/h3>
&lt;p>ç¾åœ¨ç•«é¢ä¸Šæœƒæœ‰ç™»å…¥çš„å…©å€‹è¼¸å…¥æ¡†å’Œä¸€å€‹æŒ‰éˆ•ï¼Œç„¶å¾Œé‚„æœ‰ç™¼æ–‡çš„æ¡†æ¡†å’ŒæŒ‰éˆ•ï¼Œå•é¡Œæ˜¯é€™å…©å€‹éƒ¨ä»½ä¸€å€‹æ˜¯æœªç™»å…¥çš„æ™‚å€™æ‰éœ€è¦é¡¯ç¤ºï¼Œä¸€å€‹æ˜¯å·²ç™»å…¥æ‰èƒ½é¡¯ç¤ºï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦ä¸€å€‹åˆ¤æ–·æœ‰æ²’æœ‰ç™»å…¥çš„æ–¹æ³•ï¼Œæœ€ç°¡å–®å°±æ˜¯åˆ¤æ–· &lt;code>pb.authStore.token !== ''&lt;/code>ï¼Œä½†é€™æœƒé‡åˆ°ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯ nextjs æœƒåš hydrationï¼Œä¼ºæœå™¨çœ‹èµ·ä¾†æ²’æœ‰ç™»å…¥ï¼ˆä¸€å®šä¸æœƒæœ‰ tokenï¼‰ï¼Œæ‰€ä»¥é¡¯ç¤ºç™»å…¥æ¡†æ¡†ï¼Œä½†æ˜¯åœ¨ç€è¦½å™¨ä¸€é–‹å§‹ pocketbase å°±æœƒå¾ˆå¥½å¿ƒå¹«æˆ‘å€‘è¼‰å…¥ &lt;code>authStore&lt;/code>ï¼Œæ‰€ä»¥é¡¯ç¤ºç™¼æ–‡æ¡†æ¡†ï¼Œé€™æ¨£æœƒè·³ hydration errorï¼Œæ‰€ä»¥éœ€è¦å‹•é»žæ‰‹è…³&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">isLogin&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setIsLogin&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// prevent dom tree not the same in server and client, which will cause hydration error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setIsLogin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">token&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">token&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">isLogin&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">textarea&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setContent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;content&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">handleSend&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Send&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setEmail&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;email&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">setPassword&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;password&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">()}&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span> &lt;span class="na">onClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">handleLogin&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Login&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åŠ ä¸Šä½œè€…">åŠ ä¸Šä½œè€…&lt;/h3>
&lt;p>åŸºæœ¬ä¸Šå·²ç¶“å®Œæˆäº†ï¼Œä½†æ˜¯æˆ‘é‚„æƒ³åŠ ä¸Šé¡¯ç¤ºé€™ç¯‡æ–‡ç« çš„ä½œè€…æ˜¯èª°ï¼Œæœƒç”¨åˆ° js-sdk çš„ &lt;code>expand&lt;/code> åŠŸèƒ½ï¼Œä¿®æ”¹ &lt;code>usePosts&lt;/code> å‡½æ•¸ï¼Œé€™è£¡å› ç‚º subscribe å¥½åƒæ²’æœ‰ &lt;code>expand&lt;/code> é¸é …å¯ä»¥åŠ ï¼Œæ‰€ä»¥å†é¡å¤–ç™¼ä¸€å€‹ api call åŽ»æŠ“æœ‰ &lt;code>expand&lt;/code> çš„è³‡æ–™&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">usePosts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pb&lt;/span>: &lt;span class="kt">Pocketbase&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">type&lt;/span> &lt;span class="nx">Post&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">PostsResponse&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">author&lt;/span>: &lt;span class="kt">UsersResponse&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">posts&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">updatePosts&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useReducer&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>: &lt;span class="kt">Post&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="nx">action&lt;/span>: &lt;span class="kt">Post&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Post&lt;/span>&lt;span class="p">[])&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isArray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">action&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">action&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">action&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">collection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;posts&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">getList&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Post&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expand&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;author&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">updatePosts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reverse&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">realtime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscribe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;posts&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">action&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s1">&amp;#39;create&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// updatePosts(e.record)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">collection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;posts&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">getOne&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Post&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">record&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expand&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;author&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">updatePosts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pb&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">realtime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unsubscribe&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">pb&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">posts&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é¡¯ç¤ºæ–‡ç« çš„åœ°æ–¹å°±æ”¹æˆé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-tsx" data-lang="tsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">posts&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-2 p-2 border-2 border-stone-400 rounded-lg&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;{&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">hr&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-sm text-stone-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">by&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">expand&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">author&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ¬Šé™">æ¬Šé™&lt;/h3>
&lt;p>ç›®å‰çœ‹èµ·ä¾†å¾ˆæ£’ï¼Œä½†æ˜¯ä½ æœƒç™¼ç¾ç”¨å…¶ä»–å¸³è™Ÿç™»å…¥çš„è©±å°±æœƒ &lt;code>expand&lt;/code> å°±æœƒå¤±æ•—ï¼Œæ˜¯å› ç‚ºé è¨­çš„ users collection &lt;code>list&lt;/code> å’Œ &lt;code>view&lt;/code> éƒ½æ˜¯åªæœ‰è‡ªå·±æ‰èƒ½çœ‹ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦æŠŠä»–åˆªæŽ‰è®Šæˆç©ºå­—ä¸²ï¼Œé€™æ¨£æ‰å¯ä»¥è®“å…¶ä»–äººä¹ŸæŠ“åˆ° &lt;code>expand&lt;/code>&lt;/p>
&lt;h2 id="æœ€å¾Œæˆæžœ">æœ€å¾Œæˆæžœ&lt;/h2>
&lt;p>ç¨‹å¼ç¢¼å¯ä»¥åœ¨ &lt;a class="link" href="https://github.com/simbafs/pocketbase-experinment/tree/d720bc52b00485ceebb1f6ced4429a30000bee8c" target="_blank" rel="noopener"
>é€™è£¡&lt;/a> æ‰¾åˆ°&lt;/p>
&lt;p>&lt;img src="https://blog.simbafs.cc/images/pocketbase/demo3.png"
loading="lazy"
alt="demo 3"
>
&lt;img src="https://blog.simbafs.cc/images/pocketbase/demo4.png"
loading="lazy"
alt="demo 4"
>&lt;/p></description></item><item><title>Firenvim</title><link>https://blog.simbafs.cc/p/linux/vim/firenvim/</link><pubDate>Fri, 18 Aug 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/vim/firenvim/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/vim/firenvim.png" alt="Featured image of post Firenvim" />&lt;h1 id="firenvim">Firenvim&lt;/h1>
&lt;p>&lt;a class="link" href="https://github.com/glacambre/firenvim" target="_blank" rel="noopener"
>firenvim&lt;/a> æ˜¯ä¸€å€‹å¯ä»¥æŠŠ nvim åµŒå…¥ç€è¦½å™¨çš„æ’ä»¶ï¼Œåƒæ˜¯é€™æ¨£&lt;br>
&lt;img src="https://blog.simbafs.cc/images/firenvim_in_leetcode.png"
loading="lazy"
alt="firenvim in leetcode"
>&lt;/p>
&lt;blockquote>
&lt;p>æˆ‘çš„ nvim ç¾åœ¨æ˜¯ç”¨ &lt;a class="link" href="https://github.com/AstroNvim/AstroNvim" target="_blank" rel="noopener"
>astronvim&lt;/a> è¨­å®šæª”ï¼Œæ‰€ä»¥ä»¥ä¸‹å…§å®¹éƒ½æ˜¯æ”¾åœ¨ &lt;code>~/.config/nvim/lua/user/init.lua&lt;/code> è£¡é¢&lt;/p>
&lt;/blockquote>
&lt;h2 id="é è¨­é—œé–‰-firenvim">é è¨­é—œé–‰ firenvim&lt;/h2>
&lt;p>å¦‚æžœä¸é—œçš„è©±ä»–æœƒåœ¨æ‰€æœ‰ä½ æƒ³æ‰“å­—çš„åœ°æ–¹è·³å‡ºä¾†ï¼Œåƒæ˜¯ google æœå°‹ã€messenger è¼¸å…¥æ¡†ï¼Œç­‰ç­‰ä½ ä¸å¸Œæœ›ä»–å‡ºä¾†çš„åœ°æ–¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-lua" data-lang="lua">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">g&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">firenvim_config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">localSettings&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;.*&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">takeover&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;never&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åœ¨ç‰¹å®šç¶²ç«™é–‹å•Ÿ">åœ¨ç‰¹å®šç¶²ç«™é–‹å•Ÿ&lt;/h2>
&lt;p>é è¨­é—œé–‰å¾Œæˆ‘å€‘é‚„æ˜¯å¯ä»¥ç”¨ &lt;code>&amp;lt;C-e&amp;gt;&lt;/code> é–‹å•Ÿï¼Œä¸éŽæŸäº›ç¶²ç«™é‚„æ˜¯è‡ªå‹•é–‹æœƒæ–¹ä¾¿ä¸€é»žï¼Œæ‰€ä»¥å†åŠ ä¸Š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-lua" data-lang="lua">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">g&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">firenvim_config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">localSettings&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;.*&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">takeover&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;never&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;https://leetcode.com/&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">takeover&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;always&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="filetype">filetype&lt;/h2>
&lt;p>å› ç‚º firenvim é–‹å•Ÿæ™‚çš„ filetype é è¨­æ˜¯ &lt;code>txt&lt;/code>ï¼Œä¸æœƒæœ‰èªžæ³•æç¤ºã€LSP è‡ªå‹•æ•å…¨ç­‰ç­‰åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘å€‘åŠ ä¸Šä¸€é»žè¨­å®šè®“ä»–æœƒè‡ªå‹•çµ¦ filetype&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-lua" data-lang="lua">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">g&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">firenvim_config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">localSettings&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;.*&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">takeover&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;never&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;https://leetcode.com/&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">takeover&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;always&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">polish&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">function&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">-- modified from https://github.com/RRethy/dotfiles/blob/195d7c9bb7be0198e522d05fd528c9fb48121fba/nvim/init.lua#L546&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">local&lt;/span> &lt;span class="kr">function&lt;/span> &lt;span class="nf">autocmd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pattern&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">callback&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vim.api&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">nvim_create_autocmd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pattern&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pattern&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">callback&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">callback&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">autocmd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;BufEnter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="s2">&amp;#34;leetcode.com_*.txt&amp;#34;&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="kr">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="n">vim.o&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">filetype&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;javascript&amp;#34;&lt;/span> &lt;span class="kr">end&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">end&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å­—é«”">å­—é«”&lt;/h2>
&lt;p>å› ç‚ºæˆ‘çš„ terminal å’Œ nvim æœ‰ç”¨åˆ° &lt;a class="link" href="https://www.nerdfonts.com/" target="_blank" rel="noopener"
>nerd å­—é«”&lt;/a>ï¼Œå¯ä»¥é¡¯ç¤ºä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ç¬¦è™Ÿï¼Œä½†æ˜¯ç€è¦½å™¨æ²’æœ‰ï¼Œæ‰€ä»¥è¦æŒ‡å®šå­—é«”çµ¦ firenvim ä½¿ç”¨ï¼Œæˆ‘ç”¨çš„ nerd å­—é«”æ˜¯ &lt;code>BitstromWera Nerd Font Mono&lt;/code>ï¼Œä½ å¯ä»¥æ›æˆä½ å–œæ­¡çš„&lt;/p>
&lt;blockquote>
&lt;p>ref: &lt;a class="link" href="https://github.com/glacambre/firenvim/issues/1275" target="_blank" rel="noopener"
>https://github.com/glacambre/firenvim/issues/1275&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-lua" data-lang="lua">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">opt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">guifont&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;BitstromWera Nerd Font Mono&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">g&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">firenvim_config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">localSettings&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;.*&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">takeover&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;never&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;https://leetcode.com/&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">priority&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">takeover&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;always&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">polish&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">function&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">-- modified from https://github.com/RRethy/dotfiles/blob/195d7c9bb7be0198e522d05fd528c9fb48121fba/nvim/init.lua#L546&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">local&lt;/span> &lt;span class="kr">function&lt;/span> &lt;span class="nf">autocmd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pattern&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">callback&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">vim.api&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">nvim_create_autocmd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pattern&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pattern&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">callback&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">callback&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">autocmd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;BufEnter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="s2">&amp;#34;leetcode.com_*.txt&amp;#34;&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="kr">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="n">vim.o&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">filetype&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;javascript&amp;#34;&lt;/span> &lt;span class="kr">end&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">end&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Homemade CI/CD Workflow</title><link>https://blog.simbafs.cc/p/devops/homemade-cicd-workflow/</link><pubDate>Mon, 07 Aug 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/devops/homemade-cicd-workflow/</guid><description>&lt;img src="https://blog.simbafs.cc/og/devops/homemade-CICD-workflow.png" alt="Featured image of post Homemade CI/CD Workflow" />&lt;h1 id="homemade-cicd-workflow">Homemade CI/CD Workflow&lt;/h1>
&lt;p>å…ˆèªªç‚ºä»€éº¼è¦è‡ªå¹¹ï¼Œ&lt;del>æˆ‘çˆ½&lt;/del>ï¼Œå› ç‚ºå…¶ä»–çš„éƒ½å¤ªè¤‡é›œï¼Œæˆ‘æƒ³è¦ä¹¾æ·¨æ¸…çˆ½ &amp;lt;&amp;ndash; å®˜è…”èªªæ³•&lt;br>
è‡ªå¹¹ CI/CD æœ‰å¹¾å€‹æ­¥é©Ÿè¦å…‹æœ&lt;/p>
&lt;ol>
&lt;li>build image&lt;/li>
&lt;li>é€šçŸ¥ä¼ºæœå™¨ image æœ‰æ›´æ–°&lt;/li>
&lt;li>é‡é–‹ä¼ºæœå™¨
ç¬¬ä¸€é»žä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œæ—¢ç„¶éƒ½åœ¨ GitHub ä¸Šä»£ç®¡åŽŸå§‹ç¢¼äº†ï¼Œç•¶ç„¶å…ˆé¸ GitHub Action å›‰ï¼Œç¬¬äºŒé»žæœ‰å…©å€‹é¸æ“‡ä¸€å€‹æ˜¯ç”±ä¼ºæœå™¨æ¯éš”ä¸€æ®µæ™‚é–“åŽ»æª¢æŸ¥ image æœ‰æ²’æœ‰æ›´æ–°ï¼Œå¯ä»¥ç”¨ &lt;a class="link" href="https://github.com/containrrr/watchtower" target="_blank" rel="noopener"
>é€™å€‹å¥—ä»¶&lt;/a>ï¼Œä½†æ˜¯æˆ‘ä¸å¤ªå–œæ­¡é€™æ¨£ï¼Œå› ç‚ºæˆ‘è¦ºå¾—ä»–æ²’æœ‰ã€ŒæŒçºŒäº¤ä»˜ã€çš„æ„Ÿè¦ºã€‚æˆ‘æƒ³åˆ°äº† webhookï¼Œæ‰€ä»¥æˆ‘è¦æ‰¾ä¸€å€‹å¯ä»¥é–‹ webhook ä¼ºæœå™¨çš„ docker imageã€‚
æŠ€è¡“éƒ½é¸å¥½äº†ï¼Œå°±ä¾†æ…¢æ…¢&lt;del>å¡«å‘&lt;/del>å®Œæˆå›‰ï¼&lt;/li>
&lt;/ol>
&lt;h2 id="build-image">Build Image&lt;/h2>
&lt;p>å…ˆå‡è¨­æˆ‘å€‘çš„ Dockerfile å·²ç¶“å¯«å¥½äº†ï¼Œå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://blog.simbafs.cc/p/linux/docker/dockerfile-collection/#nextjs-with-pnpm" >é€™è£¡&lt;/a>ï¼Œé‚£éº¼ build é€™å€‹å‹•ä½œå°±æ˜¯é€™æ¨£å®šç¾©ï¼Œå¦å¤–æ—¢ç„¶éƒ½åœ¨ GitHub ä¸Š build image äº†ï¼Œå°±é †ä¾¿ç”¨ &lt;a class="link" href="https://ghcr.io" target="_blank" rel="noopener"
>ghcr&lt;/a> å§ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">build image&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> docker build . -t ghcr.io/simbafs/coscup-attendance:latest -t ghcr.io/simbafs/coscup-attendance:${{ steps.vars.outputs.tag }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è£¡é¢æœ‰å€‹å¥‡æ€ªçš„æ±è¥¿ &lt;code>${{ steps.vars.outputs.tag }}&lt;/code>ï¼Œé€™æ˜¯ä»£è¡¨ GitHub Action æŸå€‹æ­¥é©Ÿçš„ç”¢å‡ºè®Šæ•¸ &lt;code>tag&lt;/code>ï¼Œé€™æ˜¯ç‚ºäº†å¹« build å‡ºä¾†çš„ image åŠ ä¸Š tagï¼Œæ‰€ä»¥é–‹æ”¯ç·šä»»å‹™:ã€Œæ‰¾å‡º tagã€&lt;/p>
&lt;h3 id="æ”¯ç·šä»»å‹™æ‰¾å‡º-tag">æ”¯ç·šä»»å‹™ï¼šã€Œæ‰¾å‡º tagã€&lt;/h3>
&lt;p>tag ä¸æœƒæ†‘ç©ºç”Ÿå‡ºä¾†ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦ä¸€å€‹ä¾†æºï¼Œæˆ‘é¸æ“‡ git tagã€‚é‚£éº¼æ ¹æ“šè°·æ­Œå¤§ç¥žçš„é–‹ç¤ºï¼Œç”¨ &lt;code>${GITHUB_REF#refs/*/}&lt;/code> å¯ä»¥æ‰¾å‡ºé€™æ¬¡è§¸ç™¼ Action çš„ tagï¼ˆæˆ–æ˜¯ referenceï¼‰ï¼Œé‚£éº¼æˆ‘å€‘å°±åœ¨ &lt;code>build image&lt;/code> å‰é¢æ–°å¢žä¸€å€‹æ­¥é©Ÿï¼Œä¹‹å¾Œå°±éƒ½å¯ä»¥ç”¨ &lt;code>${{ steps.vars.outputs.tag }}&lt;/code> å–å¾— tag&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set env&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">var&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">echo &amp;#34;tag=${GITHUB_REF#refs/*/}&amp;#34; &amp;gt;&amp;gt; $GITHUB_OUTPUT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="push-image">Push Image&lt;/h2>
&lt;h3 id="ç™»å…¥-ghcr">ç™»å…¥ GHCR&lt;/h3>
&lt;p>æˆ‘å€‘å·²ç¶“æ±ºå®šè¦æŽ¨ä¸Š GHCR äº†ï¼Œé¦–å…ˆä¸€å®šè¦å…ˆç™»å…¥æ‰èƒ½æŽ¨é€çš„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Login to GitHub Container Registry&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker/login-action@v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">registry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ghcr.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">username&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ github.actor }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GITHUB_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„é€™è£¡ &lt;code>${{ github.actor }}&lt;/code> å’Œ &lt;code>${{ secrets.GITHUB_TOKEN }}&lt;/code> æ˜¯ä¸éœ€è¦è¨­å®šçš„ï¼Œä»–æœƒè‡ªå·±ä»£å…¥è©²ä»£çš„å€¼ï¼Œä¸éŽè¦åŽ»è¨­å®šè£¡é¢è¨­å®šèª¿æ•´ï¼Œè®“ Action å¯ä»¥å¯«å…¥ packageï¼Œä½ç½®åœ¨ &lt;code>settings &amp;gt; actions &amp;gt; general &amp;gt; Workflow permissions &amp;gt; read and write permissions&lt;/code>&lt;/p>
&lt;h3 id="push-image-1">Push Image&lt;/h3>
&lt;p>push å°±å¾ˆç°¡å–®ï¼Œä¸€æ¢æŒ‡ä»¤ï¼Œä¸éŽæˆ‘ä¸ç¢ºå®šæ€Žéº¼æŠŠå…©å€‹ tag éƒ½æŽ¨ä¸ŠåŽ»ï¼Œå°±åˆ†æˆå…©æ¢ï¼Œå¦‚æžœç¬¬ä¸€æ¢ä¸å¯«åªæŽ¨ &lt;code>:latest&lt;/code> çš„è©±ï¼Œæ–°çš„ iamge æŽ¨ä¸ŠåŽ»èˆŠçš„å°±æœƒå¤±åŽ» tag è®Šæˆ untagged iamgeï¼Œæ¯”è¼ƒé†œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">push image&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> docker push ghcr.io/simbafs/coscup-attendance:${{ steps.vars.outputs.tag }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> docker push ghcr.io/simbafs/coscup-attendance:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>GitHub Action é‚„æ²’å®Œå–”ï¼&lt;/p>
&lt;/blockquote>
&lt;h2 id="webhook">Webhook&lt;/h2>
&lt;p>webhook èªªç©¿äº†å°±æ˜¯è¨­å®šæ”¶åˆ° http request å¾Œè¦åšä»€éº¼ï¼Œ&lt;del>ç”¨ bash ç¡¬å¹¹ä¹Ÿä¸æ˜¯ä¸è¡Œ&lt;/del>ï¼Œæˆ‘æ‰¾äº†ä¸€å€‹ç”¨ go å¯«çš„ç¨‹å¼ &lt;a class="link" href="https://github.com/adnanh/webhook" target="_blank" rel="noopener"
>webhook&lt;/a>ï¼Œå®šç¾©ä¸€å€‹ JSON æª”ï¼Œé™¤äº†æœ€åŸºæœ¬çš„è§¸ç™¼å¤–ï¼Œé‚„å¯ä»¥ &lt;a class="link" href="https://github.com/adnanh/webhook/blob/master/docs/Hook-Rules.md" target="_blank" rel="noopener"
>è¨­å®šæ¢ä»¶&lt;/a> ï¼ŒåŸºæœ¬çš„å€¼è¦ç›¸ç¬¦ã€regexï¼Œ é‚„æœ‰ HMAC é©—è­‰ï¼Œé€²éšŽä¸€é»žå«æœ‰ and or not ç­‰é‚è¼¯å¯ä»¥ç”¨ã€‚å®˜æ–¹æŽ¨è–¦äº†ä¸‰å€‹ docker imageï¼Œ&lt;a class="link" href="https://github.com/almir/docker-webhook" target="_blank" rel="noopener"
>ç¬¬ä¸€å€‹&lt;/a> æœ€å¤šäººç”¨ï¼Œä½†æ˜¯ä»–æ²’æœ‰ shell å¯ä»¥ debugï¼Œæ‰€ä»¥æˆ‘é¸æ“‡äº† &lt;a class="link" href="https://github.com/Roxedus/docker-webhook" target="_blank" rel="noopener"
>ç¬¬äºŒå€‹&lt;/a>ã€‚&lt;/p>
&lt;h3 id="docker-composeyml">docker-compose.yml&lt;/h3>
&lt;p>é¦–å…ˆæ˜¯ docker-compose.yml&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;3.3&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">webhook&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">roxedus/webhook&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">webhook&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">PUID=0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">PGID=0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">TZ=Asiz/Taipei&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">EXTRA_PARAM=-hotreload -verbose&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#optional&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./hooks.json:/config/hooks/hooks.json&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./script/:/var/webhook/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/volume1/docker/:/var/webhook/docker/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/var/run/docker.sock:/var/run/docker.sock&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/usr/local/bin/docker:/usr/local/bin/docker&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/usr/local/bin/docker-compose:/usr/local/bin/docker-compose&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">5748&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">9000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡ volume æŽ›äº†ä¸€å †æ±è¥¿ï¼Œç¬¬ä¸€å€‹æ˜¯è¨­å®šæª”ï¼Œç¬¬äºŒå€‹æ˜¯æ–¹ä¾¿æ”¾ script å’Œ logï¼Œç¬¬ä¸‰å€‹æ˜¯ç‚ºäº†åˆ°è¦æ›´æ–°çš„ docker å°ˆæ¡ˆç›®éŒ„åŸ·è¡Œ &lt;code>docker-compose&lt;/code>ï¼Œå¾Œé¢ä¸‰å€‹éƒ½æ˜¯ç‚ºäº†å¯ä»¥åŸ·è¡Œ host ä¸Šçš„ docker æŒ‡ä»¤ã€‚&lt;/p>
&lt;h3 id="hooksjson">hooks.json&lt;/h3>
&lt;p>æŽ¥è‘—æ˜¯ &lt;code>hooks.json&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;coscup-attendance&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;execute-command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;/var/webhook/docker/coscup/update.sh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command-working-directory&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;/var/webhook/docker/coscup/&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;trigger-rule&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;match&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;random key&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;parameter&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;source&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;payload&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;key&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>id&lt;/code> å°±æ˜¯ webhook è£¡çš„ id &lt;code>https://localhost:9000/hooks/{id}&lt;/code>ï¼Œç„¶å¾Œæ˜¯è¦åŸ·è¡Œçš„å‘½ä»¤å’Œå·¥ä½œç›®éŒ„ï¼Œå‘½ä»¤å»ºè­°å¯«çµ•å°è·¯å¾‘ï¼Œä¸éŽè·¯å¾‘è¦æ˜¯æŽ›è¼‰åˆ° docker container è£¡é¢å¾Œçš„è·¯å¾‘ï¼Œä¸æ˜¯åœ¨å¤–é¢çš„è·¯å¾‘ã€‚æŽ¥è‘— &lt;code>trigger-rule&lt;/code> æè¿°äº†è¦åœ¨ payloadï¼ˆå°±æ˜¯ http bodyï¼‰ä¸­ &lt;code>key&lt;/code> æ¬„ä½è¦æ˜¯ &lt;code>&amp;quot;random key&lt;/code> æ‰æœƒåŸ·è¡Œå‘½ä»¤ï¼Œè©³ç´°è¨­å®šå¯ä»¥åŽ» &lt;a class="link" href="https://github.com/adnanh/webhook/blob/master/docs/Hook-Rules.md" target="_blank" rel="noopener"
>é€™è£¡&lt;/a> çœ‹ã€‚ä»¥é€™è£¡çš„è¨­å®šç‚ºä¾‹ï¼Œè¦æˆåŠŸåŸ·è¡Œçš„è©±å°±è¦ç”¨ä»¥ä¸‹æ–¹å¼å‘¼å«æ‰æœƒåŸ·è¡Œ &lt;code>update.sh&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ curl -XPOST --header &lt;span class="s1">&amp;#39;Content-Type: application/json&amp;#39;&lt;/span> -d&lt;span class="s1">&amp;#39;{&amp;#34;key&amp;#34;: &amp;#34;random key&amp;#34;}&amp;#39;&lt;/span> http://localhost:9000/hooks/coscup-attendance
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="updatesh">update.sh&lt;/h3>
&lt;p>æŽ¥è‘—å°±æ˜¯ç•¶ webhook åŸ·è¡Œæ™‚è¦åŸ·è¡Œçš„ update.shï¼Œåªæœ‰ä¸‰å€‹æ­¥é©Ÿï¼Œdownã€pullã€up&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nb">cd&lt;/span> /var/webhook/docker/coscup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/local/bin/docker-compose down
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/local/bin/docker-compose pull
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/local/bin/docker-compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="github-action-è§¸ç™¼-webhook">GitHub Action è§¸ç™¼ webhook&lt;/h2>
&lt;p>æœ€å¾Œä¸€æ­¥ï¼Œè¨­å®šè®“ Action build å®Œ image å¾Œå°±ç™¼ request è§¸ç™¼ webhook&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">trigger webhook&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> curl -XPOST --header &amp;#39;Content-Type: application/json&amp;#39; -d&amp;#39;{&amp;#34;key&amp;#34;: &amp;#34;${{ secrets.WEBHOOK_KEY }}&amp;#34;}&amp;#39; &amp;#34;https://webhook.simbafs.cc/hooks/coscup-attendance&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡æŠŠ &lt;code>&amp;quot;random key&lt;/code> æ‹‰å‡ºä¾†æ”¾åˆ° secrets è£¡é¢æ˜¯å› ç‚ºæˆ‘ä¸å¸Œæœ›éš¨ä¾¿ä¸€å€‹äººéƒ½èƒ½é‡å•Ÿ docker containerï¼Œé›–ç„¶ä¸æœƒæ€Žæ¨£ä½†æ˜¯æœå‹™æœƒè¢«ä¸­æ–·ï¼Œæ‰€ä»¥æ‰è¨­è¨ˆé€™å€‹å¯†ç¢¼ï¼Œè‡³æ–¼ç‚ºä»€éº¼ä¸ç”¨ hmac é©—è­‰å‘¢ï¼Ÿå¦‚æžœæ˜¯ &lt;code>hooks.json&lt;/code> æ´©æ¼ï¼Œé‚£éº¼æœ‰æ²’æœ‰é©—è­‰éƒ½æ²’å·®äº†ï¼Œå¦‚æžœæ˜¯å°åŒ…å…§å®¹è¢«æŠ“åˆ°ï¼Œä¹Ÿæ˜¯æ²’å·®äº†ï¼Œå› ç‚ºæˆ‘çš„ payload æ¯æ¬¡éƒ½ä¸€æ¨£ï¼Œå¦‚æžœ &lt;strong>webhook&lt;/strong> èƒ½é©—è­‰æ™‚é–“ä¹‹é¡žçš„æ‰æœƒæœ‰ç”¨ï¼Œæ‰€ä»¥å–®ç´”é©— value å°±å¯ä»¥äº†ï¼Œè€Œä¸”æˆ‘éƒ½æ˜¯èµ° httpsï¼Œè¦æ´©æ¼ä¹Ÿæ²’é‚£éº¼å®¹æ˜“ã€‚&lt;/p>
&lt;h2 id="å®Œæ•´-github-action">å®Œæ•´ GitHub Action&lt;/h2>
&lt;p>èªªäº†é€™éº¼å¤š GitHub Action éƒ½é‚„æ˜¯é›¶ç¢Žçš„ç‰‡æ®µï¼Œä¸‹é¢å°±æ˜¯å®Œæ•´çš„è¨­å®šæª”ï¼Œæˆ‘æŠŠ build, push å’Œ webhook åˆ†æˆå…©å€‹ jobs æ˜¯å› ç‚ºæˆ‘å…‰æ˜¯æ¸¬è©¦ webhook å°±å¥½å¹¾æ¬¡ï¼Œæ¯æ¬¡é‡è·‘ build çœŸçš„å¥½ä¹…ï¼ˆæŠ¹æ±—ã€‚å¦å¤–å¸Œæœ›ä»¥å¾Œæœ‰æ©Ÿæœƒèƒ½æŠŠ &lt;code>build-and-push&lt;/code> æ‹†åˆ†çš„æ›´ç´°ã€‚ç„¶å¾Œé–‹é ­æˆ‘æœ‰è¨­å®šåªæœ‰ç•¶ git tag ç¬¦åˆ &lt;code>v*.*.*&lt;/code> æ‰æœƒè§¸ç™¼é€™å€‹ Actionï¼Œä¸»è¦æ˜¯å¸Œæœ› &lt;code>${{ steps.vars.outputs.tag }}&lt;/code> æŠ“åˆ°çš„éƒ½æ˜¯å¯ä»¥ç”¨çš„ç‰ˆæœ¬é‚Šè™Ÿï¼Œä¸æœƒæ˜¯æ²’æœ‰ä¸Šæ¨™ç±¤çš„ mainï¼Œè€Œä¸”å¯ä»¥æŽ§åˆ¶ä»€éº¼æ™‚å€™è¦ç™¼æ–°ç‰ˆæœ¬ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy Images to GHCR&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tags&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;v*.*.*&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build-and-push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Checkout GitHub Action&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Login to GitHub Container Registry&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker/login-action@v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">registry&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ghcr.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">username&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ github.actor }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GITHUB_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set env&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">vars&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">echo &amp;#34;tag=${GITHUB_REF#refs/*/}&amp;#34; &amp;gt;&amp;gt; $GITHUB_OUTPUT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">echo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">echo ${{ steps.vars.outputs.tag }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">build image&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> docker build . -t ghcr.io/simbafs/coscup-attendance:latest -t ghcr.io/simbafs/coscup-attendance:${{ steps.vars.outputs.tag }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">push image&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> docker push ghcr.io/simbafs/coscup-attendance:${{ steps.vars.outputs.tag }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> docker push ghcr.io/simbafs/coscup-attendance:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cd&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">needs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">build-and-push]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">trigger webhook&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> curl -XPOST --header &amp;#39;Content-Type: application/json&amp;#39; -d&amp;#39;{&amp;#34;key&amp;#34;: &amp;#34;${{ secrets.WEBHOOK_KEY }}&amp;#34;}&amp;#39; &amp;#34;https://webhook.simbafs.cc/hooks/coscup-attendance&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Dockerfile Collection</title><link>https://blog.simbafs.cc/p/linux/docker/dockerfile-collection/</link><pubDate>Sun, 06 Aug 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/docker/dockerfile-collection/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/docker/Dockerfile-collection.png" alt="Featured image of post Dockerfile Collection" />&lt;h1 id="dockerfile-collection">Dockerfile Collection&lt;/h1>
&lt;h2 id="nextjs-with-pnpm">Nextjs with pnpm&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> node:20-slim AS base&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">PNPM_HOME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/pnpm&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">NODE_ENV&lt;/span>&lt;span class="o">=&lt;/span>production
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ENV&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PNPM_HOME&lt;/span>&lt;span class="s2">:&lt;/span>&lt;span class="nv">$PATH&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> corepack enable&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . /app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> base AS prod-deps&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nv">id&lt;/span>&lt;span class="o">=&lt;/span>pnpm,target&lt;span class="o">=&lt;/span>/pnpm/store pnpm install --prod --frozen-lockfile&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># RUN --mount=type=cache,id=pnpm,target=/pnpm/store pnpm install --prod --frozen-lockfile&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> base AS build&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nv">id&lt;/span>&lt;span class="o">=&lt;/span>pnpm,target&lt;span class="o">=&lt;/span>/pnpm/store pnpm install --frozen-lockfile &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> pnpm run build&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># RUN --mount=type=cache,id=pnpm,target=/pnpm/store pnpm install --frozen-lockfile&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># RUN pnpm run build&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> base&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>prod-deps /app/node_modules /app/node_modules&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>build /app/.next /app/.next&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 3000&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="s2">&amp;#34;pnpm&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;start&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>modified from &lt;a class="link" href="https://pnpm.io/docker" target="_blank" rel="noopener"
>https://pnpm.io/docker&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>SSH TCP/IP Forward</title><link>https://blog.simbafs.cc/p/golang/ssh-tcpip-forward/</link><pubDate>Fri, 14 Jul 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/ssh-tcpip-forward/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/ssh-tcpip-forward.png" alt="Featured image of post SSH TCP/IP Forward" />&lt;h1 id="ssh-tcpip-forward">Ssh TCP/IP Forward&lt;/h1>
&lt;p>é€™ç¯‡æ–‡ç« æ˜¯è¬›æ€Žéº¼ç”¨ golang å¯«ä¸€å€‹ ssh server å¯ä»¥åŸ·è¡Œ tcp è½‰ç™¼ï¼Œé€™æ–¹é¢çš„è³‡æ–™åœ¨ Google è¬›çš„ç‰¹åˆ¥å°‘ï¼Œæœ‰å¯èƒ½éƒ½è¢«ã€Œæˆ‘çš„ ssh å£žæŽ‰äº†ä¸æœƒè½‰ç™¼æ€Žéº¼è¾¦ã€æ·¹æ²’äº†ï¼Œç„¶å¾Œé¡žä¼¼çš„å°ˆæ¡ˆåˆå¤ªè¤‡é›œå¾ˆé›£æ‡‚ã€‚ç ”ç©¶å…©å¤©çš„çµè«–æ˜¯åŽ»çœ‹ RFCï¼ˆRequest For Commentsï¼‰ æœ€å¿«ï¼Œè£¡é¢å¯«å¾—æœ€æ¸…æ¥šã€‚&lt;/p>
&lt;p>ç›®å‰é€™å€‹ç‰ˆæœ¬åªé©ç”¨æŠŠæœ¬åœ°ç«¯å£é–‹åˆ°ä¼ºæœå™¨ä¸Šï¼Œä¹Ÿå°±æ˜¯ &lt;code>ssh -R&lt;/code>ï¼Œåå‘çš„ &lt;code>ssh -L&lt;/code> çš„ä¹‹å¾Œå†ç ”ç©¶è£œå……ã€‚&lt;/p>
&lt;h2 id="é–‹å•Ÿä¼ºæœå™¨">é–‹å•Ÿä¼ºæœå™¨&lt;/h2>
&lt;p>è·Ÿ &lt;a class="link" href="../ssh-server" >golang/ssh-server&lt;/a> ä¸€æ¨£ï¼Œå…ˆé–‹å•Ÿ tcp é€£æŽ¥åŸ ï¼Œä¸¦åœ¨åœ¨ä¸Šé¢é–‹ ssh ä¼ºæœå™¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">GetHostKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">keyPath&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Signer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">privateBytes&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ioutil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">keyPath&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">private&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ParsePrivateKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">privateBytes&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">private&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">format&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kd">interface&lt;/span>&lt;span class="p">{})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">format&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kd">interface&lt;/span>&lt;span class="p">{})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s">&amp;#34;: &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">StartTcpServer&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Oops, there&amp;#39;s an error: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">StartTcpServer&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;StartTcpServer&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">private&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetHostKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;./key/host&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;unable to read private key: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConfig&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NoClientAuth&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConf&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AddHostKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">private&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ListenTCP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TCPAddr&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IP&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IPv4&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Port&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2222&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;unable to listen: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;TCP listener closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Listening on %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Addr&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AcceptTCP&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to accept connection: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">HandleSSHConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConf&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">HandleSSHConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tcpConn&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TCPConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConf&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConfig&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;HandleSSHConnection&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;TCP connection from %s closed\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SetKeepAlive&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reqs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewServerConn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConf&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to handshake: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SSH connection from %s closed\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Connection from %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="global-request">Global Request&lt;/h2>
&lt;p>æŽ¥ä¸‹ä¾†å°±è·Ÿ &lt;a class="link" href="../ssh-server" >golang/ssh-server&lt;/a> ä¸ä¸€æ¨£äº†ï¼Œä¹‹å‰çš„ &lt;code>ptr-req&lt;/code> è·Ÿ &lt;code>exec&lt;/code>ã€&lt;code>env&lt;/code> éƒ½è¢«æ”¾åœ¨ &lt;a class="link" href="https://www.rfc-editor.org/rfc/rfc4254#section-6" target="_blank" rel="noopener"
>RFC4254 section 6&lt;/a> ä¸‹ï¼Œè€Œ &lt;code>tcpip-forward&lt;/code> å»æ˜¯åœ¨ &lt;a class="link" href="https://www.rfc-editor.org/rfc/rfc4254#section-7" target="_blank" rel="noopener"
>RFC4254 section 7&lt;/a>ï¼Œæ„æ€æ˜¯ä»–å€‘å®Œå…¨ä¸ä¸€æ¨£ã€‚section 6 ä¸‹çš„æ±è¥¿éƒ½æ˜¯ &lt;strong>Interactive Session&lt;/strong>ï¼Œè¦ &lt;strong>å®¢æˆ¶ç«¯&lt;/strong> å…ˆé–‹ channelï¼ˆ&lt;code>SSH_MSG_CHANNEL_OPEN&lt;/code>ï¼‰å†é€ channel requestï¼ˆ&lt;code>SSH_MSG_CHANNEL_REQUEST&lt;/code>ï¼‰ æ±ºå®š channel é¡žåˆ¥ã€‚section 7 ä¸‹çš„ tcpip forwarding å‰‡æ˜¯å…ˆé€ Global requestï¼ˆ&lt;code>SSH_MSG_GLOBAL_REQUEST&lt;/code>ï¼‰å‘Šè¨´ä¼ºæœå™¨è¦åœ¨å“ªå€‹ä½å€ä¸Šé–‹å•Ÿå“ªå€‹ portï¼Œä¼ºæœå™¨èªª ok å¾Œå†ç”±&lt;strong>ä¼ºæœå™¨&lt;/strong>é–‹å•Ÿ channelï¼ˆæ³¨æ„é€™è£¡ channel ç”±èª°é–‹å•Ÿä¸ä¸€æ¨£ï¼‰&lt;/p>
&lt;h3 id="channelsession-èˆ‡-request">channelã€session èˆ‡ request&lt;/h3>
&lt;h4 id="channel">Channel&lt;/h4>
&lt;p>channel å’Œ request æ˜¯åœ¨ ssh protocol ä¸­åœ°ä½ç›¸åŒçš„å…©å€‹æ±è¥¿ï¼Œä¸€å€‹æ˜¯èƒ½æŒçºŒè®€å¯«çš„æ±è¥¿ï¼Œåœ¨ golang ä¸­æ˜¯ä¸€å€‹å¯¦ä½œäº† &lt;a class="link" href="https://pkg.go.dev/io#ReadWriter" target="_blank" rel="noopener"
>io.ReadWriter&lt;/a>ã€‚ä¹Ÿå°±æ˜¯èªªå¯ä»¥æŠŠä»–ä¸Ÿé€² &lt;code>fmt.Fprintf&lt;/code> ä¹‹é¡žçš„å‡½æ•¸çš„ç¬¬ä¸€å€‹åƒæ•¸&lt;/p>
&lt;h4 id="session">Session&lt;/h4>
&lt;p>session channel å’Œ tcpip-forward channel éƒ½æ˜¯ channel çš„ä¸€å€‹é¡žåž‹ï¼Œå®šç¾©åœ¨ &lt;a class="link" href="https://www.rfc-editor.org/rfc/rfc4254#section-5" target="_blank" rel="noopener"
>RFC4254 section 5&lt;/a>ï¼Œæ˜¯æ¯” channel ä½Žä¸€éšŽçš„æ¦‚å¿µ&lt;/p>
&lt;h4 id="request">Request&lt;/h4>
&lt;p>request æ˜¯å–®æ¬¡ä¸€ä¾†ä¸€å›žçš„é€šè¨Šï¼Œåˆ†æˆ Global requestï¼ˆ&lt;code>SSH_MSG_GLOBAL_REQUEST&lt;/code>ï¼‰ å’Œ Channel requestï¼ˆ&lt;code>SSH_MSG_CHANNEL_REQUEST&lt;/code>ï¼‰ï¼ŒGlobal request ç›®å‰æˆ‘åªçœ‹åˆ°åœ¨é–‹å•Ÿ tcpip-forward channel æ™‚æœƒç”¨åˆ°ï¼Œè€Œ Channel request æœƒåœ¨é–‹å•Ÿ session channel å¾Œé–‹å•Ÿ ptyã€åŸ·è¡Œå‘½ä»¤ã€é–‹å•Ÿ x11 forwardingã€å‚³éžç’°å¢ƒè®Šæ•¸ç­‰ç­‰ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“ä½ä»€éº¼ x11 forwarding å’Œ tcpip forwarding ä¸ä¸€æ¨£ï¼‰ã€‚è·Ÿ HTTP ä¸€æ¨£ï¼Œrequest éƒ½æ˜¯ç”¨åœ¨è«‹æ±‚æŸç¨®è³‡æºçš„æ™‚å€™ä½¿ç”¨&lt;/p>
&lt;h3 id="global-request-1">Global request&lt;/h3>
&lt;p>å›žåˆ°ç¨‹å¼ï¼Œæˆ‘å€‘éœ€è¦è™•ç†ä¹‹å‰æ²’è™•ç†çš„ global requestï¼Œè€Œ channelï¼ˆç”±å®¢æˆ¶ç«¯é–‹å•Ÿçš„ï¼‰å°±ä¸éœ€è¦äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">HandleSSHConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tcpConn&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TCPConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConf&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConfig&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">reqs&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;tcpip-forward&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">HandleTCPForwardRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Global Req: Unknown request: %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æŠ“å‡º-addr-å’Œ-port">æŠ“å‡º addr å’Œ port&lt;/h3>
&lt;p>å› ç‚ºæˆ‘å€‘è¦æ±‚åœ¨ä¼ºæœå™¨ä¸ŠæŸå€‹é€£æŽ¥åŸ çš„å°åŒ…è¦é€éŽ ssh è½‰åˆ°å®¢æˆ¶ç«¯ä¸ŠæŸå€‹é€£æŽ¥åŸ ï¼Œå› æ­¤è¦å…ˆå¾ž Global request ä¸­æŠ“å‡º addr å’Œ portï¼Œæ ¹æ“š RFC çš„æè¿°ï¼Œé€™å€‹ Global request æœƒé•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">byte SSH_MSG_GLOBAL_REQUEST
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">string &amp;#34;tcpip-forward&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">boolean want reply
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">string address to bind (e.g., &amp;#34;0.0.0.0&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">uint32 port number to bind
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‰ä¸‰å€‹æ˜¯å›ºå®šçš„æ¬„ä½ golang æœƒå…ˆå¹«æˆ‘å€‘è™•ç†ï¼Œå¾Œé¢å…©å€‹æœƒè¢«æ”¾åœ¨ &lt;code>req.paylaod&lt;/code> è£¡é¢ï¼Œæˆ‘å€‘éœ€è¦å®šç¾©ä¸€å€‹ &lt;code>struct&lt;/code> ç„¶å¾Œç”¨ &lt;code>ssh.Unmarshal&lt;/code> æŠŠä»–å¾ž &lt;code>[]byte&lt;/code> è½‰æˆæˆ‘å€‘è¦çš„è³‡æ–™ï¼Œé€™è£¡æ¬„ä½åç¨±ä¸é‡è¦ï¼Œé †åºæ¯”è¼ƒé‡è¦ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">HandleTCPForwardRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConn&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;HandleTCPForwardRequest&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">payload&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Addr&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Port&lt;/span> &lt;span class="kt">uint32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Unmarshal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to unmarshal payload: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcpip-forward: %s:%d\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Port&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;want reply: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WantReply&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é–‹å•Ÿ-tcp-é€£æŽ¥åŸ ">é–‹å•Ÿ TCP é€£æŽ¥åŸ &lt;/h3>
&lt;p>æœ‰äº† &lt;code>addr&lt;/code> å’Œ &lt;code>port&lt;/code> å¾Œï¼Œå°±å¯ä»¥é–‹å•Ÿ tcp é€£æŽ¥åŸ ï¼Œå¦‚æžœæ²’å•é¡Œå°±å¯ä»¥å‘Šè¨´å®¢æˆ¶ç«¯ä¸€åˆ‡ ok äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">HandleTCPForwardRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConn&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{..&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%s:%d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Port&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to dial: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;listener closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è½‰ç™¼-tcp-å°åŒ…">è½‰ç™¼ TCP å°åŒ…&lt;/h3>
&lt;p>æŽ¥è‘—ç•¶ä¼ºæœå™¨ä¸Šæ–°é–‹çš„ TCP é€£æŽ¥åŸ å¾Œï¼Œå¦‚æžœæœ‰æ–°çš„é€£ç·šé€²ä¾†ï¼Œå°±é–‹å•Ÿä¸€å€‹ &lt;code>forwarded-tcpip&lt;/code> çš„ channelï¼Œç„¶å¾Œå°±æ˜¯æŠŠå…©é‚Šä¸²èµ·ä¾†äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">HandleTCPForwardRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConn&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{..&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Accept&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to accept: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">OpenChannel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;forwarded-tcpip&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Marshal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Addr&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Port&lt;/span> &lt;span class="kt">uint32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">OriginAddr&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">OriginPort&lt;/span> &lt;span class="kt">uint32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Port&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">().(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TCPAddr&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">Port&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to open channel: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;channel closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">forwardData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">channel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¸²èµ·å…©é‚Š">ä¸²èµ·å…©é‚Š&lt;/h3>
&lt;p>ç•¶ä¸Šé¢ä¸€åˆ‡å°±ç·’ï¼Œä¸‹é¢å°±æ˜¯ç°¡å–®çš„ proxyï¼Œå› ç‚ºè³‡æ–™æ˜¯é›™å‘çš„ï¼Œæ‰€ä»¥éœ€è¦å…©å€‹ &lt;code>io.Copy&lt;/code> ä¾†ä¸²è³‡æ–™ï¼Œç•¶ä»»æ„ä¸€å€‹çµæŸå¾Œï¼ˆEOFï¼‰ï¼Œå°±è¦æŠŠå…©å€‹éƒ½é—œæŽ‰ï¼Œç„¶å¾ŒçµæŸé€™å€‹å‡½å¼ã€‚é¦–å…ˆæ˜¯ã€Œä»»æ„ä¸€å€‹çµæŸå°±&amp;hellip;ã€é€™å€‹ä»»å‹™ï¼Œç”¨ &lt;code>sync.Once&lt;/code> ç¢ºä¿åªæœƒè¢«åŸ·è¡Œä¸€æ¬¡ï¼Œç„¶å¾Œç”¨ä¸€å€‹ unbuffer ä¾†é˜»æ­¢å‡½æ•¸çµæŸï¼ˆå› ç‚ºå…©å€‹ &lt;code>io.Copy&lt;/code> éƒ½æ˜¯åœ¨ goroutine è£¡ï¼Œä¸æœƒé˜»å¡žå‡½æ•¸ï¼‰ã€‚é€™è£¡å¦‚æžœæ²’æœ‰ç¢ºå¯¦æŠŠæ‰€æœ‰æ±è¥¿é—œé–‰æœƒå°Žè‡´åªèƒ½ç™¼ä¸€æ¬¡ tcp é€£ç·šï¼Œç„¶å¾Œä¼ºæœå™¨å°±å¡ä½&amp;hellip;ï¼ˆé€™å€‹æ±è¥¿é™°äº†æˆ‘å¥½ä¹…ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">forwardData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">conn&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">channel&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Channel&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;forwardData&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">once&lt;/span> &lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Once&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wait&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">close&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;forwardData closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wait&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Copy data from local connection to remote channel
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Copy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">channel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to copy from local to remote: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;EOF from remote&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">once&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Do&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Copy data from remote channel to local connection
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Copy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">channel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to copy from remote to local: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;EOF from local&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">once&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Do&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="nx">wait&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®Œæ•´ç¨‹å¼ç¢¼">å®Œæ•´ç¨‹å¼ç¢¼&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;span class="lnt">184
&lt;/span>&lt;span class="lnt">185
&lt;/span>&lt;span class="lnt">186
&lt;/span>&lt;span class="lnt">187
&lt;/span>&lt;span class="lnt">188
&lt;/span>&lt;span class="lnt">189
&lt;/span>&lt;span class="lnt">190
&lt;/span>&lt;span class="lnt">191
&lt;/span>&lt;span class="lnt">192
&lt;/span>&lt;span class="lnt">193
&lt;/span>&lt;span class="lnt">194
&lt;/span>&lt;span class="lnt">195
&lt;/span>&lt;span class="lnt">196
&lt;/span>&lt;span class="lnt">197
&lt;/span>&lt;span class="lnt">198
&lt;/span>&lt;span class="lnt">199
&lt;/span>&lt;span class="lnt">200
&lt;/span>&lt;span class="lnt">201
&lt;/span>&lt;span class="lnt">202
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;io&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;io/ioutil&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;net&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;golang.org/x/crypto/ssh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">GetHostKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">keyPath&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Signer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">privateBytes&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ioutil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">keyPath&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">private&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ParsePrivateKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">privateBytes&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">private&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">format&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kd">interface&lt;/span>&lt;span class="p">{})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">format&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span> &lt;span class="o">...&lt;/span>&lt;span class="kd">interface&lt;/span>&lt;span class="p">{})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s">&amp;#34;: &amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">StartTcpServer&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Oops, there&amp;#39;s an error: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">StartTcpServer&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;StartTcpServer&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">private&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetHostKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;./key/host&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;unable to read private key: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConfig&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NoClientAuth&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConf&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AddHostKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">private&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ListenTCP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TCPAddr&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IP&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IPv4&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Port&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2222&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;unable to listen: %w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;TCP listener closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Listening on %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Addr&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AcceptTCP&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to accept connection: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">HandleSSHConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConf&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">HandleSSHConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tcpConn&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TCPConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConf&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConfig&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;HandleSSHConnection&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;TCP connection from %s closed\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SetKeepAlive&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reqs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewServerConn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConf&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to handshake: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SSH connection from %s closed\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Connection from %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">reqs&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;tcpip-forward&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">HandleTCPForwardRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Global Req: Unknown request: %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">HandleTCPForwardRequest&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConn&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;HandleTCPForwardRequest&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">payload&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Addr&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Port&lt;/span> &lt;span class="kt">uint32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Unmarshal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to unmarshal payload: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcpip-forward: %s:%d\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Port&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;want reply: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WantReply&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%s:%d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Port&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to dial: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;listener closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Accept&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to accept: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">OpenChannel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;forwarded-tcpip&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Marshal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Addr&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Port&lt;/span> &lt;span class="kt">uint32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">OriginAddr&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">OriginPort&lt;/span> &lt;span class="kt">uint32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Addr&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Port&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">().(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TCPAddr&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">Port&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to open channel: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;channel closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="nf">forwardData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">channel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">forwardData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">conn&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">channel&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Channel&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">logf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetLogf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;forwardData&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">once&lt;/span> &lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Once&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wait&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">close&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;forwardData closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wait&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Copy data from local connection to remote channel
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Copy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">channel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to copy from local to remote: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;EOF from remote&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">once&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Do&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Copy data from remote channel to local connection
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Copy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">channel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Unable to copy from remote to local: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">logf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;EOF from local&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">once&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Do&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="nx">wait&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å¿ƒå¾—">å¿ƒå¾—&lt;/h2>
&lt;p>ssh protocol æ¯”æˆ‘æƒ³åƒçš„é‚„è¦è¤‡é›œï¼Œåƒæ˜¯ tcp forwarding å’Œ x11 forwarding ç‚ºä»€éº¼å·®é€™éº¼å¤šï¼Ÿå€‹äººçŒœæ¸¬å¯èƒ½æ˜¯è·Ÿä»–å€‘åœ¨ OSI æ¨¡åž‹ä¸­ä¸åŒå±¤çš„é—œä¿‚ã€‚è€Œä¸€å€‹æ±è¥¿è¦çœŸçš„äº†è§£ä»–åœ¨å¹¹éº»é‚„æ˜¯è®€æ–‡ä»¶æœ€å¿«ï¼Œå¦‚æžœæˆ‘åªçœ‹ Google ä¸Šåˆ¥äººçš„æ–‡ç« ã€ç¨‹å¼ç¢¼å’Œ ChatGPT çš„å”¬çˆ›ï¼Œä¹Ÿè¨±æˆ‘åœ¨ Global request ä¹‹å‰å°±æ”¾æ£„äº†ï¼Œå†ä¸ç„¶ä¹Ÿæœƒè¢« tcpip-forward channel å’Œ session chennel ç™¼èµ·äººä¸åŒå¡ä½åšä¸ä¸‹åŽ»ã€‚&lt;/p></description></item><item><title>SSH Server</title><link>https://blog.simbafs.cc/p/golang/ssh-server/</link><pubDate>Wed, 12 Jul 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/ssh-server/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/ssh-server.png" alt="Featured image of post SSH Server" />&lt;h1 id="ssh-server">SSH Server&lt;/h1>
&lt;h2 id="é–‹å•Ÿä¼ºæœå™¨">é–‹å•Ÿä¼ºæœå™¨&lt;/h2>
&lt;h3 id="å»ºç«‹è¨­å®š">å»ºç«‹è¨­å®š&lt;/h3>
&lt;p>&lt;code>main&lt;/code> å‡½æ•¸é–‹é ­å…ˆå»ºç«‹äº† &lt;code>ssh.ServerConfig&lt;/code>ã€æŠŠä¼ºæœå™¨çš„é‡‘é‘°è®€é€²ä¾†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// An SSH server is represented by a ServerConfig, which holds
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// certificate details and handles authentication of ServerConns.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">sshConfig&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConfig&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NoClientAuth&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can generate a keypair with &amp;#39;ssh-keygen -t rsa -C &amp;#34;test@example.com&amp;#34;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">privateBytes&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ioutil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;./key/host&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Failed to load private key (./id_rsa)&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">private&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ParsePrivateKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">privateBytes&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Failed to parse private key&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AddHostKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">private&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="tcp-ç«¯å£">TCP ç«¯å£&lt;/h3>
&lt;p>é–‹å•Ÿä¸€å€‹ tcp ç«¯å£ï¼Œä¸¦ç­‰å¾…é€²ä¾†çš„é€£ç·š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Once a ServerConfig has been configured, connections can be accepted.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcp4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;:2222&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatalf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;failed to listen on *:2222&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Accept all connections
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;listening on %s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;:2222&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Accept&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;failed to accept incoming connection (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹-ssh-é€£ç·š">å»ºç«‹ SSH é€£ç·š&lt;/h3>
&lt;p>æœ‰ tcp é€£ç·šé€²ä¾†å¾Œï¼Œç”¨ä»–å»ºç«‹ ssh é€£ç·šï¼Œäº¤æ¡åœ¨é€™è£¡ç™¼ç”Ÿã€‚ç„¶å¾ŒæŠŠ chans å‚³ä¸‹åŽ»çµ¦å…¶ä»–å‡½æ•¸è™•ç†ï¼Œä½†ç‚ºä»€éº¼æŠŠ sshConn ä¸ŸæŽ‰ä¸ç†ï¼Ÿä¸çŸ¥é“&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Before use, a handshake must be performed on the incoming net.Conn.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">chans&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reqs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewServerConn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConfig&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;failed to handshake (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Check remote address
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;new ssh connection from %s (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ClientVersion&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Print incoming out-of-band Requests
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="nf">handleRequests&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">reqs&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Accept all channels
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="nf">handleChannels&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chans&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>handleRequests&lt;/code> åªæ˜¯ç´€éŒ„è€Œå·²ï¼Œä½†æˆ‘çœ‹åˆ°å…¶ä»–ç¯„ä¾‹é‚„æœƒåŠ ä¸Š &lt;code>go ssh.DiscardRequests(reqs)&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">handleRequests&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">reqs&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">reqs&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;recieved out-of-band request: %+v&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ssh-channel">SSH Channel&lt;/h2>
&lt;h3 id="å»ºç«‹-ssh-channel">å»ºç«‹ SSH Channel&lt;/h3>
&lt;p>æŽ¥è‘—æ˜¯ &lt;code>handleChannels&lt;/code>ï¼Œä¸»è¦çš„è™•ç†éƒ½åœ¨é€™è£¡é¢ï¼Œå‡½æ•¸ä¸€é–‹å§‹å…ˆç”¨ &lt;code>for&lt;/code> ç­‰å¾…æ–°çš„ channel(&lt;code>ssh.NewChannel&lt;/code>) å¾ž &lt;code>chans(&amp;lt;- ssh.NewChannel)&lt;/code> é€²ä¾†ï¼Œå¦‚æžœ &lt;code>ChannelType&lt;/code> ä¸æ˜¯ &lt;code>&amp;quot;session&amp;quot;&lt;/code> çš„è©±ï¼Œå°±ä¸ŸæŽ‰ä»–ã€‚
æŒ‰ç…§é€™è£¡çš„è¨­è¨ˆï¼Œçœ‹ä¾†ä¸€æ¬¡é€£ç·šå¯ä»¥é–‹ä¸åªä¸€å€‹ channelï¼Œä½†æˆ‘é‚„æ²’æƒ³åˆ°éŽåŽ»ç¶“é©—å“ªè£¡ç”¨åˆ°äº†é€™å€‹æ±è¥¿&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">handleChannels&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chans&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NewChannel&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Service the incoming Channel channel.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="nx">newChannel&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">chans&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Channels have a type, depending on the application level
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// protocol intended. In the case of a shell, the type is
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// &amp;#34;session&amp;#34; and ServerShell may be used to present a simple
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// terminal interface.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">t&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">newChannel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ChannelType&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="nx">t&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="s">&amp;#34;session&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">newChannel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UnknownChannelType&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;unknown channel type: %s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">requests&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">newChannel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Accept&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;could not accept channel (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹-ptyè™›æ“¬çµ‚ç«¯æ©Ÿ">å»ºç«‹ PTYï¼ˆè™›æ“¬çµ‚ç«¯æ©Ÿï¼‰&lt;/h3>
&lt;p>æŽ¥è‘—å»ºç«‹ä¸€å€‹ pty(Pseudo Terminal)ï¼Œå¯ä»¥æƒ³åƒæˆæ‰“é–‹çµ‚ç«¯æ©Ÿï¼Œå¿½ç•¥é€™æ­¥çš„è©±æœƒåœ¨ client æ”¶åˆ° &lt;code>PTY allocation request failed on channel 0&lt;/code>ï¼Œä½†å¿½ç•¥æŽ‰ä¹Ÿèƒ½å‹•ï¼Œæˆ–æ˜¯ ssh åŠ ä¸Š &lt;code>-T&lt;/code> é¸é …ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">handleChannels&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chans&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NewChannel&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Service the incoming Channel channel.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="nx">newChannel&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">chans&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// allocate a terminal for this channel
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;creating pty...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Create new pty
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tty&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">pty&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Open&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;could not start pty (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">shell&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">shell&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Getenv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SHELL&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">shell&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">shell&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">DEFAULT_SHELL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è™•ç†-ssh-request">è™•ç† SSH Request&lt;/h3>
&lt;p>ç¾åœ¨ ssh é€£ç·šï¼ˆconnï¼‰ã€é€šé“ï¼ˆchannelï¼‰éƒ½é–‹å¥½äº†ï¼Œå°±ç­‰è«‹æ±‚ï¼ˆrequestï¼‰é€²ä¾†äº†ï¼Œç”¨ goroutine æŠŠä¸€å€‹ for è¿´åœˆåŒ…èµ·ä¾†ï¼Œåœ¨è¿´åœˆè£¡è™•ç†é€²ä¾†çš„è«‹æ±‚ï¼Œä¸¦ç”¨ &lt;code>switch&lt;/code> æŠŠä¸åŒçš„ type åˆ†é–‹è™•ç†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">handleChannels&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chans&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NewChannel&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Service the incoming Channel channel.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="nx">newChannel&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">chans&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">requests&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">requests&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%v %s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;exec&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;shell&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;pty-req&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;window-change&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">ok&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;declining %s request...&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ok&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}(&lt;/span>&lt;span class="nx">requests&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="exec">exec&lt;/h4>
&lt;p>é¦–å…ˆæ˜¯ &lt;code>exec&lt;/code>ï¼Œ&lt;code>exec&lt;/code> è«‹æ±‚æ˜¯æŒ‡é€éŽ &lt;code>ssh localhost -p 2222 'ls -al&lt;/code> é€™æ¨£ç™¼å‡ºçš„ ssh è«‹æ±‚ï¼Œå› ç‚ºä¸éœ€è¦ ptyï¼Œåªè¦åŸ·è¡Œå‘½ä»¤å†æŠŠ stdoutã€stderr ä¸Ÿå›žåŽ»å°±å¥½ï¼Œå› æ­¤æ¯”è¼ƒç°¡å–®&lt;br>
é¦–å…ˆå…ˆå¾ž payload è£¡å–å‡ºå‘½ä»¤æœ¬äººï¼Œä¾‹å¦‚å‘½ä»¤æ˜¯ &lt;code>ls -al&lt;/code> çš„è©± payload æœƒé•·é€™æ¨£ &lt;code>[0 0 0 6 108 115 32 45 97 108]&lt;/code>ï¼Œæœ€å‰é¢æ˜¯ä¸€å€‹ int çš„è³‡æ–™ä»£è¡¨å¾Œé¢æœ‰å¤šé•·ï¼Œä»¥é€™è£¡çš„ä¾‹å­é•·åº¦å°±æ˜¯ 6ã€‚é€™è£¡ç†è«–ä¸Šè¦æŠŠå‰é¢ä¸‰å€‹ 0 ä¹Ÿéƒ½ç®—é€²ä¾†ï¼Œä¸éŽå…ˆå‡è¨­å‘½ä»¤ä¸æœƒå¤ªé•·ï¼Œæ‰€ä»¥æˆ‘å€‘å°±å– &lt;code>req.Paylod[3]&lt;/code> ç•¶ä½œå‘½ä»¤é•·åº¦ï¼ˆé€™æ¨£çš„è©±å‘½ä»¤å°±ä¸èƒ½è¶…éŽ 251 ä½å…ƒï¼Œç‚ºä»€éº¼ä¸æ˜¯ 255 ä½å…ƒï¼Ÿå› ç‚ºæœ‰å››ä½å…ƒè¡¨ç¤ºé•·åº¦ï¼‰&lt;br>
å–å‡ºå‘½ä»¤ä¹‹å¾Œå°±å»ºç«‹ &lt;code>*exec.Cmd&lt;/code>ï¼Œå› ç‚º &lt;code>channel&lt;/code> ç¬¦åˆ &lt;code>io.Writer&lt;/code> å’Œ &lt;code>io.Reader&lt;/code> ç•Œé¢ï¼Œæ‰€ä»¥å…¨éƒ¨éƒ½æŒ‡å®šæˆ &lt;code>channel&lt;/code> å°±å¥½ï¼Œç„¶å¾ŒåŸ·è¡Œã€‚æœ€å¾Œç­‰å¾… process åŸ·è¡ŒçµæŸå°±å¯ä»¥æŠŠ channel é—œæŽ‰äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;exec&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">command&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">exec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Command&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">shell&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">command&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdout&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">channel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stderr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">channel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdin&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">channel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Start&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;could not start command (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// teardown session
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Wait&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;failed to exit bash (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;session closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="shell">shell&lt;/h4>
&lt;p>ç„¶å¾Œæ˜¯ shell é¡žåž‹çš„è«‹æ±‚ï¼Œé€™å€‹é¡žåž‹å°±æ˜¯ä¸€èˆ¬ç™»å…¥ ssh é‚£ç¨® &lt;code>ssh localhsot -p 2222&lt;/code>&lt;br>
ä¸€é–‹å§‹å»ºç«‹ä¸€å€‹ &lt;code>*exec.Cmd&lt;/code>ï¼Œä½†æ˜¯ä¸æ˜¯ä»¥å–®ä¸€å‘½ä»¤åŸ·è¡Œï¼Œæ˜¯æ”¾é€² pty è£¡é¢ã€‚&lt;code>sync.Once&lt;/code> æ˜¯ä¸€å€‹å¯ä»¥ç¢ºä¿åªåŸ·è¡Œä¸€æ¬¡çš„æ©Ÿåˆ¶ï¼Œå› ç‚º &lt;code>close&lt;/code> å‡½å¼å¯èƒ½æœƒåœ¨ä¸åŒ goroutine è¢«å‘¼å«ï¼Œç¬¬äºŒæ¬¡å‘¼å«æ™‚æœƒå› ç‚º &lt;code>channel&lt;/code> ä¸èƒ½è¢«é—œé–‰ç¬¬äºŒæ¬¡ï¼Œæ‰€ä»¥ç”¨é€™å€‹æ±è¥¿ä¾†é™åˆ¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;shell&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">exec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Command&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">shell&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Env&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;TERM=xterm&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">PtyRun&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">cmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tty&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Teardown session
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">once&lt;/span> &lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Once&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">close&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;session closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Pipe session to bash and visa-versa
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Copy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">channel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">once&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Do&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Copy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">channel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">once&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Do&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// We don&amp;#39;t accept any commands (Payload),
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// only the default shell.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="pty-req-window-change">pty-req, window-change&lt;/h4>
&lt;p>ç„¶å¾Œå°±æ˜¯ä¸€äº›é›œä¸ƒé›œå…«çš„çš„è«‹æ±‚é¡žåž‹ï¼Œåƒæ˜¯èª¿æ•´è¦–çª—å¤§å°ã€client è«‹æ±‚é–‹ pty ç­‰ç­‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;pty-req&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Responding &amp;#39;ok&amp;#39; here will let the client
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// know we have a pty ready for input
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ok&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Parse body...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">termLen&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">termEnv&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="nx">termLen&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">parseDims&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">termLen&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">:])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">SetWinsize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fd&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pty-req &amp;#39;%s&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">termEnv&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;window-change&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">parseDims&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">SetWinsize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fd&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span> &lt;span class="c1">// no response
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡ç”¨åˆ°çš„å‡½æ•¸&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// parseDims extracts two uint32s from the provided buffer.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">parseDims&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">uint32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">uint32&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">w&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">binary&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">BigEndian&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">binary&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">BigEndian&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">:])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Winsize stores the Height and Width of a terminal.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">type&lt;/span> &lt;span class="nx">Winsize&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Height&lt;/span> &lt;span class="kt">uint16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Width&lt;/span> &lt;span class="kt">uint16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span> &lt;span class="kt">uint16&lt;/span> &lt;span class="c1">// unused
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="kt">uint16&lt;/span> &lt;span class="c1">// unused
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// SetWinsize sets the size of the given pty.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">SetWinsize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fd&lt;/span> &lt;span class="kt">uintptr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="kt">uint32&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;window resize %dx%d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ws&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">Winsize&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">uint16&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nx">Height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">uint16&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">h&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Syscall&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SYS_IOCTL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TIOCSWINSZ&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Pointer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ws&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å…¨éƒ¨çš„ç¨‹å¼ç¢¼">å…¨éƒ¨çš„ç¨‹å¼ç¢¼&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;span class="lnt">184
&lt;/span>&lt;span class="lnt">185
&lt;/span>&lt;span class="lnt">186
&lt;/span>&lt;span class="lnt">187
&lt;/span>&lt;span class="lnt">188
&lt;/span>&lt;span class="lnt">189
&lt;/span>&lt;span class="lnt">190
&lt;/span>&lt;span class="lnt">191
&lt;/span>&lt;span class="lnt">192
&lt;/span>&lt;span class="lnt">193
&lt;/span>&lt;span class="lnt">194
&lt;/span>&lt;span class="lnt">195
&lt;/span>&lt;span class="lnt">196
&lt;/span>&lt;span class="lnt">197
&lt;/span>&lt;span class="lnt">198
&lt;/span>&lt;span class="lnt">199
&lt;/span>&lt;span class="lnt">200
&lt;/span>&lt;span class="lnt">201
&lt;/span>&lt;span class="lnt">202
&lt;/span>&lt;span class="lnt">203
&lt;/span>&lt;span class="lnt">204
&lt;/span>&lt;span class="lnt">205
&lt;/span>&lt;span class="lnt">206
&lt;/span>&lt;span class="lnt">207
&lt;/span>&lt;span class="lnt">208
&lt;/span>&lt;span class="lnt">209
&lt;/span>&lt;span class="lnt">210
&lt;/span>&lt;span class="lnt">211
&lt;/span>&lt;span class="lnt">212
&lt;/span>&lt;span class="lnt">213
&lt;/span>&lt;span class="lnt">214
&lt;/span>&lt;span class="lnt">215
&lt;/span>&lt;span class="lnt">216
&lt;/span>&lt;span class="lnt">217
&lt;/span>&lt;span class="lnt">218
&lt;/span>&lt;span class="lnt">219
&lt;/span>&lt;span class="lnt">220
&lt;/span>&lt;span class="lnt">221
&lt;/span>&lt;span class="lnt">222
&lt;/span>&lt;span class="lnt">223
&lt;/span>&lt;span class="lnt">224
&lt;/span>&lt;span class="lnt">225
&lt;/span>&lt;span class="lnt">226
&lt;/span>&lt;span class="lnt">227
&lt;/span>&lt;span class="lnt">228
&lt;/span>&lt;span class="lnt">229
&lt;/span>&lt;span class="lnt">230
&lt;/span>&lt;span class="lnt">231
&lt;/span>&lt;span class="lnt">232
&lt;/span>&lt;span class="lnt">233
&lt;/span>&lt;span class="lnt">234
&lt;/span>&lt;span class="lnt">235
&lt;/span>&lt;span class="lnt">236
&lt;/span>&lt;span class="lnt">237
&lt;/span>&lt;span class="lnt">238
&lt;/span>&lt;span class="lnt">239
&lt;/span>&lt;span class="lnt">240
&lt;/span>&lt;span class="lnt">241
&lt;/span>&lt;span class="lnt">242
&lt;/span>&lt;span class="lnt">243
&lt;/span>&lt;span class="lnt">244
&lt;/span>&lt;span class="lnt">245
&lt;/span>&lt;span class="lnt">246
&lt;/span>&lt;span class="lnt">247
&lt;/span>&lt;span class="lnt">248
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Based on https://gist.github.com/jpillora/b480fde82bff51a06238
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// A simple SSH server providing bash sessions
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Server:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// cd my/new/dir/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ssh-keygen -t rsa #generate server keypair
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// go get -v .
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// go run sshd.go
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Client:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ssh foo@localhost -p 2222
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;encoding/binary&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;io&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;io/ioutil&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;net&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;os&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;os/exec&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;syscall&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;unsafe&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;github.com/creack/pty&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;golang.org/x/crypto/ssh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">DEFAULT_SHELL&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;sh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// An SSH server is represented by a ServerConfig, which holds
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// certificate details and handles authentication of ServerConns.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">sshConfig&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConfig&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NoClientAuth&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// You can generate a keypair with &amp;#39;ssh-keygen -t rsa -C &amp;#34;test@example.com&amp;#34;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">privateBytes&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ioutil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;./key/host&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Failed to load private key (./id_rsa)&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">private&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ParsePrivateKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">privateBytes&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Failed to parse private key&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sshConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AddHostKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">private&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Once a ServerConfig has been configured, connections can be accepted.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;tcp4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;:2222&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatalf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;failed to listen on *:2222&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Accept all connections
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;listening on %s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;:2222&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Accept&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;failed to accept incoming connection (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Before use, a handshake must be performed on the incoming net.Conn.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">chans&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reqs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewServerConn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tcpConn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConfig&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;failed to handshake (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Check remote address
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;new ssh connection from %s (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">RemoteAddr&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nx">sshConn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ClientVersion&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Print incoming out-of-band Requests
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="nf">handleRequests&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">reqs&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Accept all channels
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="nf">handleChannels&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chans&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">handleRequests&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">reqs&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">reqs&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;recieved out-of-band request: %+v&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">handleChannels&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chans&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NewChannel&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Service the incoming Channel channel.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="nx">newChannel&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">chans&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Channels have a type, depending on the application level
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// protocol intended. In the case of a shell, the type is
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// &amp;#34;session&amp;#34; and ServerShell may be used to present a simple
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// terminal interface.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">t&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">newChannel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ChannelType&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="nx">t&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="s">&amp;#34;session&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">newChannel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UnknownChannelType&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;unknown channel type: %s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">requests&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">newChannel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Accept&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;could not accept channel (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// allocate a terminal for this channel
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;creating pty...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Create new pty
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tty&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">pty&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Open&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;could not start pty (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">shell&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">shell&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Getenv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SHELL&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">shell&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">shell&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">DEFAULT_SHELL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Sessions have out-of-band requests such as &amp;#34;shell&amp;#34;, &amp;#34;pty-req&amp;#34; and &amp;#34;env&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">requests&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">req&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">requests&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// log.Printf(&amp;#34;%v %s&amp;#34;, req.Payload, req.Payload)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ok&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;exec&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">command&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">exec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Command&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">shell&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">command&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdout&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">channel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stderr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">channel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdin&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">channel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Start&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;could not start command (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// teardown session
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Wait&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;failed to exit bash (%s)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;session closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;shell&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">exec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Command&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">shell&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Env&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;TERM=xterm&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">PtyRun&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">cmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tty&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Teardown session
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">once&lt;/span> &lt;span class="nx">sync&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Once&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">close&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channel&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;session closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Pipe session to bash and visa-versa
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Copy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">channel&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">once&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Do&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">io&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Copy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">channel&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">once&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Do&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">close&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// We don&amp;#39;t accept any commands (Payload),
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// only the default shell.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;pty-req&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Responding &amp;#39;ok&amp;#39; here will let the client
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// know we have a pty ready for input
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">ok&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Parse body...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">termLen&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">termEnv&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="nx">termLen&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">parseDims&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">termLen&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">:])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">SetWinsize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fd&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;pty-req &amp;#39;%s&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">termEnv&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;window-change&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">parseDims&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Payload&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">SetWinsize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fd&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span> &lt;span class="c1">// no response
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">ok&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;declining %s request...&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Type&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ok&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}(&lt;/span>&lt;span class="nx">requests&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// =======================
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Start assigns a pseudo-terminal tty os.File to c.Stdin, c.Stdout,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// and c.Stderr, calls c.Start, and returns the File of the tty&amp;#39;s
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// corresponding pty.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">PtyRun&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tty&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">File&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="nx">tty&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdout&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">tty&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdin&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">tty&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stderr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">tty&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SysProcAttr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SysProcAttr&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Setctty&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Setsid&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Start&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// parseDims extracts two uint32s from the provided buffer.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">parseDims&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">uint32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">uint32&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">w&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">binary&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">BigEndian&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">binary&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">BigEndian&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">:])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Winsize stores the Height and Width of a terminal.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">type&lt;/span> &lt;span class="nx">Winsize&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Height&lt;/span> &lt;span class="kt">uint16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Width&lt;/span> &lt;span class="kt">uint16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span> &lt;span class="kt">uint16&lt;/span> &lt;span class="c1">// unused
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="kt">uint16&lt;/span> &lt;span class="c1">// unused
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// SetWinsize sets the size of the given pty.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">SetWinsize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fd&lt;/span> &lt;span class="kt">uintptr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="kt">uint32&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;window resize %dx%d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">h&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ws&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">Winsize&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">Width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">uint16&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nx">Height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">uint16&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">h&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Syscall&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SYS_IOCTL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">TIOCSWINSZ&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Pointer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ws&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Scalingo/go-ssh-examples/blob/master/server_complex.go" target="_blank" rel="noopener"
>https://github.com/Scalingo/go-ssh-examples/blob/master/server_complex.go&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://pkg.go.dev/golang.org/x/crypto/ssh" target="_blank" rel="noopener"
>https://pkg.go.dev/golang.org/x/crypto/ssh&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>SSH Server Util</title><link>https://blog.simbafs.cc/p/golang/ssh-server-uitl/</link><pubDate>Wed, 12 Jul 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/ssh-server-uitl/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/ssh-server-util.png" alt="Featured image of post SSH Server Util" />&lt;h1 id="ssh-server-util">SSH Server Util&lt;/h1>
&lt;h2 id="publickeycallback">PublicKeyCallback&lt;/h2>
&lt;p>åœ¨ &lt;a class="link" href="../ssh-server" >golang/ssh-server&lt;/a> ä¸­çš„ ssh ä¼ºæœå™¨æ˜¯æ²’æœ‰é©—è­‰ä½¿ç”¨è€…èº«ä»½çš„ï¼Œå› ç‚ºåœ¨ &lt;code>ssh.ServerConfig&lt;/code> ä¸­è¨­å®šäº† &lt;code>NoClientAuth: true&lt;/code>ã€‚ç”¨ä¸‹é¢çš„ &lt;code>ssh.SererConfig&lt;/code> å¯ä»¥è¨­å®šç”¨åªæœ‰æŒ‡å®šçš„ä½¿ç”¨è€…å¯ä»¥é€²å…¥ï¼Œä¸éŽé€™å€‹ç‰ˆæœ¬ä¸­æ²’æœ‰è™•ç†æ™‚åºæ”»æ“Šï¼ˆTimming attackï¼‰ï¼Œä¹Ÿå°±æ˜¯ç”¨æ¯”å°å…¬é‘°çš„æ™‚é–“ä¸åŒç²å–è³‡è¨Šçš„æ”»æ“Šæ‰‹æ®µã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">allowedUser&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">][]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;simbafs&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIHcLVJDmYggMFXJ3CqMOSMnBkkDX1982cdd3rmRqfpMC simba@simba-nb&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">CompareKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">key&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">PublicKey&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pubKeyStr&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// compare two keys
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">pubKey&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ParseAuthorizedKey&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pubKeyStr&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">FingerprintSHA256&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">FingerprintSHA256&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pubKey&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">sshConf&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ServerConfig&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NoClientAuth&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">PublicKeyCallback&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">conn&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ConnMetadata&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">key&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">PublicKey&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Permissions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// find if the public key is in the allowed list
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">keys&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">allowedUser&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pubKey&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">keys&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nf">CompareKey&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pubKey&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;User %q authenticated with key %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">FingerprintSHA256&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Permissions&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Extensions&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;user&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;pk-fp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">ssh&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">FingerprintSHA256&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;unknown public key for %q&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">User&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="parsepayload">ParsePayload&lt;/h2>
&lt;p>payload æ ¼å¼æ˜¯å››å€‹ byte ä»£è¡¨é•·åº¦ï¼ŒæŽ¥è‘—æ˜¯ä¸€ä¸²è³‡æ–™ï¼Œå¦‚æžœæœ‰ç¬¬äºŒæ®µå°±é‡è¤‡ä»¥ä¸Šï¼Œä¾‹å¦‚ &lt;code>[0 0 0 3 65 66 67]&lt;/code> çš„ &lt;code>[0 0 0 3]&lt;/code> ä»£è¡¨æŽ¥ä¸‹ä¾†è³‡æ–™é•·åº¦æ˜¯ 3ï¼Œç„¶å¾Œæ˜¯è³‡æ–™ &lt;code>[65 66 67]&lt;/code>ï¼Œä¹Ÿå°±æ˜¯ &lt;code>ABC&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">ParsePayload&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">result&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="kt">uint32&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">min&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="kt">uint32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="kt">uint32&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">uint32&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">b&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">length&lt;/span> &lt;span class="kt">uint32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">length&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nf">min&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="mi">24&lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">&amp;lt;&amp;lt;&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">result&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">index&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">length&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">result&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://pkg.go.dev/golang.org/x/crypto/ssh" target="_blank" rel="noopener"
>https://pkg.go.dev/golang.org/x/crypto/ssh&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Wireshark Over SSH in Docker</title><link>https://blog.simbafs.cc/p/linux/docker/wireshark-over-ssh-in-docker/</link><pubDate>Sun, 09 Jul 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/docker/wireshark-over-ssh-in-docker/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/docker/wireshark-over-ssh-in-docker.png" alt="Featured image of post Wireshark Over SSH in Docker" />&lt;h1 id="wireshark-over-ssh-in-docker">Wireshark Over SSH in Docker&lt;/h1>
&lt;p>åˆ†æˆå…©å€‹éƒ¨ä»½ï¼Œä¸€å€‹æ˜¯æŠŠå°åŒ…å¾ž docker container è£¡é¢å¼„å‡ºä¾†ï¼Œå†ä¾†æ˜¯åœ¨æœ¬åœ°çš„ &lt;a class="link" href="https://zh.wikipedia.org/zh-tw/Wireshark" target="_blank" rel="noopener"
>wireshark&lt;/a> æŠ“åˆ°é ç«¯çš„å°åŒ…&lt;/p>
&lt;h2 id="æŠŠå°åŒ…å¼„å‡º-docker-container">æŠŠå°åŒ…å¼„å‡º docker container&lt;/h2>
&lt;p>ä½¿ç”¨ &lt;a class="link" href="https://github.com/nicolaka/netshoot" target="_blank" rel="noopener"
>nicolaka/netshoot&lt;/a> é€™å€‹ docker imageï¼ŒæŠŠä»–è·Ÿç›®æ¨™ container æ”¾åœ¨åŒä¸€å€‹ network ä¸‹ï¼Œä¾‹å¦‚ä»¥ä¸‹æœƒæŠŠå°åŒ…å…¨éƒ¨ä¸Ÿé€² /data/nginx.pcap é€™å€‹æª”æ¡ˆè£¡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.6&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tcpdump&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nicolaka/netshoot&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">depends_on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">nginx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">tcpdump -i eth0 -w /data/nginx.pcap&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">network_mode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">service:nginx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">$PWD/data:/data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nginx&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx:alpine&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">80&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æœ¬åœ°çš„-wireshark-æŠ“åˆ°é ç«¯çš„å°åŒ…">æœ¬åœ°çš„ wireshark æŠ“åˆ°é ç«¯çš„å°åŒ…&lt;/h2>
&lt;p>æˆ‘å€‘æœ‰äº† /data/nginx.pcap ä¹‹å¾Œï¼Œå°±å¯ä»¥ç”¨ ssh æŠŠæª”æ¡ˆå°å‡ºä¾†ï¼Œç„¶å¾Œåçµ¦ wireshark&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh ssh_host &amp;#34;cat path/to/nginx.pcap&amp;#34; | wireshark -k -i -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://s905060.gitbooks.io/site-reliability-engineer-handbook/content/howto_use_wireshark_over_ssh.html" target="_blank" rel="noopener"
>https://s905060.gitbooks.io/site-reliability-engineer-handbook/content/howto_use_wireshark_over_ssh.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/nicolaka/netshoot" target="_blank" rel="noopener"
>https://github.com/nicolaka/netshoot&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Cache Layer</title><link>https://blog.simbafs.cc/p/linux/docker/cache-layer/</link><pubDate>Fri, 07 Jul 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/docker/cache-layer/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/docker/cache-layer.png" alt="Featured image of post Cache Layer" />&lt;h1 id="cache-layer">Cache Layer&lt;/h1>
&lt;p>Dockerfile ä¸­ç¸½æ˜¯æœ‰äº›æ­¥é©Ÿå¾ˆè€—æ™‚é–“ï¼Œä½†æ˜¯å…¶å¯¦æ¯æ¬¡éƒ½åœ¨åšä¸€æ¨£çš„äº‹ï¼Œä¾‹å¦‚ &lt;code>npm i&lt;/code>ã€&lt;code>go mod download&lt;/code> ç­‰ç­‰ï¼Œæ¯æ¬¡å…¶å¯¦éƒ½ä¸‹è¼‰ä¸€æ¨£çš„æª”æ¡ˆã€‚
docker build åœ¨æŒ‰ç…§ Dockerfile å»ºæ§‹ image æ™‚ï¼Œæ¯ä¸€è¡Œéƒ½æœƒæœ‰ cache layerï¼Œæœ€å¾Œçš„ image å°±æ˜¯é€™ä¸€å±¤ä¸€å±¤ç–Šèµ·ä¾†çš„ã€‚å¦‚æžœä¹‹å‰çš„ cache layer éƒ½åœ¨ä¸”é€™æ¬¡æª”æ¡ˆè®Šå‹•è·Ÿä¹‹å‰ä¸€æ¨£ï¼Œé‚£å°±æœƒç›´æŽ¥è·³éŽå‘½ä»¤åŸ·è¡Œï¼Œç”¨å¿«å–å¸¶æ›¿ï¼Œç›´æŽ¥ä¾†çœ‹ä¾‹å­&lt;/p>
&lt;h2 id="æ²’æœ‰åˆ©ç”¨å¿«å–">æ²’æœ‰åˆ©ç”¨å¿«å–&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">COPY&lt;/span> . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> go mod download&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> go build -o main .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;./main&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>COPY . .&lt;/code> æŠŠæ‰€æœ‰æª”æ¡ˆè¤‡è£½é€²ä¾†ï¼Œç„¶å¾Œ &lt;code>RUN go mod download&lt;/code> çœ‹åˆ°ï¼Œsource code æœ‰è®Šå‹•è€¶ï¼å¿«å–ä¸èƒ½ç”¨ï¼Œå› æ­¤é‡æ–°ä¸‹è¼‰ä¸€ä»½ç›¸ä¾å¥—ä»¶ï¼Œç„¶å¾Œå†åŸ·è¡Œå¾ŒçºŒå‹•ä½œ&lt;/p>
&lt;h2 id="åˆ©ç”¨å¿«å–">åˆ©ç”¨å¿«å–&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">COPY&lt;/span> go.mod go.sum ./&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> go mod download&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> go build -o main .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;./main&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>COPY go.mod go.sum ./&lt;/code> åªæœƒæŠŠ &lt;code>go.mod&lt;/code> å’Œ &lt;code>go.sum&lt;/code> æ”¾é€²ä¾†ï¼Œå¦‚æžœç›¸ä¾æ€§æ²’æœ‰æ”¹è®Šçš„è©±ç­‰æ–¼è·Ÿä¹‹å‰ &lt;code>docker build&lt;/code> æ™‚æ¢ä»¶ä¸€æ¨£ï¼Œå› æ­¤ç•¶ docker åŸ·è¡Œåˆ° &lt;code>RUN go mod download&lt;/code> æ™‚å°±å¯ä»¥ç›´æŽ¥æ‰¾ä¹‹å‰çš„ cache layerï¼Œè·³éŽä¸‹è¼‰éŽç¨‹ï¼Œç„¶å¾Œå†ç¹¼çºŒå¾Œé¢çš„å‹•ä½œ&lt;/p>
&lt;h2 id="åŠ é€Ÿç·¨è­¯çš„åŽŸå‰‡">åŠ é€Ÿç·¨è­¯çš„åŽŸå‰‡&lt;/h2>
&lt;p>æŒ‰ç…§å‰é¢åˆ©ç”¨å¿«å–çš„ä¾‹å­æ­¸ç´ï¼Œåªè¦æˆ‘å€‘æŠŠåŸ·è¡Œè¶Šæ…¢ã€è¶Šä¸å¸¸æ”¹è®Šçš„æ­¥é©Ÿå¾€å‰ç§»ï¼Œå°±å¯ä»¥ç”¨ä¹‹å‰çš„ cache layerã€‚è€Œåœ¨é€™è£¡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;code>COPY&lt;/code> æ™‚åªæŠŠä¸‹ä¸€å€‹æŒ‡ä»¤éœ€è¦çš„æª”æ¡ˆè¤‡è£½é€²ä¾†å°±å¥½ï¼Œç›¡é‡é¿å…ä¸€æ¬¡è¤‡è£½ä¸€æ•´å€‹ç›®éŒ„ï¼Œé€™æ¨£æœ‰åŠ©æ–¼æ¸›å°‘æª”æ¡ˆè®Šå‹•ï¼Œæ›´å¥½çš„åˆ©ç”¨ä¹‹å‰çš„ cache layerã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> +-------------------------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1 |Big, slow, infrequently changes layer|
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+----------------------------+----+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2 | |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+--------------------+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">3 | |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+------------+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4 |Small, quick|
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +------------+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å…¶ä»–çŒœæƒ³">å…¶ä»–çŒœæƒ³&lt;/h2>
&lt;p>æˆ‘æ²’ç”¨éŽé€™å€‹æ±è¥¿ï¼Œæ‰€ä»¥ä»¥ä¸‹æè¿°åªæ˜¯çŒœæƒ³ï¼Œå¯èƒ½è·Ÿå¯¦å‹™ä¸Šæœ‰å‡ºå…¥ã€‚&lt;br>
å› ç‚º docker çš„ cache layer æ˜¯å„²å­˜åœ¨æœ¬æ©Ÿä¸Šï¼Œæ‰€ä»¥æˆ‘æ›ä¸€å°é›»è…¦åŸ·è¡Œ &lt;code>docker build&lt;/code> å°±ç„¡æ³•ç”¨åˆ°ä¹‹å‰çš„ cache layerï¼Œæ‰€ä»¥ä¿æŒåœ¨åŒä¸€è‡ºé›»è…¦ç·¨è­¯æ˜¯æœ€å¥½çš„ï¼Œå¯èƒ½é€™å€‹å°±æ˜¯ä¹‹å‰çœ‹éŽçš„ build serverï¼Ÿèªªä¸å®šæœ‰é€™å€‹å¥½è™•ã€‚&lt;/p></description></item><item><title>OCR Add PDF Text Layer</title><link>https://blog.simbafs.cc/p/linux/ocr-add-pdf-layer/</link><pubDate>Fri, 19 May 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/ocr-add-pdf-layer/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/ocr-add-pdf-layer.png" alt="Featured image of post OCR Add PDF Text Layer" />&lt;h1 id="ocr-add-pdf-text-layer">OCR Add PDF Text Layer&lt;/h1>
&lt;p>çœ¾æ‰€å‘¨çŸ¥å¤§å­¸èª²æœ¬åˆåŽšåˆé‡ï¼Œè€Œä¸”é‚„ä¸ä¾¿å®œï¼Œæ‰€ä»¥é€™æ™‚å€™å¦‚æžœæœ‰é›»å­æ›¸å°±å¯ä»¥å¾ˆå¤§ç¨‹åº¦è§£æ±ºé€™å€‹å•é¡Œã€‚ä½†æ˜¯æœ‰æ™‚å€™æ‹¿åˆ°çš„é›»å­æ›¸æ˜¯æŽƒæçš„åœ–ç‰‡ï¼ˆä¾†æºå°±&amp;hellip;&amp;hellip;å’³å’³ï¼‰ï¼Œä¸èƒ½è¤‡è£½ã€æŒ‰å³éµç¿»è­¯ã€‚é€™æ™‚å€™å°±å¯ä»¥å‡ºå‹•å…‰å­¸å­—å…ƒè¾¨è­˜ï¼Œå¹«æˆ‘å€‘æŠŠåœ–ç‰‡è½‰æˆæ–‡å­—ï¼Œè€Œä¸”é †ä¾¿æŠŠå­—æ”¾åœ¨ PDF çš„æ–‡å­—åœ–å±¤ä¸Šï¼Œé€™æ¨£å°±å¯ä»¥çœ‹è‘—æŽƒæçš„æ›¸ï¼Œåˆå¯ä»¥é¸å–åˆ°åŽŸæœ¬ä¸èƒ½é¸å–çš„æ–‡å­—ã€‚&lt;/p>
&lt;h2 id="tesseract">tesseract&lt;/h2>
&lt;p>æˆ‘ä¹‹å‰è©¦éŽå¹¾å€‹ç·šä¸Š OCRï¼Œä½†éƒ½æ˜¯ä»˜è²»åŠŸèƒ½ï¼Œä½†é€™å€‹æ±è¥¿ä¸æ˜¯ä»€éº¼å‰æ²¿æŠ€è¡“ï¼Œç†è«–ä¸Šæ‡‰è©²ä¸éœ€è¦å¤ªå¼·çš„é›»è…¦æ•ˆèƒ½ï¼Œæ–¼æ˜¯æˆ‘å°±æƒ³è©¦è‘—è‡ªå·±è·‘åœ¨æˆ‘çš„é›»è…¦ä¸Šã€‚æˆ‘é¦–å…ˆæ‰¾åˆ°çš„æ˜¯ &lt;a class="link" href="https://github.com/tesseract-ocr/tesseract" target="_blank" rel="noopener"
>https://github.com/tesseract-ocr/tesseract&lt;/a> ï¼ŒæŒ‰ç…§ä»–çš„èªªæ˜Žï¼Œé€™å¥—æ˜¯ 1985 å¹´ç”± HP é–‹ç™¼ï¼Œä¹‹å¾Œé–‹æºã€Google æŽ¥æ‰‹ç¹¼çºŒé–‹ç™¼çš„è»Ÿé«”ï¼ˆæœ‰å¤ å¤è€ï¼‰ã€æ”¯æ´è¶…éŽ 100 ç¨®èªžè¨€ã€‚æ—¢ç„¶æ˜¯å¤§å…¬å¸é–‹ç™¼ï¼ŒåˆéŽäº†é€™éº¼ä¹…ï¼ˆè€Œä¸”çœ‹èµ·ä¾†ä¸Šæ˜ŸæœŸé‚„æœ‰ commitï¼Œå°±ç®—æœ‰ bug æ‡‰è©²ä¹Ÿæ‰¾å¾—åˆ°äººä¿®ï¼‰ï¼Œæƒ³å¿…æ‡‰è©²å¾ˆä¸éŒ¯ã€‚é€™å€‹é€éŽ &lt;code>apt&lt;/code> å°±å¯ä»¥å®‰è£äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install tesseract-ocr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install libtesseract-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸éŽç•¶æˆ‘ç›´æŽ¥æŠŠ pdf ä¸Ÿé€²åŽ»çš„æ™‚å€™ä»–å¥½åƒä¸èƒ½ç›´æŽ¥åƒ PDF&lt;/p>
&lt;h2 id="ocrmypdf">OCRmyPDF&lt;/h2>
&lt;p>æŽ¥è‘—æˆ‘åœ¨æœå°‹é—œéµå­—åŠ ä¸Š &lt;code>pdf&lt;/code>ï¼Œç¬¬ä¸€å€‹çœ‹èµ·ä¾†å°±æ˜¯ä¸€å€‹å¾ˆæ£’çš„ repo &lt;a class="link" href="https://github.com/ocrmypdf/OCRmyPDF" target="_blank" rel="noopener"
>https://github.com/ocrmypdf/OCRmyPDF&lt;/a> ï¼Œæœ‰ 8.9k å€‹æ˜Ÿæ˜Ÿï¼Œä»–è™Ÿç¨±å¯ä»¥æŠŠ PDF ä¸Ÿé€² OCR å¾ŒæŠŠçµæžœå†å¡žé€² text layer è£¡ï¼Œå®Œç¾Žç¬¦åˆéœ€æ±‚ï¼Œè€Œä¸”ä»–æ˜¯åŸºæ–¼ tesseract é€™å€‹çœ‹èµ·ä¾†ä¹Ÿè¶…ç´šæ£’çš„è»Ÿé«”ã€‚é€™å€‹å®‰è£ä¹Ÿæ˜¯ç”¨ &lt;code>apt&lt;/code> å°±å¯ä»¥äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">apt install ocrmypdf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£å¥½å¾Œçµ¦ä¾†æºè·¯å¾‘ã€è¼¸å‡ºè·¯å¾‘ï¼Œç„¶å¾Œç­‰ä¸€æœƒå°±å¥½äº†ï¼Œæˆ‘ç”¨æˆ‘çš„åŠ›å­¸èª²æœ¬ç¬¬ 12 ç« åšæ¸¬è©¦ï¼Œ44 é çš„æ–‡å­— 46 ç§’å®Œæˆï¼Œæ‰“é–‹å¾Œå…§å®¹å¹¾ä¹Žæ²’éŒ¯ï¼Œè¶…æ£’ï¼&lt;/p>
&lt;p>ç­‰ç­‰å°±æŠŠæ•´æœ¬èª²æœ¬éƒ½ä¸Ÿé€²åŽ» &amp;gt;&amp;lt;&lt;/p></description></item><item><title>Build Aseprite</title><link>https://blog.simbafs.cc/p/linux/build-aseprite/</link><pubDate>Sat, 15 Apr 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/build-aseprite/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/build-aseprite.png" alt="Featured image of post Build Aseprite" />&lt;h1 id="build-aseprite">Build Aseprite&lt;/h1>
&lt;p>Aseprite æ˜¯ä¸€å€‹è·¨å¹³å°çš„åƒç´ ç•«ç·¨è¼¯å™¨ï¼Œåæ­£çœ‹èµ·ä¾†å¾ˆæ£’ï¼Œä½†æ˜¯å®˜ç¶²å’Œ itch.io è²· 19.99 ç¾Žé‡‘ï¼Œsteam è³£ä¸‰ç™¾å¤šå…ƒï¼Œç‚ºäº†çœé€™å€‹éŒ¢æ±ºå®šè‡ªå·±ç·¨è­¯ï¼ŒåŽŸå§‹ç¢¼åœ¨ &lt;a class="link" href="https://github.com/aseprite/aseprite" target="_blank" rel="noopener"
>https://github.com/aseprite/aseprite&lt;/a>ï¼Œè€Œä¸”å®˜æ–¹æœ‰ä¸€å€‹å¾ˆè©³ç´°çš„&lt;a class="link" href="https://github.com/aseprite/aseprite/blob/main/INSTALL.md" target="_blank" rel="noopener"
>ç·¨è­¯èªªæ˜Ž&lt;/a>&lt;/p>
&lt;h2 id="clone">clone&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ git clone https://github.com/aseprite/aseprite --recursive --depth 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="dependencies">Dependencies&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ sudo apt-get install -y g++ clang libc++-dev libc++abi-dev cmake ninja-build libx11-dev libxcursor-dev libxi-dev libgl1-mesa-dev libfontconfig1-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="skia">skia&lt;/h3>
&lt;p>åŽ» &lt;a class="link" href="https://github.com/aseprite/skia/releases/latest" target="_blank" rel="noopener"
>https://github.com/aseprite/skia/releases/latest&lt;/a> ä¸‹è¼‰ç·¨è­¯å¥½çš„ skiaï¼Œè§£å£“ç¸®æ”¾åˆ° &lt;code>~/deps/skia&lt;/code> ä¸‹é¢&lt;/p>
&lt;h2 id="cmake">cmake&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ cd aseprite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ mkdir build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cd build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ export CC=clang
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ export CXX=clang++
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># add by me
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ export CMAKE_CXX_COMPILER=&amp;#34;ccache&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cmake \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -DCMAKE_BUILD_TYPE=RelWithDebInfo \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -DCMAKE_CXX_FLAGS:STRING=-stdlib=libc++ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -DCMAKE_EXE_LINKER_FLAGS:STRING=-stdlib=libc++ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -DLAF_BACKEND=skia \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -DSKIA_DIR=$HOME/deps/skia \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -DSKIA_LIBRARY_DIR=$HOME/deps/skia/out/Release-x64 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -DSKIA_LIBRARY=$HOME/deps/skia/out/Release-x64/libskia.a \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -G Ninja \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ..
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ninja aseprite
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="execute-path">Execute Path&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ sudo mv bin /usr/local/share/aseprite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo ln -s /usr/local/share/aseprite/aseprite /usr/local/bin/aseprite
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="desktop-file">Desktop File&lt;/h3>
&lt;p>&lt;code>~/.local/share/applications/aseprite.desktop&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[Desktop Entry]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name=Aseprite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Exec=/usr/local/bin/aseprite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Icon=/usr/local/share/aseprite/data/icons/ase128.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Terminal=false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Type=Application
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Preparing Environment</title><link>https://blog.simbafs.cc/p/prepareenv/</link><pubDate>Tue, 14 Mar 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/prepareenv/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ncku/computerOrganization/prepareEnv.png" alt="Featured image of post Preparing Environment" />&lt;h1 id="preparing-environment">Preparing Environment&lt;/h1>
&lt;h2 id="gnu-toolchain">GNU toolchain&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ mkdir -p /opt/riscv/bin ~/riscv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ echo &amp;#39;export RISCV=/opt/riscv&amp;#39; &amp;gt;&amp;gt; ~/.zshrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ echo &amp;#39;export PATH=$PATH:$RISCV/bin&amp;#39; &amp;gt;&amp;gt; ~/.zshrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt install git autoconf automake autotools-dev curl python3 libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf libtool patchutils bc zlib1g-dev libexpat1-dev ninja-build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cd ~/riscv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git clone --recurse-submodules -j8 --depth 1 https://github.com/riscv/riscv-gnu-toolchain
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/2144406/how-to-make-shallow-git-submodules" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/2144406/how-to-make-shallow-git-submodules&lt;/a>
é€™è£¡å› ç‚ºå¦‚æžœåœ¨ make æ™‚å†åŽ»æŠ“ submodule å¥½åƒæœƒæ€ªæ€ªçš„&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ cd riscv-gnu-toolchain
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ./configure --prefix=$RISCV --enable-multilib
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>åŸ·è¡Œé€™æ­¥ä¹‹å‰è¦å…ˆåŽ»æ¯å€‹ submodule ä¸‹æŒ‡ä»¤ &lt;code>git reset HEAD --hard&lt;/code>ï¼Œæ‡‰è©²å¯ä»¥ä¿®æ”¹ &lt;code>git clone&lt;/code> æŒ‡ä»¤åšåˆ°ï¼Œä½†æ‡¶å¾—é‡è©¦äº†&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ sudo make linux -j4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>é€™æ­¥é©Ÿè¦ç·¨å¾ˆä¹…&lt;/p>
&lt;/blockquote>
&lt;h2 id="å…¶ä»–å·¥å…·">å…¶ä»–å·¥å…·&lt;/h2>
&lt;p>å…¶ä»–å·¥å…·åŒ…å« spikeã€proxy kernelï¼Œé€™å…©å€‹ç·¨è­¯æ–¹å¼éƒ½ä¸€æ¨£&lt;/p>
&lt;h3 id="spike">spike&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ cd ~/riscv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt-get install device-tree-compiler
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git clone --depth 1 https://github.com/riscv/riscv-isa-sim.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cd riscv-isa-sim
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ mkdir build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cd build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ../configure --prefix=$RISCV
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ cd ~/riscv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git clone https://github.com/riscv/riscv-pk.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cd riscv-pk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ mkdir build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cd build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ../configure --prefix=$RISCV --host=riscv64-unknown-linux-gnu
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ¸¬è©¦">æ¸¬è©¦&lt;/h2>
&lt;h3 id="gnu-toolchain-1">GNU toolchain&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ riscv64-unknown-linux-gnu-gcc -v
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="others-tool">others tool&lt;/h3>
&lt;blockquote>
&lt;p>/tmp/hello.c&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;hello world&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸ·è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ riscv64-unknown-linux-gnu-gcc -static -o /tmp/hello /tmp/hello.c
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ spike --isa=RV64GC $RISCV/riscv64-unknown-linux-gnu/bin/pk /tmp/hello
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;p>ä¸Šèª² Homework 0 è¬›ç¾©&lt;/p></description></item><item><title>OpenTTD</title><link>https://blog.simbafs.cc/p/game/index/</link><pubDate>Sat, 11 Mar 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/game/index/</guid><description>&lt;img src="https://blog.simbafs.cc/og/game/openttd/index.png" alt="Featured image of post OpenTTD" />&lt;blockquote>
&lt;p>&lt;strong>æé†’æˆ‘æ”¾åœ–ç‰‡&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;h1 id="openttd">OpenTTD&lt;/h1>
&lt;p>OpenTTD æ˜¯ä¸€æ¬¾äºŒåå¹´å‰å‡ºçš„éŠæˆ²ï¼Œå¯ä»¥çœ‹åšæ˜¯ City Skyline çš„é˜¿ç¥–ï¼Œå‰æœ‰åœ¨ &lt;a class="link" href="https://store.steampowered.com/app/1536610/OpenTTD/" target="_blank" rel="noopener"
>steam&lt;/a> ä¸Šæž¶ã€‚éŠæˆ²ç›®æ¨™æ˜¯å¾ž 1950 å¹´ç¶“ç‡Ÿä¸€é–“é‹è¼¸å…¬å¸ï¼Œä¸€ç™¾å¹´å¾Œåˆ° 2050 å¹´æ ¹æ“šä¹å€‹é …ç›®è©•åˆ†ï¼Œæœ‰æ”¯æ´å¤šäººä¸€èµ·çŽ©ï¼Œå¯ä»¥åˆä½œç¶“ç‡Ÿä¸€é–“å…¬å¸ï¼Œä¹Ÿå¯ä»¥å„è‡ªé–‹å…¬å¸å°æŠ—ã€‚ç¶“ç‡Ÿçš„é …ç›®åŒ…æ‹¬è»Šè¼›ã€ç«è»Šã€é£›æ©Ÿã€å–®è»Œã€è·¯é¢é›»è»Šå’Œèˆ¹é‹ã€‚&lt;/p>
&lt;h2 id="å¸‚å…§å…¬è»Šç­–ç•¥">å¸‚å…§å…¬è»Šç­–ç•¥&lt;/h2>
&lt;p>è¦åŠƒå¸‚å…§å…¬è»Šæ™‚æœ‰å¹¾å€‹è¦è€ƒé‡çš„é»ž&lt;/p>
&lt;ol>
&lt;li>è·¯ç·šè¦åŠƒç›¡é‡æ¸›å°‘å½Žè·¯&lt;/li>
&lt;li>ç›¡é‡ç¶“éŽäººå¤šçš„åœ°å€ï¼ˆè¦†è“‹çŽ‡ï¼‰&lt;/li>
&lt;li>è»Šå¤ªå¤šæœƒå¡žè»Š&lt;/li>
&lt;li>æœªä¾†å¯æ“´å±•æ€§&lt;/li>
&lt;/ol>
&lt;p>ç¬¬ä¸€é»žæ˜¯å› ç‚ºè½‰å½Žæœƒæ¸›é€Ÿï¼Œè¶Šå°‘å½Žå¸¶è¡¨å¹³å‡é€Ÿåº¦è¶Šå¿«ã€‚ç¬¬äºŒé»žå‰‡æ˜¯è¦è¡é«˜æœå‹™äººæ¬¡ï¼Œè¶Šå¤šäººä»£è¡¨è¶Šè³ºéŒ¢ã€‚ç¬¬ä¸‰é»žå‰‡æ˜¯å› ç‚ºè»Šè¼›ä¸åƒèˆ¹æœƒç©¿æ¨¡ï¼Œè¦è§£æ±ºé€™é»žæœ€ç›´è¦ºæ˜¯ä¸è¦è²·é‚£éº¼å¤šè»Šï¼Œä½†æ˜¯å¸‚ä¸­å¿ƒäººå°±æ˜¯å¾ˆå¤šï¼Œå¦‚æžœè»Šå¤ªå°‘åˆ©ç”¨çŽ‡å°±æœƒä¸€ç›´æ»¿è¼‰ï¼Œè»Šç«™ç­‰å€™äººæ•¸å°±æœƒå¾ˆå¤šï¼Œæ‰€ä»¥ä¸€å€‹å¯ä»¥æš«æ™‚è§£æ±ºçš„æ–¹æ¡ˆæ˜¯è®“æ¯æ¢è·¯éƒ½æœ‰è»Šèµ°ï¼Œåˆ†æ•£è»Šæµã€‚è€ŒåŸŽå¸‚æœƒéš¨è‘—ç™¼å±•è‡ªå·±æ“´å¼µï¼Œæ‰€ä»¥å°±å¿…é ˆé ç•™ä»¥å¾Œå¯ä»¥å‘å¤–å»¶ä¼¸çš„æŽ¥å£ã€‚&lt;/p>
&lt;p>ä¸€åº§åŸŽå¸‚æœƒæœ‰å…©ç¨®å…¬è»Šç«™ï¼Œä¸€ç¨®æ˜¯å®¢é‹ï¼Œå¦ä¸€ç¨®æ˜¯è²¨é‹ç«™ï¼Œè² è²¬éƒµä»¶å’Œå•†å“ã€‚æˆ‘è‡ªå·±çš„è¦åŠƒæ˜¯é¡žä¼¼æ¢…èŠ±åº§ï¼Œ&lt;/p></description></item><item><title>Bash Snippet</title><link>https://blog.simbafs.cc/p/linux/bash/snippet/</link><pubDate>Sat, 25 Feb 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/bash/snippet/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/bash/snippet.png" alt="Featured image of post Bash Snippet" />&lt;h1 id="bash-snippet">Bash Snippet&lt;/h1>
&lt;h2 id="clear-broken-symlinks">Clear broken symlinks&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> $ find . -type l ! -exec test -e {} \; -exec sudo rm {} \;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://unix.stackexchange.com/questions/34248/how-can-i-find-broken-symlinks" target="_blank" rel="noopener"
>stackoverflow&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="random-string">Random String&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ cat /dev/random | head | md5sum | head -c 32
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Python Snippet</title><link>https://blog.simbafs.cc/p/python/snippet/</link><pubDate>Thu, 23 Feb 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/python/snippet/</guid><description>&lt;img src="https://blog.simbafs.cc/og/python/snippet.png" alt="Featured image of post Python Snippet" />&lt;h1 id="python-snippet">Python Snippet&lt;/h1>
&lt;h2 id="basic">Basic&lt;/h2>
&lt;h3 id="æœªå®šé•·åº¦å‡½æ•¸åƒæ•¸">æœªå®šé•·åº¦å‡½æ•¸åƒæ•¸&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="polynomal">polynomal&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># polynomial(2, 4, 6, 8)(x) -&amp;gt; 2x^0 + 4x^1 + 6x^2 + 8x^3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">polynomial&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">ai&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">enumerate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ai&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="n">n&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">r&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">f&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="type-annotation">Type Annotation&lt;/h2>
&lt;h3 id="numpy-array-as-parameter">Numpy Array as Parameter&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ndarray&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/64600748/how-do-i-write-a-2d-array-parameter-specification-in-python" target="_blank" rel="noopener"
>stackoverflow&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="numpy">Numpy&lt;/h2>
&lt;h3 id="determinant-of-array">Determinant of array&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">linalg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">det&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.det.html" target="_blank" rel="noopener"
>doc&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h3 id="multiply-a-matrix-and-a-array">Multiply a Matrix and a Array&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/3890621/how-does-multiplication-differ-for-numpy-matrix-vs-array-classes" target="_blank" rel="noopener"
>stackoverflow&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>Markdown to PDF</title><link>https://blog.simbafs.cc/p/other/index/</link><pubDate>Tue, 21 Feb 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/other/index/</guid><description>&lt;img src="https://blog.simbafs.cc/og/other/md2pdf/index.png" alt="Featured image of post Markdown to PDF" />&lt;h1 id="markdown-to-pdf">Markdown to PDF&lt;/h1>
&lt;h2 id="å®‰è£ç’°å¢ƒ">å®‰è£ç’°å¢ƒ&lt;/h2>
&lt;p>&lt;a class="link" href="https://pandoc.org/" target="_blank" rel="noopener"
>pandoc&lt;/a> ä½ æƒ³å¾—åˆ°çš„æ–‡ä»¶ä¹‹é–“è½‰æ“‹ &lt;a class="link" href="https://pandoc.org/diagram.svgz?v=20230203095535" target="_blank" rel="noopener"
>å®˜æ–¹ç²¾ç¾Žçš„åœ–&lt;/a>&lt;/p>
&lt;p>å¦‚æžœèªªä½ æ²’æœ‰ä¸­æ–‡çš„éœ€æ±‚ï¼Œç¾åœ¨å°±å¯ä»¥ç”¨ &lt;code>pandoc index.md -o out.pdf&lt;/code> ç”¢ç”Ÿ PDF æª”äº†&lt;/p>
&lt;h2 id="ä¸­æ–‡">ä¸­æ–‡&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>Warning&lt;/strong>
&lt;del>æˆ‘å¾Œä¾†ä¸çŸ¥é“æžç ¸äº†ä»€éº¼ï¼Œåæ­£ç›®å‰ä¸­æ–‡æ˜¯å£žçš„ï¼Œæ‰¾åˆ°ä¸€å€‹ç”¨ç¶²é æŽ’ç‰ˆå†ç”¨ç€è¦½å™¨å…§å»ºåˆ—å°åŠŸèƒ½è¼¸å‡ºæˆ PDF çš„ç¶²é ï¼šhttps://github.com/realdennis/md2pdf&lt;/del>
å·²è§£æ±º&lt;/p>
&lt;/blockquote>
&lt;h3 id="å®‰è£å­—åž‹">å®‰è£å­—åž‹&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> $ sudo apt-get install texlive-fonts-recommended texlive-fonts-extra texlive-lang-chinese
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å­—åž‹è¨­å®š">å­—åž‹è¨­å®š&lt;/h3>
&lt;h4 id="æª”æ¡ˆå…§">æª”æ¡ˆå…§&lt;/h4>
&lt;p>åœ¨ md é–‹é ­è¨­å®šä¸€å€‹åŒ…å«ä¸­æ–‡çš„å­—åž‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CJKmainfont: &amp;#39;Noto Serif TC&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åƒæ•¸">åƒæ•¸&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> $ pandoc index.md -o out.pdf -V CJKmainfont=&amp;#39;Noto Serif TC&amp;#39; --pdf-engine xelatex
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>2023/02/24 æ–°å¢žï¼šè¦åŠ ä¸Š &lt;code>--pdf-engine xelatex&lt;/code> æ‰èƒ½æ­£ç¢ºè¼¸å‡ºä¸­æ–‡ï¼ŒåŽŸå› æ˜¯ä¸‹é¢ç”¨çš„ç¯„æœ¬ï¼Œä»–åªæœ‰åœ¨ä½¿ç”¨ xelatex å’Œ lualatex æ™‚æ‰æœƒæŠŠ &lt;code>CJKmainfont&lt;/code> å‚³éžä¸‹åŽ»&lt;/p>
&lt;/blockquote>
&lt;h2 id="ç¯„æœ¬">ç¯„æœ¬&lt;/h2>
&lt;p>pandoc æœ‰é è¨­çš„ LaTeX ç¯„æœ¬ï¼Œä½†æ˜¯ä¸æ€Žéº¼å¥½çœ‹ï¼Œå¯ä»¥ç”¨ç¶²è·¯ä¸Šé–‹æºçš„ç¯„æœ¬ï¼Œæˆ–æ˜¯èŠ±æ™‚é–“è‡ªå·±åˆ»å‡ºæœ€é©åˆè‡ªå·±çš„&lt;/p>
&lt;h3 id="eisvogel">Eisvogel&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/Wandmalfarbe/pandoc-latex-template" target="_blank" rel="noopener"
>GitHub é é¢&lt;/a>
åŽ» &lt;a class="link" href="https://github.com/Wandmalfarbe/pandoc-latex-template/releases/latest" target="_blank" rel="noopener"
>Release&lt;/a> ä¸‹è¼‰ï¼Œè§£å£“ç¸®åˆ° &lt;code>~/.local/share/pandoc/templates&lt;/code>ã€‚åœ¨ç·¨è­¯æ™‚åŠ ä¸Š &lt;code>--template eisvogel&lt;/code> å°±å¯ä»¥å¥—ç”¨æ¨¡æ¿äº†ã€‚&lt;/p>
&lt;h2 id="ç¯„ä¾‹">ç¯„ä¾‹&lt;/h2>
&lt;p>ä»¥ä¸‹æ˜¯ä¸€æ®µæ¸¬è©¦çš„ markdown ç”¢ç”Ÿå‡ºä¾†çš„ pdfï¼Œä½ å¯ä»¥ç”¨ &lt;a class="link" href="./out.pdf" >é€™å€‹é€£çµ&lt;/a> ä¸‹è¼‰ä¾†çœ‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title: Test pandoc convert md to pdf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">author: SimbaFs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gh"># æ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gh">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚ é€™æ˜¯ä¸€æ®µä¸­æ–‡çš„æ¸¬è©¦ï¼Œé€™å¥è©±å¾ˆé•·ï¼Œç”¨ä¾†æ¸¬è©¦æ–·è¡Œã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## list
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> b
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> c
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> e
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> f
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">-&lt;/span> g
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">1.&lt;/span> apple
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">2.&lt;/span> book
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">3.&lt;/span> cookie
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## link
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[&lt;span class="nt">SimbaFs&amp;#39; Blog&lt;/span>](&lt;span class="na">https://blog.simbafs.cc&lt;/span>)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## check list
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> [ ] check 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">-&lt;/span> [x] check 2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## code block
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">```go
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">&lt;/span>&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;hello world!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">```&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">## image
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gu">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">![](./blog.png)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>Info&lt;/strong>
é—œæ–¼å¦‚ä½•åœ¨ codeblock ä¸­å°å‡ºåå–®å¼•è™Ÿï¼š&lt;a class="link" href="https://stackoverflow.com/questions/55586867/how-to-put-in-markdown-an-inline-code-block-that-only-contains-a-backtick-char" target="_blank" rel="noopener"
>stackoverflow&lt;/a>
ç°¡å–®ä¾†èªªå¦‚æžœè£¡é¢è¦å° &lt;code>n&lt;/code> å€‹åå–®å¼•è™Ÿï¼Œå¤–é¢å°±è¦ç”¨ &lt;code>n+1&lt;/code> å€‹åå–®å¼•è™Ÿæ‹¬èµ·ä¾†&lt;/p>
&lt;/blockquote>
&lt;p>ç„¶å¾Œé€™æ˜¯æˆªåœ–ï¼š
&lt;figure>&lt;img src="./out-1.png"/>&lt;figcaption>
&lt;h4>page 1 of out.pdf&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;figure>&lt;img src="./out-2.png"/>&lt;figcaption>
&lt;h4>page 2 of out.pdf&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>å¯ä»¥çœ‹åˆ°å¤§éƒ¨åˆ†çš„èªžæ³•éƒ½å¯ä»¥è½‰æ›ï¼Œç”šè‡³æ˜¯ç¨‹å¼ç¢¼å€å¡Šéƒ½æœ‰èªžæ³•æç¤ºï¼ˆsyntax highlightï¼‰&lt;/p>
&lt;h2 id="å…¶ä»–">å…¶ä»–&lt;/h2>
&lt;h3 id="åˆ—å‡ºå®‰è£çš„ä¸­æ–‡å­—åž‹">åˆ—å‡ºå®‰è£çš„ä¸­æ–‡å­—åž‹&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> $ fc-list :lang=zh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒè€ƒé€£çµ">åƒè€ƒé€£çµ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://sam.webspace.tw/2020/01/13/%E4%BD%BF%E7%94%A8%20Pandoc%20%E5%B0%87%20Markdown%20%E8%BD%89%E7%82%BA%20PDF%20%E6%96%87%E4%BB%B6/" target="_blank" rel="noopener"
>https://sam.webspace.tw/2020/01/13/%E4%BD%BF%E7%94%A8%20Pandoc%20%E5%B0%87%20Markdown%20%E8%BD%89%E7%82%BA%20PDF%20%E6%96%87%E4%BB%B6/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/jgm/pandoc/wiki/Pandoc-with-Chinese" target="_blank" rel="noopener"
>https://github.com/jgm/pandoc/wiki/Pandoc-with-Chinese&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Wandmalfarbe/pandoc-latex-template" target="_blank" rel="noopener"
>https://github.com/Wandmalfarbe/pandoc-latex-template&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://tex.stackexchange.com/questions/341809/pandoc-does-not-recognize-chinese-characters" target="_blank" rel="noopener"
>https://tex.stackexchange.com/questions/341809/pandoc-does-not-recognize-chinese-characters&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://tex.stackexchange.com/questions/179778/xelatex-under-ubuntu" target="_blank" rel="noopener"
>https://tex.stackexchange.com/questions/179778/xelatex-under-ubuntu&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://pandoc.org/" target="_blank" rel="noopener"
>https://pandoc.org/&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Git Snippet</title><link>https://blog.simbafs.cc/p/linux/git/git-snippet/</link><pubDate>Mon, 20 Feb 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/git/git-snippet/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/git/git-snippet.png" alt="Featured image of post Git Snippet" />&lt;h1 id="git-snippet">Git Snippet&lt;/h1>
&lt;h2 id="move-branch-to-another-commit-not-recommand">move branch to another commit (not recommand)&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> git branch --force &amp;lt;branch name&amp;gt; &amp;lt;commit id&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="list-changed-filename">list changed filename&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> git diff --name-only HEAD
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/1552340/how-to-list-only-the-names-of-files-that-changed-between-two-commits" target="_blank" rel="noopener"
>ref: stackoverflow&lt;/a>&lt;/p></description></item><item><title>Linux å®‰è£è·‘è·‘å¡ä¸è»Šï¼ˆnexon launcherï¼‰</title><link>https://blog.simbafs.cc/p/game/nexon/</link><pubDate>Thu, 16 Feb 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/game/nexon/</guid><description>&lt;img src="https://blog.simbafs.cc/og/game/nexon.png" alt="Featured image of post Linux å®‰è£è·‘è·‘å¡ä¸è»Šï¼ˆnexon launcherï¼‰" />&lt;h1 id="å¦‚ä½•åœ¨-linux-å®‰è£è·‘è·‘å¡ä¸è»Š">å¦‚ä½•åœ¨ Linux å®‰è£è·‘è·‘å¡ä¸è»Š&lt;/h1>
&lt;ol>
&lt;li>åŽ»å®˜ç¶²ä¸‹è¼‰ Nexon å•Ÿå‹•å™¨è¨­å®š exe&lt;/li>
&lt;li>åŽ» Steam å·¦ä¸‹è§’æ–°å¢žéŠæˆ² &amp;gt; éž steam éŠæˆ²ï¼Œæ‰¾åˆ°ä½ çš„ exeï¼Œå¯èƒ½è¦æ³¨æ„ä¸€ä¸‹ filetype&lt;/li>
&lt;li>åœ¨ steam éŠæˆ²é é¢å³ä¸Šè§’é½’è¼ª &amp;gt; å…§å®¹ &amp;gt; ç›¸å®¹æ€§ &amp;gt; æ‰“å‹¾å‹¾ &amp;gt; Proton&lt;/li>
&lt;li>å•Ÿå‹•éŠæˆ²ï¼æŒ‰ç…§æ­¥é©Ÿè£å®Œå•Ÿå‹•å™¨ã€é—œæŽ‰ä»–&lt;/li>
&lt;li>steam éŠæˆ²é é¢å³ä¸Šè§’é½’è¼ª &amp;gt; å…§å®¹ &amp;gt; æ·å¾‘ &amp;gt; é–‹å§‹ä½ç½® &amp;gt; ç€è¦½ï¼Œæ”¹æˆ &lt;code>~/.local/share/Steam/steamapps/compatdata/${steam game id}/pfx/drive_c/Program Files (x86)/Nexon/Nexon Launcher/nexon_launcher.exe &lt;/code>
å¥½äº†&lt;/li>
&lt;/ol></description></item><item><title>TypeScript Snippet</title><link>https://blog.simbafs.cc/p/js/typescript-snippet/</link><pubDate>Fri, 10 Feb 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/typescript-snippet/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/typescript-snippet.png" alt="Featured image of post TypeScript Snippet" />&lt;h1 id="typescript-snippet">TypeScript Snippet&lt;/h1>
&lt;h2 id="keyof">keyof&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">SettingOptions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fontSize&lt;/span>: &lt;span class="kt">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lineHeight&lt;/span>: &lt;span class="kt">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">letterSpacing&lt;/span>: &lt;span class="kt">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`#&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">backgroundColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`#&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">OptionKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">keyof&lt;/span> &lt;span class="nx">SettingOptions&lt;/span> &lt;span class="c1">// &amp;#39;fontSize&amp;#39; | &amp;#39;lineHeight&amp;#39; | &amp;#39;letterSpacing&amp;#39; ...
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://www.typescriptlang.org/docs/handbook/2/keyof-types.html" target="_blank" rel="noopener"
>docs: keyof&lt;/a>&lt;/p>
&lt;h2 id="static-method-of-class">static method of class&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">A&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">declare&lt;/span> &lt;span class="nx">propertyA&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">declare&lt;/span> &lt;span class="nx">propertyB&lt;/span>: &lt;span class="kt">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">static&lt;/span> &lt;span class="nx">build() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">A&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">propertyA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;default&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">propertyB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;100&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="valueof">valueof&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;KEY_A&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;KEY_B&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="kr">const&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">ValueOf&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="k">keyof&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ValueOf&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">typeof&lt;/span> &lt;span class="na">key&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// type Key = &amp;#39;KEY_A&amp;#39; | &amp;#39;KEY_B&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Bubbletea</title><link>https://blog.simbafs.cc/p/golang/bubbletea/</link><pubDate>Sun, 08 Jan 2023 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/bubbletea/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/bubbletea.png" alt="Featured image of post Bubbletea" />&lt;h1 id="charmbraceletbubbletea">charmbracelet/bubbletea&lt;/h1>
&lt;p>charmbracelet/bubbletea æ˜¯ä¸€å€‹é¡žä¼¼æ–¼ HTMLï¼Œä½†æ˜¯ä»–æ˜¯ç”¨åœ¨çµ‚ç«¯æ©Ÿä¸­å»ºç«‹ç´”æ–‡å­—çš„ä½¿ç”¨è€…ç•Œé¢ã€‚&lt;/p>
&lt;h2 id="model">model&lt;/h2>
&lt;p>model æ˜¯ bubbletea ä¸­æœ€åŸºæœ¬çš„å…ƒä»¶ï¼Œå°æ‡‰åˆ° HTML ä¸­å°±æ˜¯ tagï¼Œä¸€å€‹ model éœ€è¦æœ‰ä»¥ä¸‹ä¸‰å€‹æ–¹æ³•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">model&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="nx">model&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Init&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cmd&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="nx">model&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Msg&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Model&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cmd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="nx">model&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">View&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>Init&lt;/code> å‡½å¼å®šç¾©åªåœ¨å»ºç«‹ model æ™‚è¦åŸ·è¡Œçš„ cmdï¼Œ&lt;code>Update&lt;/code> å®šç¾©æ¯å€‹ tick éƒ½æœƒåŸ·è¡Œçš„ç¨‹å¼ï¼Œ&lt;code>View&lt;/code> å°‡ model ç¹ªè£½æˆå­—ä¸²ã€‚&lt;/p>
&lt;h2 id="cmd">cmd&lt;/h2>
&lt;p>cmd éœ€è¦ç¬¦åˆä»¥ä¸‹å®šç¾©&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Msg&lt;/span> &lt;span class="kd">interface&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Msg&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>cmd çš„åŠŸèƒ½æ˜¯ç‚ºäº†åŸ·è¡Œ IO æ“ä½œè€Œä¸é˜»ç¤™ç•«é¢ï¼Œå› æ­¤ cmd æœƒè¢«æ”¾åœ¨ gorutine ä¸­éžåŒæ­¥åŸ·è¡Œï¼Œè€Œ &lt;code>Update&lt;/code> ä¸æœƒã€‚
å¦‚æžœåœ¨ &lt;code>Init&lt;/code>ã€&lt;code>Update&lt;/code> ä¸­è¦å›žå‚³å¤šå€‹ cmdï¼Œå¯ä»¥ç”¨ &lt;code>tea.Batch(cmd...)&lt;/code> æŠŠä»–å€‘åŒ…èµ·ä¾†&lt;/p>
&lt;p>å¦‚æžœä½ çš„ cmd éœ€è¦å‚³å…¥åƒæ•¸ï¼Œä¾‹å¦‚ &lt;code>readFile(filename)&lt;/code>ï¼Œå¯ä»¥å®šç¾©æˆ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">textMsg&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">readFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">filename&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cmd&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Msg&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">iotuil&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">filename&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nf">textMsg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;error&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nf">textMsg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç‹€æ…‹">ç‹€æ…‹&lt;/h2>
&lt;p>åœ¨ model å®šç¾©ç‹€æ…‹å°±åœ¨ struct ä¸­ç›´æŽ¥æ–°å¢žæ¬„ä½å°±å¯ä»¥äº†ï¼Œè¦æ³¨æ„çš„æ˜¯å¦‚æžœåœ¨ &lt;code>Update&lt;/code> ä¸­è¦å­˜å–å­ model çš„ç‹€æ…‹ï¼Œè«‹æŠŠ &lt;code>Update&lt;/code> å‚³éžä¸‹åŽ»ä¸¦åœ¨å­ model çš„ &lt;code>Update&lt;/code> ä¸­å­˜å–ç‹€æ…‹&lt;/p>
&lt;h2 id="å­-model-å’Œ-initupdate-å‚³éž">å­ model å’Œ Init/Update å‚³éž&lt;/h2>
&lt;p>å®šç¾©å­ model&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">model&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">username&lt;/span> &lt;span class="nx">textinput&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Model&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span> &lt;span class="nx">textinput&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Model&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚º bubbletea åªè² è²¬åŸ·è¡Œ model çš„ &lt;code>Init&lt;/code> å’Œ &lt;code>Update&lt;/code>ï¼Œæ‰€ä»¥è«‹è¨˜å¾—åœ¨ model çš„ &lt;code>Init&lt;/code> å’Œ &lt;code>Update&lt;/code> ä¸­ï¼Œè¦è¨˜å¾—æŠŠå…©å€‹å‡½æ•¸çš„åŸ·è¡Œå‚³éžä¸‹åŽ»&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="nx">model&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nx">Init&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cmd&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Batch&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">username&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Init&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Init&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="nx">model&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Msg&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Model&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cmd&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">cmds&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cmd&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">username&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">cmds&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">usrename&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">cmds&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Batch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">cmds&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å•é¡Œ">å•é¡Œ&lt;/h3>
&lt;p>å¦‚æžœå­ model è®Šå¤šï¼Œé‚£å°æ–¼å‚³éžçš„ç®¡ç†å°±æœƒè®Šå¾—å¾ˆè¤‡é›œï¼Œè¦æƒ³çš„æ–¹æ³•è§£æ±ºï¼Œéœ€è¦å¯ä»¥ä¸€æ¬¡ç®¡ç†ä¸åŒé¡žåž‹çš„ model&lt;/p>
&lt;h2 id="å¿ƒå¾—">å¿ƒå¾—&lt;/h2>
&lt;p>&lt;code>Update&lt;/code> ä¸­åªæŽ¥æ”¶å’Œè‡ªå·±æœ‰é—œçš„ msgï¼Œå’Œè‡ªå·±ç„¡é—œçš„å°±å‚³éžä¸‹åŽ»ï¼Œçµ•å°ä¸æ“ä½œä¸å±¬æ–¼è‡ªå·±çš„å±¬æ€§ï¼Œä¸ç„¶æœƒå‡º bug&lt;/p></description></item><item><title>GPG and Yubikey</title><link>https://blog.simbafs.cc/p/linux/gpg-yubikey/</link><pubDate>Mon, 12 Dec 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/gpg-yubikey/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/gpg-yubikey.png" alt="Featured image of post GPG and Yubikey" />&lt;h1 id="gpg">GPG&lt;/h1>
&lt;p>GPG æ˜¯ç”± ç”± PGPã€OpenPGP æ¼”åŒ–è€Œä¾†ï¼Œå±¬æ–¼ GNU è¨ˆç•«ä¹‹ä¸€ï¼Œä¸»è¦åŠŸèƒ½æ˜¯åœ¨ä¸å®‰å…¨é€šé“å»ºç«‹å®‰å…¨å¯ä¿¡çš„é€šè¨Šã€‚ç‚ºäº†å»ºç«‹å®‰å…¨å¯ä¿¡ï¼Œéœ€è¦è§£æ±ºå¹¾å€‹å•é¡Œï¼šåŠ å¯†æ˜Žæ–‡ã€é©—è­‰ç™¼é€æ–¹ã€é©—è­‰æŽ¥æ”¶æ–¹ï¼Œä»¥åŠç‚ºäº†è§£æ±ºå‰é¢ä¸‰å€‹å•é¡Œè€Œç”¢ç”Ÿçš„æ–°å•é¡Œï¼šä¿¡ä»»ã€‚&lt;br>
ç‚ºäº†é©—è­‰ç™¼é€æ–¹ï¼Œç™¼é€æ–¹éœ€è¦ç”¢ç”Ÿåªæœ‰ç™¼é€æ–¹èƒ½ç”¢ç”Ÿçš„ç°½ç« ä½µé™„åœ¨å…§å®¹å¾Œé¢ã€‚ç‚ºäº†é©—è­‰æŽ¥æ”¶æ–¹ï¼Œè¦æŠŠå…§å®¹ç”¨åªæœ‰æŽ¥æ”¶æ–¹æ‰èƒ½è§£é–‹çš„æ–¹å¼æŠŠå…§å®¹ä¿è­·èµ·ä¾†ï¼Œé€™åŒæ™‚å¯ä»¥åšåˆ°åŠ å¯†æ˜Žæ–‡ã€‚&lt;/p>
&lt;p>GPG ä¸­æ¯å€‹äººéƒ½æœ‰ä¸€å€‹é‘°åŒ™åœˆï¼ˆkeyringï¼‰ï¼Œå°±åƒä½ åŒ…åŒ…è£¡çš„é‘°åŒ™åœˆï¼ŒGPG çš„ keyring ä¹Ÿå¯ä»¥æœ‰ä¸åªä¸€æŠŠé‡‘é‘°ã€‚é€šå¸¸ä¾†èªªæœƒæ˜¯ä¸€æŠŠä¸»é‡‘é‘°å’Œè‹¥å¹²æŠŠçš„å­é‡‘é‘°ï¼Œæ¯ä¸€æŠŠéƒ½æ˜¯éžå°ç¨±é‡‘é‘°å°ï¼Œä¹Ÿå°±æ˜¯æœƒæœ‰å…¬é‘°å’Œç§é‘°ï¼ˆå¯†é‘°ï¼‰ã€‚å…¬é‘°æ˜¯éœ€è¦å…¬ä½ˆçµ¦å…¶ä»–äººçŸ¥é“çš„ï¼ˆé‚„è¦åƒè¾¦æ³•è®“å…¶ä»–äººã€Œä¿¡ä»»ã€ï¼‰ï¼Œè€Œç§é‘°æ˜¯å¿…é ˆä¿è­·å¥½ï¼Œå¾Œé¢æåˆ°çš„ Yubikey å°±æ˜¯ç‚ºäº†ä¿è­·æˆ‘å€‘çš„ç§é‘°ï¼Œç›¡é‡è®“ä»–æš´éœ²çš„é¢¨éšªè¶Šä½Žè¶Šå¥½ã€‚&lt;/p>
&lt;h2 id="ä¸»é‡‘é‘°å’Œå­é‡‘é‘°çš„é—œä¿‚">ä¸»é‡‘é‘°å’Œå­é‡‘é‘°çš„é—œä¿‚&lt;/h2>
&lt;p>ä¸€çµ„ GPG keyring ä¸­æœƒæœ‰ä¸€å€‹ä¸»é‡‘é‘°å’Œè‹¥å¹²å€‹å­é‡‘é‘°ï¼Œä¸»é‡‘é‘°çš„åŠŸèƒ½æ˜¯èº«ä»½è­‰æ˜Žå’Œé‡‘é‘°ç®¡ç†ï¼Œè€Œå­å¯†é‘°å°±æ˜¯ä¸€èˆ¬çš„æ“ä½œã€‚ä¹‹æ‰€ä»¥éœ€è¦æœ‰é€™å€‹è¨­è¨ˆï¼Œæ˜¯ç‚ºäº†ç›¡å¯èƒ½ä¿è­·ä¸»å¯†é‘°ä¸æ´©æ¼ã€‚åœ¨æ—¥å¸¸çš„ GPG ä½¿ç”¨ä¸­ï¼Œæˆ‘å€‘ä¸å¯é¿å…éœ€è¦å¯†é‘°ï¼ˆè§£å¯†ã€ç°½ç« ç­‰ç­‰ï¼‰ï¼Œå¦‚æžœå…¨éƒ¨éƒ½ä½¿ç”¨ä¸»å¯†é‘°æ“ä½œï¼Œä¹Ÿä¸æ˜¯èªªä¸è¡Œï¼Œä½†æ˜¯è¬ä¸€ä¸»å¯†é‘°æ´©æ¼ï¼Œå°±è¦é‡æ–°ç”¢ç”Ÿäº†ã€‚ä½†å¦‚æžœå°‡æ—¥å¸¸åŠŸèƒ½ç§»åˆ°å’Œä¸»å¯†é‘°ç›¸é—œé€£çš„å­å¯†é‘°ï¼Œä¸»å¯†é‘°åƒ…ä¿ç•™é‡è¦çš„ã€Œèº«ä»½è­‰æ˜Žã€åŠŸèƒ½ï¼Œå¦‚æ­¤ä¸€ä¾†å°±å¯ä»¥å°‡ &lt;a class="link" href="https://blog.theerrorlog.com/using-gpg-zh.html" target="_blank" rel="noopener"
>ä¸»å¯†é‘°åˆ†é›¢&lt;/a>ï¼ˆé€™ç®—æ˜¯é«˜éšŽæ“ä½œï¼‰ï¼ŒæŠŠä¸å¸¸ç”¨åˆ°ä½†æ˜¯éžå¸¸é‡è¦çš„ä¸»é‡‘é‘°è—å¥½ï¼ˆåƒæ˜¯é›¢ç·šå„²å­˜ï¼Œæˆ–æ˜¯æœ€æ¥µç«¯çš„åœ¨é›¢ç·šçš„æ©Ÿå™¨ç”¢ç”Ÿã€åŒ¯å‡ºç„¶å¾Œåˆªé™¤ï¼‰ã€‚å¦‚æžœä¸»å¯†é‘°æ´©æ¼æˆ–æ˜¯éºå¤±ï¼Œé‚£å°±è¦é‡æ–°ç”¢ç”Ÿï¼Œç­‰æ–¼æ˜¯ä¸€å€‹å…¨æ–°çš„èº«ä»½ï¼Œæ‰€æœ‰ä¿¡ä»»é—œä¿‚å¿…é ˆå¾žé ­å»ºç«‹ã€‚&lt;/p>
&lt;p>å› ç‚ºä¸»é‡‘é‘°å’Œå­é‡‘é‘°æ˜¯ä¸åŒé‡‘é‘°å°ï¼Œæ‰€ä»¥å¦‚æžœä½ ç”¨ Alice å­å…¬é‘°åŠ å¯†ï¼Œæ˜¯ä¸èƒ½ç”¨ Bella å­å¯†é‘°ç”šè‡³æ˜¯ä¸»å¯†é‘°è§£å¯†çš„ï¼Œç°½ç« å’Œè­‰æ˜Žä¹Ÿæ˜¯å¦‚æ­¤ã€‚&lt;/p>
&lt;h3 id="å¦‚ä½•é€£çµå­å¯†é‘°å’Œä¸»å¯†é‘°">å¦‚ä½•é€£çµå­å¯†é‘°å’Œä¸»å¯†é‘°&lt;/h3>
&lt;p>å­é‡‘é‘°å’Œä¸»é‡‘é‘°æ˜¯ä¸åŒçš„é‡‘é‘°ï¼Œç”šè‡³å¯ä»¥ç”¨ä¸åŒçš„æ¼”ç®—æ³•ç”¢ç”Ÿï¼Œé‚£æ˜¯ä»€éº¼æ±è¥¿æ±ºå®šä»–å€‘çš„åœ°ä½å·®ç•°å‘¢ï¼Ÿæ ¹æ“šæˆ‘å° &lt;a class="link" href="https://superuser.com/questions/1113308/what-is-the-relationship-between-an-openpgp-key-and-its-subkey" target="_blank" rel="noopener"
>é€™ç¯‡å•ç­”&lt;/a> çš„ç†è§£ï¼ˆå¾ˆå¯èƒ½æ˜¯éŒ¯çš„ï¼Œç¶²è·¯ä¸Šé€™æ–¹é¢çš„è³‡æ–™æœ‰å¤ å°‘ï¼‰ï¼Œåœ¨ç”¨ä¸»é‡‘é‘°ç”¢ç”Ÿå­é‡‘é‘°çš„æ™‚å€™ï¼Œæœƒç”¨ä¸»å¯†é‘°å¹«å­é‡‘é‘°ã€Œç°½ç« ã€ï¼Œé€™å€‹ç¨±ä¹‹ç‚ºã€ŒBellainding Sigantureã€ã€‚GPG å°±æ˜¯ç”¨é€™å€‹ binding signature åŽ»è­‰æ˜Žå­å¯†é‘°å±¬æ–¼å“ªå€‹ keyringã€‚&lt;/p>
&lt;h3 id="ä»€éº¼æ“ä½œå±¬æ–¼èº«ä»½è­‰æ˜Žcertify">ä»€éº¼æ“ä½œå±¬æ–¼èº«ä»½è­‰æ˜Ž(Certify)&lt;/h3>
&lt;p>å‰é¢æåˆ°ï¼Œä¸»é‡‘é‘°çš„åŠŸèƒ½æ˜¯èº«ä»½è­‰æ˜Žï¼Œä½†æ˜¯æ€Žæ¨£çš„æ“ä½œæ˜¯å±¬æ–¼èº«ä»½è­‰æ˜Žå‘¢ï¼Ÿæ ¹æ“šé€™ &lt;a class="link" href="https://security.stackexchange.com/questions/73679/which-actions-does-the-gnupg-certify-capability-permit" target="_blank" rel="noopener"
>é€™ç¯‡å•ç­”&lt;/a> å’Œ &lt;a class="link" href="https://www.rfc-editor.org/rfc/rfc4880#section-5.2.1" target="_blank" rel="noopener"
>RFC 4880&lt;/a>ï¼Œä»¥ä¸‹æ“ä½œéƒ½æ˜¯å±¬æ–¼èº«ä»½è­‰æ˜Ž&lt;/p>
&lt;ul>
&lt;li>å°æŸå€‹ä½¿ç”¨è€…çš„å…¬é‘°ç°½ç« ï¼ˆä¿¡ä»»æŸå€‹ä½¿ç”¨è€…ï¼Œç›¸é—œå…§å®¹åœ¨ä¿¡ä»»ç¶²ç« ç¯€ï¼‰&lt;/li>
&lt;li>ç°½ç™¼ binding signatureï¼ˆé€™è£¡åˆ†æˆ subkey binding signature å’Œ primary binding signatureï¼Œä½†æˆ‘é‚„æ²’ç ”ç©¶å‡ºå·®åˆ¥ï¼‰&lt;/li>
&lt;li>ç°½ç™¼é‡‘é‘°æ’¤éŠ·é‡‘é‘°ï¼ˆç•¶ä½ çš„å­å¯†é‘°æ´©æ¼æ™‚å®£å‘Šç”¨ï¼‰&lt;/li>
&lt;/ul>
&lt;p>ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯ç”¢ç”Ÿã€æ’¤éŠ·å­é‡‘é‘°ä»¥åŠå’Œã€Œä¿¡ä»»ã€æœ‰é—œçš„æ“ä½œéƒ½ç®—æ˜¯ã€Œèº«ä»½è­‰æ˜Žã€(Certify)&lt;/p>
&lt;h2 id="usage-flag">Usage Flag&lt;/h2>
&lt;p>æ¯å°é‡‘é‘°å…¶å¯¦éƒ½æœ‰ç°½ç« ã€åŠ å¯†ã€é©—è­‰ç­‰ç­‰åŠŸèƒ½ï¼ˆå¯èƒ½æœƒä¾ä½¿ç”¨çš„æ¼”ç®—æ³•ä¸åŒè€Œå—é™ï¼Œåƒæ˜¯ DSAlice åªèƒ½ç°½ç« ï¼‰ï¼Œç‚ºäº†æ¸…æ¥šçš„åˆ‡åˆ†ä¸åŒå¯†é‘°çš„åŠŸèƒ½ï¼ŒGPG æŽ¡ç”¨çš„æ–¹æ³•æ˜¯ Usage Flagï¼Œä»–æœƒæ¨™æ³¨ä¸€å€‹é‡‘é‘°çš„ç”¨é€”æ˜¯ã€Œ&lt;strong>C&lt;/strong>ertify èº«ä»½è­‰æ˜Žã€ã€ã€Œ&lt;strong>S&lt;/strong>ign ç°½ç« ã€ã€ã€Œ&lt;strong>E&lt;/strong>ncrypt åŠ è§£å¯†ã€ã€ã€Œ&lt;strong>Alice&lt;/strong>uthenticate èªè­‰ã€ã€‚å¦‚æžœä½ åœ¨ç”¢ç”Ÿé‡‘é‘°æ™‚åŠ ä¸Š &lt;code>--expert&lt;/code> å°ˆå®¶é¸é …ï¼Œä½ æœƒåœ¨é¸æ“‡æ¼”ç®—æ³•çš„åˆ—è¡¨çœ‹åˆ°æŸäº›é¸é …å¾Œé¢å¸¶è‘— &lt;code>(set your own capabilities)&lt;/code>ï¼Œé¸é€™äº›å¯ä»¥è®“ä½ æ±ºå®šç”¢ç”Ÿçš„é‡‘é‘°æœ‰å“ªäº› Usage Flagï¼Œä¸ç„¶å°±æœƒä½¿ç”¨é è¨­çš„ã€‚&lt;/p>
&lt;p>å…¶ä¸­åœ¨ä¸Šä¸€å€‹å°ç¯€æåˆ°çš„ Certify åŠŸèƒ½å¿…é ˆ&lt;strong>ä¸”åªèƒ½&lt;/strong>ï¼ˆæ‡‰è©²å§ï¼Œæˆ‘æ˜¯æ‰¾ä¸åˆ°æ€Žéº¼åœ¨å­å¯†é‘°ä¸ŠåŠ  Certifyï¼‰è¨­å®šåœ¨ä¸»å¯†é‘°ä¸Šã€‚å¦å¤– Certify å’Œ Aliceuthenticate çš„ä¸­æ–‡ç¿»è­¯éƒ½å¾ˆåƒï¼Œä½†æ˜¯åŠŸèƒ½å»å¤§å¤§ä¸åŒï¼ŒCertify å‰›å‰›ä¸Šé¢æéŽï¼Œå°±æ˜¯ã€Œä¿¡ä»»ã€ï¼ŒAliceuthenticate å‰‡æ˜¯åƒæ˜¯ ssh ç™»å…¥çš„æ“ä½œï¼ˆä¸‹é¢æœƒæåˆ°ï¼‰&lt;/p>
&lt;h2 id="uid">uid&lt;/h2>
&lt;p>æ¯å€‹ keyring éƒ½å°æ‡‰åˆ°ä¸€å€‹äººï¼Œä½†é€šå¸¸ä¸€å€‹äººæœ‰ä¸åªä¸€å€‹çš„ email addressï¼Œå› æ­¤ GPG ä¹Ÿæ”¯æ´å°æ‡‰å¤šå€‹ email addressï¼Œé€™å€‹åœ¨ GPG çµ‚å°±ç¨±ä¹‹ç‚º uidï¼Œè£¡é¢æœƒåŒ…å«é€™å€‹äººçš„åå­—å’Œ email address&lt;/p>
&lt;h2 id="key-fingerprintid-and-keygrip">key fingerprint(id) and keygrip&lt;/h2>
&lt;p>fingerprint å’Œ keygrip éƒ½æ˜¯è¦å°æ–¼é‡‘é‘°å°è­˜åˆ¥ï¼Œä»–å€‘éƒ½æ˜¯æŠŠè¦è­˜åˆ¥çš„å…¬é‘°å°æ‹¿åŽ» hashï¼ŒåŠŸèƒ½æ˜¯å¯ä»¥å¿«é€Ÿæ¯”è¼ƒå…©æŠŠ key æ˜¯å¦ç›¸åŒï¼Œä¾‹å¦‚ä½ å¾žç¶²è·¯ä¸Šæ‰¾åˆ°æŸå€‹äººçš„å…¬é‘°ï¼Œå¯ä»¥ç”¨ fingerprint å’Œé‚£å€‹äººæ¯”å°æ˜¯ä¸æ˜¯åŒä¸€æŠŠ keyï¼ˆfingerprint 40 å€‹å­—å…ƒï¼Œå®Œæ•´çš„ key å¯èƒ½æœ‰ä¸Šåƒå€‹å­—å…ƒï¼‰ã€‚çœ‹åˆ°é€™è£¡ä½ æœƒè¦ºå¾— fingerprint å’Œ keygrip å¾ˆåƒï¼Œçš„ç¢ºï¼Œä»–å€‘çš„å·®ç•°åªå·®åœ¨åŒ…å«çš„è³‡è¨Šä¸ä¸€æ¨£&lt;/p>
&lt;ul>
&lt;li>fingerprint
&lt;ul>
&lt;li>å…¬é‘°&lt;/li>
&lt;li>å»ºç«‹æ—¥æœŸ&lt;/li>
&lt;li>æ¼”ç®—æ³•&lt;/li>
&lt;li>å…¬é‘° packet ç‰ˆæœ¬ï¼ˆå„²å­˜å…¬é‘°çš„è³‡æ–™çµæ§‹ï¼‰&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>keygrip
&lt;ul>
&lt;li>å…¬é‘°&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ä½ æœƒç™¼ç¾ï¼Œkeygrip åªåŒ…å«å…¬é‘°ï¼Œè€Œ fingerprint å‰‡æ˜¯åŒ…å«äº†ä¸€å † gpg å…§éƒ¨è³‡è¨Šï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥èªª keygrip æ˜¯ã€Œå’Œ GPG ç„¡é—œã€çš„è­˜åˆ¥ã€‚&lt;/p>
&lt;p>é›–ç„¶å…©è€…éƒ½èƒ½è­˜åˆ¥ä¸»é‡‘é‘°å’Œå­é‡‘é‘°ï¼Œä½†æ˜¯åœ¨æˆ‘è‡ªå·±çš„ä½¿ç”¨ä¸­ï¼Œé€šå¸¸ fingerprint æœƒç”¨ä¾†è­˜åˆ¥ä¸»é‡‘é‘°ï¼ˆæ•´å€‹ keyringï¼‰ï¼Œkeygrip æœƒæ‹¿ä¾†ç‰¹åˆ¥æŒ‡å®šè¦ç”¨å“ªä¸€å€‹å­é‡‘é‘°ã€‚&lt;/p>
&lt;h2 id="ä¿¡ä»»ç¶²">ä¿¡ä»»ç¶²&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>Information&lt;/strong>
æŽ¥ä¸‹ä¾†çš„ã€Œå…¬é‘°ã€é€šå¸¸æ˜¯æŒ‡ &amp;ldquo;public key packet&amp;rdquo;ï¼Œä¹Ÿå°±æ˜¯æŒ‡ä»¤ &lt;code>gpg --export&lt;/code> é è¨­æœƒåå‡ºä¾†çš„æ±è¥¿ï¼Œè£¡é¢åŒ…å«ä¸»å…¬é‘°ã€å­å…¬é‘°å€‘ã€uid è³‡è¨Šä»¥åŠåˆ¥äººå°é€™å€‹å…¬é‘°çš„ç°½ç« ç­‰ç­‰&lt;/p>
&lt;/blockquote>
&lt;p>ç¾åœ¨æƒ³åƒä¸€å€‹æƒ…å¢ƒï¼ŒAlice è¦åŠ å¯†ä¸€æ®µè¨Šæ¯å‚³çµ¦ Bellaï¼Œæ‰€ä»¥ä»–éœ€è¦åŽ»æ‰¾åˆ° Bella çš„å…¬é‘°ï¼ŒAlice ä¸Šç¶²æ‰¾åˆ°ä¸€å€‹å…¬é‘°çš„ uid æ˜¯ &lt;code>Bella &amp;lt;b@exmaple.com&amp;gt;&lt;/code>ï¼Œæ–¼æ˜¯ä»–å°±ç”¨é€™ä»½å…¬é‘°åŠ å¯†è¨Šæ¯å¾Œå‚³çµ¦ Bellaï¼Œä½†æ˜¯é€™ä»½å…¬é‘°å…¶å¯¦æ˜¯ C å½è£çš„ï¼Œé‚£é€™æ¨£ç¥•å¯†è¨Šæ¯å°±æœƒè¢« C çŸ¥é“ã€‚&lt;/p>
&lt;p>ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼ŒAlice æ‹¿åˆ°å…¬é‘°å¾Œè¦é–‹å§‹å‚³è¨Šæ¯ä¹‹å‰ï¼Œéœ€è¦å…ˆç”¨ä¸€å€‹å¯ä¿¡çš„é€šé“å’Œ Bella ç¢ºèªå…¬é‘°æ˜¯å¦æ­£ç¢ºï¼ˆç•¶é¢æ¯”å° fingerprint ä¹‹é¡žçš„ï¼‰ï¼ŒæŽ¥è€… Alice ç”¨ä»–çš„ä¸»å¯†é‘°å¹« Bella çš„å…¬é‘°ç°½ç« ï¼ˆAlice sign Bella&amp;rsquo;s keyï¼‰ï¼Œåšå‡ºå®£å‘Šã€ŒAlice èªç‚ºé€™æŠŠå…¬é‘°æœ‰æ•ˆï¼ˆä¾†æºå’Œä¸Šé¢è¨˜è¼‰çš„æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯ Bellaã€ï¼ˆthis key is validatedï¼‰ã€‚é€™æ™‚å€™ Bella ä¹Ÿè·Ÿ Charlie ç¢ºèªéŽå…¬é‘°ä¸¦ç°½ç« ï¼ˆBella sign Charlie&amp;rsquo;s keyï¼‰ï¼Œå¦‚æžœ Alice ã€Œå®Œæ•´ã€ä¿¡ä»» Bella æœƒèªçœŸç¢ºèªå…¬é‘°çœŸå¯¦æ€§æ‰ç°½ç« ï¼Œé‚£ä»–å°±å¯ä»¥æ‹¿ Bella çš„å…¬é‘°åŽ»é©—è­‰ Bella çœŸçš„ç°½ç« éŽ Charlie çš„å…¬é‘°ï¼Œé‚£éº¼ Alice å¯ä»¥æ ¹æ“šé€™å€‹çµæžœç›¸ä¿¡ Charlie çš„å…¬é‘°æ˜¯çœŸçš„ï¼Œä¸ç”¨è¦ªè‡ªåŽ»æ‰¾ Charlie ç¢ºèªã€‚&lt;/p>
&lt;blockquote>
&lt;p>ã€Œç›¸ä¿¡å…¬é‘°æœ‰æ•ˆï¼ˆçœŸå¯¦æ€§ï¼‰ã€å’Œã€Œä¿¡ä»»ç°½ç« å…¬é‘°çš„äººã€åœ¨ GPG è£¡é¢éƒ½æ˜¯ &amp;ldquo;trust&amp;rdquo; ï¼Œæœ‰é»žå®¹æ˜“æžæ··ï¼Œä½†ä¸­æ–‡é‚„æ˜¯å¯ä»¥ç¨å¾®å€åˆ†é–‹ä¾†çš„&lt;/p>
&lt;/blockquote>
&lt;p>å°æ–¼å…¬é‘°ç°½ç« ç°½ç™¼è€…çš„ä¿¡ä»»å±¤ç´šå¯ä»¥åˆ†æˆä»¥ä¸‹äº”å€‹&lt;/p>
&lt;ol>
&lt;li>ä¸çŸ¥é“&lt;/li>
&lt;li>ä¸ä¿¡ä»»&lt;/li>
&lt;li>åŠä¿¡åŠç–‘&lt;/li>
&lt;li>å®Œæ•´ä¿¡ä»»&lt;/li>
&lt;li>çµ‚æ¥µä¿¡ä»»&lt;/li>
&lt;/ol>
&lt;p>å…¶ä¸­çµ‚æ¥µä¿¡ä»»å› ç‚ºæ¯”è¼ƒç‰¹åˆ¥å°±å…ˆä¸è«‡ï¼Œåœ¨ä¸Šé¢ Aliceã€Bella å’Œ Charlie çš„ä¾‹å­è£¡ï¼Œå¦‚æžœ Alice æ²’æœ‰ã€Œå®Œæ•´ä¿¡ä»»ã€Bellaï¼Œåªæœ‰ã€ŒåŠä¿¡åŠç–‘ã€ï¼Œé‚£éº¼ Charlie çš„å…¬é‘°å°±ä¸æœƒè¢«èªç‚ºæ˜¯æœ‰æ•ˆçš„&lt;/p>
&lt;p>ç›®å‰ç‚ºæ­¢çš„æ©Ÿåˆ¶ï¼Œæˆ‘å€‘è¦ç¢ºèªå…¬é‘°æœ‰æ•ˆéœ€è¦æ•´æ¢ä¿¡ä»»éŠä¹‹é–“éƒ½æ˜¯ã€Œå®Œæ•´ä¿¡ä»»ã€ä¸”éƒ½è¢«å‰ä¸€å€‹ç¢ºèªæ˜¯æœ‰æ•ˆï¼Œä½†æ˜¯é€™æ¨£ç¼ºä¹å½ˆæ€§ã€‚GPG æŽ¡ç”¨ä¸€å€‹å·§å¦™çš„æ–¹æ³•ä¾†æ“´å±•ç›®å‰çš„æ©Ÿåˆ¶ï¼Œä¸€æŠŠå…¬é‘°å¦‚æžœæ»¿è¶³ä»¥ä¸‹æ¢ä»¶ï¼Œå°±æœƒè¢«èªå®šæ˜¯æœ‰æ•ˆçš„ï¼š&lt;/p>
&lt;ol>
&lt;li>è¢«è¶³å¤ å¤šçš„æœ‰æ•ˆçš„äººï¼ˆå…¬é‘°æ˜¯æœ‰æ•ˆçš„ï¼‰ç°½ç« ï¼Œé€™æ„å‘³ä¸‹é¢æ¢ä»¶è‡³å°‘è¦æ»¿è¶³ä¸€å€‹
&lt;ol>
&lt;li>ä½ è¦ªè‡ªå°ä»–ç°½ç« &lt;/li>
&lt;li>è¢«ä¸€å€‹ã€Œå®Œæ•´ä¿¡ä»»ã€çš„äººç°½ç« &lt;/li>
&lt;li>è¢«ä¸‰å€‹ã€ŒåŠä¿¡åŠç–‘ã€çš„äººç°½ç« &lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>å¾žè‡ªå·±å‡ºç™¼åˆ°é‚£æŠŠå…¬é‘°çš„æœ€çŸ­è·¯å¾‘å°æ–¼ç­‰æ–¼äº”æ­¥&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>åœ¨å¯¦éš›ä½¿ç”¨æ™‚éœ€è¦å¹¾å€‹åŠä¿¡åŠç–‘çš„äººä»¥åŠè·¯å¾‘é•·åº¦é™åˆ¶éƒ½æ˜¯å¯ä»¥èª¿æ•´çš„ï¼Œé€™è£¡å¯«çš„æ˜¯ GPG é è¨­çš„å€¼&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;blockquote>
&lt;p>&lt;strong>Danger&lt;/strong>&lt;br>
ä»¥ä¸‹å…§å®¹å¾…é©—è­‰&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> +-----&amp;gt;Bella--------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Alice--+ +--&amp;gt;Daniel-----&amp;gt;Edson------&amp;gt;Galen
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | | |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | | |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +-&amp;gt;Charlie---+ |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +--&amp;gt;Frank
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æŠŠå…¬é‘°ç°½ç½²é—œä¿‚ç•«æˆåœ–&lt;br>
&lt;code>$ gpg --no-options --with-colons --fixed-list-mode --list-sigs | sig2dot -a -u &amp;quot;[User ID not found]&amp;quot; &amp;gt; myLUG.dot ; neato -Tpng myLUG.dot &amp;gt; myLUG.png ; open myLUG.png&lt;/code>&lt;br>
&lt;a class="link" href="https://github.com/bmarwell/sig2dot2" target="_blank" rel="noopener"
>https://github.com/bmarwell/sig2dot2&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œä¸Šåœ–ä»¥ Alice ç‚ºä¸­å¿ƒåˆ° Galen ç­‰å…­å€‹äººçš„ä¿¡ä»»é—œä¿‚ï¼Œç®­é ­ &lt;code>A---&amp;gt;B&lt;/code> ä»£è¡¨ A ç‚º B çš„å…¬é‘°ç°½ç« ï¼Œåœ¨ä»¥ä¸‹çš„ä¾‹å­ï¼Œæˆ‘å€‘èª¿æ•´ç‚ºåªéœ€è¦å…©å€‹åŠä¿¡åŠç–‘çš„æœ‰æ•ˆå…¬é‘°ä¿¡ä»»å°±å¯ä»¥ä¿¡ä»»ç‚ºæœ‰æ•ˆå…¬é‘°ï¼Œä½†è·¯å¾‘ä¸èƒ½è¶…éŽä¸‰ã€‚&lt;/p>
&lt;p>ä¸‹è¡¨æ˜¯åŸºæ–¼é€™å€‹ä¿¡ä»»ç¶² Alice å°å…¶ä»–äººçš„ä¿¡ä»»å±¤ç´šå’ŒæŽ¨å°Žå‡ºä¾†çš„å…¬é‘°æœ‰æ•ˆæ€§çµæžœã€‚&lt;br>
èˆ‰ä¾‹ä¾†èªªï¼Œç¬¬ä¸€å€‹æƒ…æ³æ˜¯é›–ç„¶ Alice ç¢ºèªäº† Bella å’Œ Charlie çš„å…¬é‘°æœ‰æ•ˆæ€§ï¼Œä½†æ˜¯ä»–åªç›¸ä¿¡ Charlie ï¼Œæ ¹æ“šé€™å€‹å¯ä»¥æŽ¨å°Žå‡ºä¾† Daniel, Edson, Frank ä¸‰äººçš„å…¬é‘°éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œå› ç‚º Alice å° Charlie æ˜¯å®Œæ•´ä¿¡ä»»ï¼Œå› æ­¤ Charlie ç¢ºèªéŽçš„å…¬é‘°å°æ–¼ Alice éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">æƒ…å¢ƒ&lt;/th>
&lt;th style="text-align:left">åŠä¿¡åŠç–‘&lt;/th>
&lt;th style="text-align:left">å®Œæ•´ä¿¡ä»»&lt;/th>
&lt;th style="text-align:left">ä¸€åŠæœ‰æ•ˆ&lt;/th>
&lt;th style="text-align:left">å®Œæ•´æœ‰æ•ˆ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">1&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">Charlie&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">Bella, Charlie, Daniel, Frank&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">2&lt;/td>
&lt;td style="text-align:left">Bella, Chalir&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">Feank&lt;/td>
&lt;td style="text-align:left">Bella, Charlie, Daniel&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">3&lt;/td>
&lt;td style="text-align:left">Charlie, Daniel&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">Daniel, Frank&lt;/td>
&lt;td style="text-align:left">Bella, Charlie&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">4&lt;/td>
&lt;td style="text-align:left">Charlie, Daniel, Bella&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">Edson&lt;/td>
&lt;td style="text-align:left">Bella, Charlie, Frank&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">5&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">Bella, Daniel, Edson&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">Bella, Daniel, Edson, Frank&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>éœ€è¦å¯¦é©—é©—è­‰&lt;/p>
&lt;/blockquote>
&lt;p>æ ¹æ“šæˆ‘çš„ç†è§£ï¼Œé¦–å…ˆæ˜¯è‡ªå·±ç°½çš„å…¬é‘°ä¸€å®šæ˜¯æœ‰æ•ˆçš„ï¼Œå†ä¾†æ˜¯å®Œæ•´ç›¸ä¿¡çš„äººç°½çš„ä¹Ÿæ˜¯æœ‰æ•ˆï¼Œå†ä¾†æ˜¯å¤ å¤šçš„åŠä¿¡åŠç–‘çš„äººéƒ½ç°½ç« çš„å…¬é‘°ä¹Ÿæœ‰æ•ˆï¼Œæœ€å¾Œä½ æœƒç™¼ç¾ï¼Œèƒ½å¤ å»¶ä¼¸åˆ°æœ€é çš„æœ‰æ•ˆå…¬é‘°æ˜¯ä¿¡ä»»çš„äººçš„å¤–åœä¸€åœˆä¸è¶…éŽé•·åº¦é™åˆ¶çš„åœ°æ–¹ã€‚&lt;/p>
&lt;hr>
&lt;p>ä¿¡ä»»ç¶²è¦è§£æ±ºçš„ä¸æ˜¯æŠ€è¡“å•é¡Œï¼Œæ˜¯ç¤¾äº¤å•é¡Œï¼Œå°±ç®—ä»Šå¤© GPG çš„è¨­è¨ˆæ”¹æˆæœ‰ä¸€å€‹æ¬Šå¨çš„é©—è­‰ä¸­å¿ƒåŽ»ç™¼å¸ƒæ¯ä¸€æŠŠå…¬é‘°ï¼Œé‚„æ˜¯æœƒé‡åˆ°ä¸€å€‹å•é¡Œï¼Œæˆ‘æ†‘ä»€éº¼ç›¸ä¿¡é€™å€‹é©—è­‰ä¸­å¿ƒï¼Ÿå› æ­¤ GPG æŽ¡ç”¨çš„ä¿¡ä»»ç¶²å¯ä»¥è®“æˆ‘å€‘å¾žçœŸå¯¦ä¸–ç•ŒæœƒæŽ¥è§¸çš„äººé–‹å§‹å»ºç«‹ä¿¡ä»»ç¶²ï¼Œå†æ¼¸æ¼¸åœ°æŠŠä¿¡ä»»ç¶²æ“´å¼µï¼Œé€™æ™‚æˆ‘å€‘ä¸æ˜¯å› ç‚ºã€Œé€™æ˜¯æ¬Šå¨ã€è€Œä¿¡ä»»ä¸€æŠŠå…¬é‘°è€Œæ˜¯å› ç‚ºæˆ‘å€‘åšå‡ºè¶³å¤ çš„åˆ¤æ–·æ‰æ±ºå®šä¸€æŠŠæœªçŸ¥å…¬é‘°æ˜¯å¦å¯ä¿¡ã€‚&lt;/p>
&lt;blockquote>
&lt;p>é€™ä¸€å°ç¯€åƒè€ƒ GPG å®˜æ–¹çš„æ•™å­¸æ–‡ç«  &lt;a class="link" href="https://www.gnupg.org/gph/en/manual/x334.html" target="_blank" rel="noopener"
>https://www.gnupg.org/gph/en/manual/x334.html&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="ç¯„ä¾‹">ç¯„ä¾‹&lt;/h2>
&lt;h3 id="ç”¢ç”Ÿé‡‘é‘°å°">ç”¢ç”Ÿé‡‘é‘°å°&lt;/h3>
&lt;h3 id="gpg-with-ssh">GPG with SSH&lt;/h3>
&lt;h3 id="ç°½ç« å…¬é‘°">ç°½ç« å…¬é‘°&lt;/h3>
&lt;h2 id="ç™¼ä½ˆå…¬é‘°">ç™¼ä½ˆå…¬é‘°&lt;/h2>
&lt;h1 id="yubikey">Yubikey&lt;/h1></description></item><item><title>GPG with SSH</title><link>https://blog.simbafs.cc/p/linux/gpg-with-ssh/</link><pubDate>Tue, 06 Dec 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/gpg-with-ssh/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/gpg-with-ssh.png" alt="Featured image of post GPG with SSH" />&lt;h1 id="gpg-with-ssh">GPG with SSH&lt;/h1>
&lt;p>æŽ¥çºŒå‰ä¸€ç¯‡ &lt;a class="link" href="https://blog.simbafs.cc/posts/linux/gpg/" >gpg çš„æ–‡ç« &lt;/a>&lt;/p>
&lt;h2 id="æŒ‡ç´‹-fingerprint">æŒ‡ç´‹ Fingerprint&lt;/h2>
&lt;p>æ ¹æ“š &lt;a class="link" href="https://help.gnome.org/users/seahorse/stable/misc-key-fingerprint.html.en" target="_blank" rel="noopener"
>GNOME help&lt;/a> çš„èªªæ˜Žï¼Œä¸åŒé‡‘é‘°çš„æŒ‡ç´‹å¿…ç„¶ä¸åŒï¼Œå› æ­¤å¦‚æžœè¦é©—è­‰ã€æŸ¥è©¢çš„è©±ï¼Œèˆ‡å…¶ç”¨å…¶ä»–åƒæ•¸ï¼Œä¸å¦‚ç”¨æŒ‡ç´‹ï¼Œä¾‹å¦‚æˆ‘çš„ GPG key æŒ‡ç´‹æ˜¯ &lt;code>6236 A070 8FCD 894C 7AD1 A5FC DB13 A5C2 042E AEA4&lt;/code>ï¼Œçœ‹åˆ°é€™ä¸²å°±ä»£è¡¨æ˜¯æˆ‘ã€‚&lt;/p>
&lt;h2 id="grip">Grip&lt;/h2>
&lt;p>æ ¹æ“š &lt;a class="link" href="https://lists.gnupg.org/pipermail/gcrypt-devel/2013-June/002205.html" target="_blank" rel="noopener"
>gnupg çš„é€™å°éƒµä»¶&lt;/a>ï¼Œgrip ä¼¼ä¹Žæ˜¯é‡‘é‘°åƒæ•¸çš„ SHA-1 hashï¼Œçœ‹ä¸å¤ªæ‡‚å“ªäº›åƒæ•¸æœƒè¢«ç´å…¥è¨ˆç®—ã€‚&lt;/p>
&lt;h2 id="ssh-authorize-with-gpg">ssh authorize with gpg&lt;/h2>
&lt;p>ä»¥ä¸‹æ­¥é©Ÿä¾†è‡ªä¸‹é¢ä¸‰å€‹åƒè€ƒç¶²å€&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://blog.theerrorlog.com/using-gpg-zh.html" target="_blank" rel="noopener"
>https://blog.theerrorlog.com/using-gpg-zh.html&lt;/a> (é€™è£¡æœ‰ä¸€äº›é—œæ–¼ gpg çš„è¨­å®šæ“åšï¼Œä¸ä¸€å®šè¦åƒä»–èªªçš„é‚£æ¨£ä¸»å¯†é‘°åˆ†é›¢ï¼Œåªæ˜¯çµ¦ä¸€å€‹æ“ä½œèªªæ˜Ž)&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.theerrorlog.com/using-gpg-keys-for-ssh-authentication-zh.html" target="_blank" rel="noopener"
>https://blog.theerrorlog.com/using-gpg-keys-for-ssh-authentication-zh.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://gist.github.com/mcattarinussi/834fc4b641ff4572018d0c665e5a94d3" target="_blank" rel="noopener"
>https://gist.github.com/mcattarinussi/834fc4b641ff4572018d0c665e5a94d3&lt;/a> (gpg-agent è¨­å®šçœ‹é€™ç¯‡ï¼Œé€™å‰é¢æœ‰éžå¸¸è©³ç´°çš„ gpg ket è¨­å®šæ•™å­¸)&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>æ ¹æ“šç¬¬äºŒå€‹åƒè€ƒè³‡æ–™çš„èªªæ˜Žç”¢ç”Ÿå¯ä»¥ç”¨æ–¼ ssh é©—è­‰çš„ gpg subkeyï¼ˆæœ‰&lt;code>[A]&lt;/code>ï¼‰&lt;/li>
&lt;li>å–å¾— ssh æ ¼å¼çš„å…¬é‘° &lt;code>gpg2 --export-ssh-key you@example.com&lt;/code>&lt;/li>
&lt;li>å–å¾—è¦ç”¨æ–¼é©—è­‰çš„ subkey çš„ keygrip&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ gpg2 --list-keys --with-keygrip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/home/you/.gnupg/pubring.kbx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------------------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pub rsa4096 2022-12-06 [C]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Keygrip = BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">uid [ultimate] you &amp;lt;you@example.com&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sub rsa4096 2022-12-06 [S]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Keygrip = CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sub rsa4096 2022-12-06 [E]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Keygrip = DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sub ed25519 2022-12-06 [A] &amp;lt;- å¯ç”¨æ–¼é©—è­‰çš„å­é‡‘é‘°
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Keygrip = EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE &amp;lt;- æˆ‘å€‘è¦çš„ keygrip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>å°‡ keygrip å¯«å…¥ &lt;code>.gnupg/sshcontrol&lt;/code> -&amp;gt; &lt;code>echo EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE &amp;gt;&amp;gt; .gnupg/sshcontrol&lt;/code>&lt;/li>
&lt;li>æ ¹æ“šç¬¬ä¸‰å€‹åƒè€ƒç¶²å€ &lt;a class="link" href="https://gist.github.com/mcattarinussi/834fc4b641ff4572018d0c665e5a94d3#setup-the-gpg-agent-for-ssh-authentication" target="_blank" rel="noopener"
>setup-the-gpg-agent-for-ssh-authentication&lt;/a> ç« ç¯€è¨­å®š gpg-agent&lt;/li>
&lt;/ol>
&lt;p>é€™æ™‚å¾Œé‡æ–°é–‹å•Ÿçµ‚ç«¯æ©Ÿå°±å¯ä»¥ç”¨ gpg å–ä»£åŽŸæœ¬çš„ ssh key äº†ï¼Œç¢ºèªç§»é™¤ ssh key çœŸçš„é‚„å¯ä»¥ç™»å…¥å¾Œå°±å¯ä»¥æŠŠèˆŠçš„ ssh key æ”¶èµ·ä¾†äº†ã€‚&lt;/p></description></item><item><title>Mastodon</title><link>https://blog.simbafs.cc/p/linux/mastodon/</link><pubDate>Thu, 24 Nov 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/mastodon/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/mastodon.png" alt="Featured image of post Mastodon" />&lt;h1 id="mastodon">Mastodon&lt;/h1>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[452093fc-5a92-47e2-b97b-dad3dff424e7] method=PUT path=/settings/profile format=html controller=Settings::ProfilesController action=update status=500 error=&amp;#39;Errno::EACCES: Permission denied @ dir_s_mkdir - /opt/mastodon/public/system/accounts&amp;#39; duration=1077.81 view=0.00 db=6.70
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[452093fc-5a92-47e2-b97b-dad3dff424e7]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[452093fc-5a92-47e2-b97b-dad3dff424e7] Errno::EACCES (Permission denied @ dir_s_mkdir - /opt/mastodon/public/system/accounts):
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[452093fc-5a92-47e2-b97b-dad3dff424e7]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://github.com/mastodon/mastodon/issues/3676#issuecomment-307500074" target="_blank" rel="noopener"
>https://github.com/mastodon/mastodon/issues/3676#issuecomment-307500074&lt;/a>&lt;/p></description></item><item><title>Merge Two Repo</title><link>https://blog.simbafs.cc/p/linux/git/merge-two-repo/</link><pubDate>Tue, 18 Oct 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/git/merge-two-repo/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/git/merge-two-repo.png" alt="Featured image of post Merge Two Repo" />&lt;h1 id="merge-two-repo">Merge Two Repo&lt;/h1>
&lt;p>é€™å­¸æœŸä¿®äº†å¹¾å€‹è³‡å·¥ç³»çš„èª²ï¼Œéƒ½éœ€è¦å¯«ç¨‹å¼ä½œæ¥­ï¼ŒåŽŸæœ¬æˆ‘æ˜¯ä¸€å€‹ä½œæ¥­é–‹ä¸€å€‹ repoï¼Œä½†æ˜¯æˆ‘ç™¼ç¾é€™æ¨£å¥½åƒæœƒé–‹è¶…ç´šå¤š repoï¼Œæ–¼æ˜¯æˆ‘æ±ºå®šè¦æƒ³è¾¦æ³•åˆä½µä»–å€‘ã€‚&lt;/p>
&lt;h2 id="æ‰¾è³‡æ–™">æ‰¾è³‡æ–™&lt;/h2>
&lt;p>é¦–å…ˆåŽ» Google æœå°‹ã€Œgit merge two repoã€ï¼Œç¬¬ä¸€æ¢çµæžœæ˜¯æ˜¯ä¸€å€‹ 13 å¹´å‰çš„ stack overflow &lt;a class="link" href="https://stackoverflow.com/questions/1425892/how-do-you-merge-two-git-repositories" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/1425892/how-do-you-merge-two-git-repositories&lt;/a>ï¼Œè£¡é¢ç¬¬ä¸€å€‹å›žç­”æåˆ°çš„æ–¹æ³•æ˜¯æŠŠå¾…åˆä½µ repo A æŒ‡åˆ°ç›®æ¨™ repo B çš„ branch Aï¼Œç„¶å¾Œå°±æŠŠ branch A ç•¶ä½œä¸€èˆ¬åˆ†æ”¯åˆä½µï¼Œä½†æ˜¯è¦åŠ ä¸Š &lt;code>--allow-unrelated-histories&lt;/code> é¸é …&lt;/p>
&lt;h2 id="filter-repo">filter-repo&lt;/h2>
&lt;p>ç¾åœ¨æœ‰å€‹å•é¡Œï¼ŒåŽŸæœ¬çš„ç›®éŒ„çµæ§‹æ˜¯é•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ HW1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ .git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ go.mod
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ main.go
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ HW2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ .git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ go.mod
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ main.go
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ HW3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ .git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ go.mod
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ main.go
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æžœç›´æŽ¥åˆä½µæœƒè®Šæˆé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ go.mod
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ main.go
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚ºæª”åä¸€æ¨£ï¼Œå°±è¢«åˆä½µäº†ï¼Œä½†æ˜¯æˆ‘æƒ³è¦çš„æ˜¯é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ HW1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ go.mod
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ main.go
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ HW2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ go.mod
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ main.go
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ HW3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ go.mod
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ main.go
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶å¯ä»¥æŠŠæª”æ¡ˆç§»å¥½å†åˆä½µï¼Œä½†æ˜¯é€™æ¨£æäº¤ç´€éŒ„ï¼ˆcommit historyï¼‰ä¸Šä¸å¥½çœ‹ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦å…¶ä»–å·¥å…·&lt;/p>
&lt;h2 id="git-filter-repo">git filter-repo&lt;/h2>
&lt;p>[git-filter-repo] æ˜¯å€‹å¯ä»¥æ‰¹æ¬¡è™•ç†æäº¤ç´€éŒ„çš„å·¥å…·ï¼Œä¾‹å¦‚æˆ‘å€‘é€™æ¬¡è¦çš„ï¼Œå°‡å…¨éƒ¨æª”æ¡ˆç§»åˆ°å­ç›®éŒ„è£¡é¢ï¼Œå¾žç¬¬ä¸€å€‹ commit é–‹å§‹ã€‚çœ‹ç¶²è·¯æ•™ git ä¼¼ä¹Žå…§å»º &lt;code>filter-branch&lt;/code> å‘½ä»¤ï¼Œä½† filter-repo çš„æ•ˆèƒ½å’ŒåŠŸèƒ½éƒ½æ¯”è¼ƒå¤šã€‚&lt;/p>
&lt;h3 id="å®‰è£">å®‰è£&lt;/h3>
&lt;p>&lt;code>apt install git-filter-repo&lt;/code>&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/newren/git-filter-repo/blob/main/INSTALL.md" target="_blank" rel="noopener"
>https://github.com/newren/git-filter-repo/blob/main/INSTALL.md&lt;/a>&lt;/p>
&lt;h3 id="ä½¿ç”¨">ä½¿ç”¨&lt;/h3>
&lt;p>&lt;code>git filter-repo&lt;/code>&lt;/p>
&lt;h3 id="ç§»å‹•æª”æ¡ˆåˆ°å­ç›®éŒ„">ç§»å‹•æª”æ¡ˆåˆ°å­ç›®éŒ„&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ git filter-repo --to-subdirectory-filter hw1 --force
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Parsed 11 commits
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">New history written in 0.03 seconds; now repacking/cleaning...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Repacking your repo and cleaning out old unneeded objects
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">HEAD is now at 57fd6a0 update example
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Enumerating objects: 52, done.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Counting objects: 100% (52/52), done.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Delta compression using up to 8 threads
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Compressing objects: 100% (21/21), done.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Writing objects: 100% (52/52), done.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Total 52 (delta 17), reused 30 (delta 17), pack-reused 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Completely finished after 0.08 seconds.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆä½µ-repo">åˆä½µ Repo&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ cd A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git remote add -f a ../a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git merge --allow-unrelated-histories a/main
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git remote remove a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆä½µå®Œçš„æäº¤ç´€éŒ„é•·é€™æ¨£ï¼ˆé‚„æ²’ç§»é™¤ remote ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">* 097b986 (HEAD -&amp;gt; main) Merge remote-tracking branch &amp;#39;hw4/multithread&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">|\
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 2d0bc2d (hw4/multithread) finish
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 462ec18 try to use goroutine
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 89915f1 Merge branch &amp;#39;main&amp;#39; into multithread
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| |\
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * | b4e5879 README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * | 96b5d3a try to use goroutine to speed up, but failed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">* | | ebb41bb Merge remote-tracking branch &amp;#39;hw4/main&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">|\ \ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| | |/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| |/|
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * | faabcb5 (hw4/main) finish
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * | f715b3c index++
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * | 1c16b06 README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| |/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * a0594d2 finish first version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 475fa62 finish dec/enc functions
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 69cfeb3 Initial commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">* 9f10a17 Merge remote-tracking branch &amp;#39;hw2/main&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">|\
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * f6d6ffe (hw2/main) out.pdf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * a07ee96 README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * c22c4aa finish version 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * acebb48 basic concept
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 9b3c351 init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * d949263 Initial commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">* 1e6a89d Merge remote-tracking branch &amp;#39;hw1/main&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">|\
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 57fd6a0 (hw1/main) update example
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 016ed74 add tex
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 0c5cf72 finish out.pdf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 24a2474 fix a little bug
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 9b9bdce README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 1aa184e remove unused code and add comments
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 47ca969 finish first version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 9f30ca4 README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 683c59b WIP, not tested
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * 48bcefd README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| * b7603e8 Initial commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">* cdca739 (origin/main, origin/HEAD) Initial commit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://stackoverflow.com/questions/1425892/how-do-you-merge-two-git-repositories" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/1425892/how-do-you-merge-two-git-repositories&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://gist.github.com/x-yuri/6161d90d1af8ebac6e560bcef548c1c3" target="_blank" rel="noopener"
>https://gist.github.com/x-yuri/6161d90d1af8ebac6e560bcef548c1c3&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/newren/git-filter-repo" target="_blank" rel="noopener"
>https://github.com/newren/git-filter-repo&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Openssl DES</title><link>https://blog.simbafs.cc/p/linux/openssl-des/</link><pubDate>Sun, 02 Oct 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/openssl-des/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/openssl-DES.png" alt="Featured image of post Openssl DES" />&lt;h1 id="openssl-des">openssl DES&lt;/h1>
&lt;h2 id="åŠ å¯†">åŠ å¯†&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">openssl enc -des-cbc -a -K e0e0e0e0f1f1f1f1 -in plaintext.txt -provider legacy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">-des-cbc: æŒ‡å®šæ¼”ç®—æ³•
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-a: ä½¿ç”¨ base64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-K: æŒ‡å®šå¯†ç¢¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-provider legacy: å› ç‚º DES å¤ªå¤è€ï¼Œä¸å®‰å…¨ï¼Œå› æ­¤è¦åŠ ä¸Šé€™å€‹é¸é …æ‰èƒ½ç”¨
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è§£å¯†">è§£å¯†&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">openssl enc -des-cbc -d -a -K e0e0e0e0f1f1f1f1 -in plaintext.txt -provider legacy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">-des-cbc: æŒ‡å®šæ¼”ç®—æ³•
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-d: è§£å¯†
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-a: ä½¿ç”¨ base64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-K: æŒ‡å®šå¯†ç¢¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-provider legacy: å› ç‚º DES å¤ªå¤è€ï¼Œä¸å®‰å…¨ï¼Œå› æ­¤è¦åŠ ä¸Šé€™å€‹é¸é …æ‰èƒ½ç”¨
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ³¨æ„äº‹é …">æ³¨æ„äº‹é …&lt;/h2>
&lt;p>openssl çš„é¸é …éƒ½æ˜¯ä¸€å€‹ &lt;code>-&lt;/code>ï¼Œä¸åƒä¸€èˆ¬çš„ GNU å‘½ä»¤åˆ†é•·é¸é …å’ŒçŸ­é¸é …ã€‚å¦å¤– &lt;code>-d&lt;/code> å’Œ &lt;code>-a&lt;/code> ä¸èƒ½åˆä½µæˆ &lt;code>-da&lt;/code> æˆ–æ˜¯ &lt;code>-ad&lt;/code>&lt;/p>
&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://wiki.openssl.org/index.php/Enc" target="_blank" rel="noopener"
>https://wiki.openssl.org/index.php/Enc&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/openssl/openssl/issues/12906" target="_blank" rel="noopener"
>https://github.com/openssl/openssl/issues/12906&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Google AppScript Calender API</title><link>https://blog.simbafs.cc/p/google-app-script-calender-api/</link><pubDate>Wed, 14 Sep 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/google-app-script-calender-api/</guid><description>&lt;img src="https://blog.simbafs.cc/og/cloud/googleAppScript.png" alt="Featured image of post Google AppScript Calender API" />&lt;h1 id="google-appscript">Google AppScript&lt;/h1>
&lt;p>å› ç‚ºæˆ‘æ‡¶çš„ä¸€å ‚ä¸€å ‚èª²åŠ å…¥æ—¥æ›†ã€é‚„è¦æŒ‰é‡è¤‡ï¼Œæ‰€ä»¥å°±ä¾†ç ”ç©¶å¦‚ä½•è‡ªå‹•åŒ–ã€‚æˆ‘çš„æƒ³æ³•æ˜¯é€éŽä¸€å€‹ç‰©ä»¶å®šç¾©èª²è¡¨ï¼Œç„¶å¾Œé€éŽç¨‹å¼ä¾†è‡ªå‹•åŒ–æ–°å¢žã€‚è©•ä¼°äº†å¹¾å€‹æŠ€è¡“å¾Œï¼Œæ±ºå®šä½¿ç”¨ Google App Script ä¾†å¯¦åšï¼Œç•¢ç«Ÿä»–å’Œæ—¥æ›†éƒ½æ˜¯ Google ç”¢å“ï¼Œæ•´åˆæ‡‰è©²æ˜¯æœ€å¥½çš„ï¼ˆå§ï¼Œè€Œä¸”å¯ä»¥å¼„æˆé¡žä¼¼é›²ç«¯æ‡‰ç”¨çš„æ„Ÿè¦ºï¼Œè¼•é¬†é–‹æ”¾çµ¦å…¶ä»–äººä½¿ç”¨ã€‚&lt;/p>
&lt;h2 id="å»ºç«‹å°ˆæ¡ˆ">å»ºç«‹å°ˆæ¡ˆ&lt;/h2>
&lt;p>åœ¨ &lt;a class="link" href="https://script.google.com/home" target="_blank" rel="noopener"
>https://script.google.com/home&lt;/a> å»ºç«‹æ–°å°ˆæ¡ˆå¾Œï¼Œæœƒè‡ªå‹•å»ºç«‹ &lt;code>ç¨‹å¼ç¢¼.gs&lt;/code>ï¼Œé›–ç„¶ä»–å¯« &lt;code>.gs&lt;/code>ï¼Œä½†å¯ä»¥ç›´æŽ¥ç•¶ä½œ javascript çœ‹ï¼Œçœ‹è¨­å®šé é¢ï¼ŒèƒŒå¾Œæ‡‰è©²ä¹Ÿæ˜¯ V8 åœ¨åŸ·è¡Œã€‚&lt;/p>
&lt;h2 id="é€£çµ-google-calendar">é€£çµ Google Calendar&lt;/h2>
&lt;p>æˆ‘å€‘çš„ç¨‹å¼è¦é€£çµæ—¥æ›†ï¼Œéœ€è¦æ¬Šé™å’Œ APIï¼Œé»žæ“Šå·¦å´ã€Œæœå‹™ã€å³é‚Šçš„ã€Œ+ã€ï¼Œæ‰¾åˆ° &lt;code>Google Calendar API&lt;/code>ï¼ŒæŒ‰æ–°å¢ž&lt;/p>
&lt;h2 id="æ–°å¢žä¸€å€‹æ´»å‹•">æ–°å¢žä¸€å€‹æ´»å‹•&lt;/h2>
&lt;p>å…ˆé€éŽä¸€äº›ç¯„ä¾‹ä¾†çœ‹çœ‹æ€Žéº¼å’Œ Google Calendar äº’å‹•&lt;/p>
&lt;h3 id="å–®æ¬¡çš„æ´»å‹•">å–®æ¬¡çš„æ´»å‹•&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">myFunction&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">calendar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">CalendarApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getCalendarsByName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">calendar&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nx">calendar&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createEvent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åƒç«é‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2022&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">08&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">18&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">00&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2022&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">08&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">19&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">00&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://developers.google.com/apps-script/reference/calendar/calendar#createeventtitle,-starttime,-endtime" target="_blank" rel="noopener"
>https://developers.google.com/apps-script/reference/calendar/calendar#createeventtitle,-starttime,-endtime&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>å¯«å¥½å‡½æ•¸å¾Œï¼ŒæŠŠä¸Šæ–¹çš„æ¸¬è©¦å‡½æ•¸æ”¹æˆ &lt;code>myFunction&lt;/code>ï¼Œç„¶å¾ŒæŒ‰ã€ŒåŸ·è¡Œã€ï¼Œå°±æœƒå–®æ¬¡åŸ·è¡Œé€™å€‹å‡½æ•¸äº†&lt;/p>
&lt;h3 id="é‡è¦†çš„æ´»å‹•">é‡è¦†çš„æ´»å‹•&lt;/h3>
&lt;p>æŽ¥ä¸‹ä¾†ï¼Œä¾†è©¦è©¦é‡è¤‡çš„æ´»å‹•ï¼ŒåŸºæœ¬ä¸Šåªæ˜¯æ–°å¢žä¸€å€‹ &lt;code>RecurrenceRule&lt;/code> ç‰©ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">myFunction&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">calendar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">CalendarApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getCalendarsByName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">calendar&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">calendar&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createEventSeries&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;åƒç«é‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2022&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">08&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">18&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">00&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2022&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">08&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">19&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">00&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">CalendarApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">newRecurrence&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">addWeeklyRule&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">until&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">semester&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://developers.google.com/apps-script/reference/calendar/calendar#createeventseriestitle,-starttime,-endtime,-recurrence" target="_blank" rel="noopener"
>https://developers.google.com/apps-script/reference/calendar/calendar#createeventseriestitle,-starttime,-endtime,-recurrence&lt;/a>&lt;br>
&lt;a class="link" href="https://developers.google.com/apps-script/reference/calendar/event-recurrence" target="_blank" rel="noopener"
>https://developers.google.com/apps-script/reference/calendar/event-recurrence&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="http">http&lt;/h2>
&lt;p>ç¾åœ¨æˆ‘å€‘èƒ½å’Œæ—¥æ›†æºé€šäº†ï¼Œç†è«–ä¸Šåœ¨åŠ ä¸Šä¸€å€‹å¥½ç”¨çš„ API ç•Œé¢å°±å¯ä»¥çµæŸäº†ï¼Œä½†æ˜¯æˆ‘é‚„æƒ³åŠ ä¸Šä¸€å€‹ web ç•Œé¢ï¼Œé€™æ¨£å°±å¯ä»¥ä¸ç”¨æ¯æ¬¡éƒ½ä¾†ç·¨è¼¯ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;ol>
&lt;li>æ–°å¢ž &lt;code>doGet(e)&lt;/code> å‡½æ•¸&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">doGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">HtmlService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createHtmlOutputFromFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;index.html&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>éƒ¨ç½²æˆç¶²é æ‡‰ç”¨ç¨‹å¼
&lt;ol>
&lt;li>é»žå³ä¸Šè§’è—è‰²çš„ã€Œéƒ¨ç½²ã€&amp;gt;ã€Œæ–°å¢žéƒ¨ç½²ä½œæ¥­ã€&lt;/li>
&lt;li>é»žé¸å·¦ä¸Šè§’çš„é½’è¼ª&amp;gt;ç¶²é æ‡‰ç”¨ç¨‹å¼&lt;/li>
&lt;li>è¨­å®š&lt;/li>
&lt;li>æŒ‰ä¸‹ã€Œéƒ¨ç½²ã€&lt;/li>
&lt;li>ç²å¾—æ­£å¼é€£çµ&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>æ¸¬è©¦éƒ¨ç½²ä½œæ¥­
&lt;ol>
&lt;li>é»žå³ä¸Šè§’è—è‰²çš„ã€Œéƒ¨ç½²ã€&amp;gt;ã€Œæ¸¬è©¦éƒ¨ç½²ä½œæ¥­ã€&lt;/li>
&lt;li>ç²å¾—æ¸¬è©¦é€£çµ&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>&lt;strong>Notice&lt;/strong>&lt;br>
å»ºç«‹æ¸¬è©¦éƒ¨ç½²ä½œæ¥­ä¹‹å‰éœ€è¦å…ˆæ­£å¼éƒ¨ç½²&lt;br>
æ­£å¼éƒ¨ç½²ç”¨å¾—ç¨‹å¼æ˜¯å»ºç«‹ç•¶ä¸‹çš„ç‰ˆæœ¬ï¼Œæ¸¬è©¦éƒ¨ç½²æ˜¯æœƒä¸€ç›´ç”¨æœ€æ–°ç‰ˆæœ¬&lt;/p>
&lt;/blockquote>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨ &lt;code>doGet(e)&lt;/code> å‡½æ•¸ä¸­ç”¨ &lt;code>e.parameter&lt;/code> å–å¾— querystring å¾—å…§å®¹&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://developers.google.com/apps-script/guides/web" target="_blank" rel="noopener"
>https://developers.google.com/apps-script/guides/web&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>ç„¶å¾Œå°±å¯ä»¥ç”¨é€™äº›æ±è¥¿æ¹Šä¸€æ¹Šå¼„å‡ºä¸€å€‹å¥½ç”¨çš„èª²è¡¨ WebApp äº†&lt;/p>
&lt;h2 id="é©—è­‰æ‡‰ç”¨ç¨‹å¼">é©—è­‰æ‡‰ç”¨ç¨‹å¼&lt;/h2>
&lt;p>ç¾åœ¨ç™»å…¥æˆ‘å€‘çš„ç¶²é éƒ½æœƒè·³èªªé€™å€‹æ‡‰ç”¨ç¨‹å¼ä¸å®‰å…¨ï¼Œéœ€è¦æäº¤ç¨‹å¼çµ¦ Google é©—è­‰å¾Œæ‰èƒ½ç§»é™¤ï¼Œä¸ç„¶å°±æœƒä¸€ç›´å‡ºç¾é€™å€‹é†œé†œçš„ç•«é¢ï¼Œä½†æ˜¯æˆ‘é‚„æ²’ç ”ç©¶å‡ºä¾†æ€Žéº¼å¼„ï¼Œä¹Ÿæ‡¶å¾—å¼„ã€‚https://medium.com/@joshchang_51558/%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E7%9A%84%E9%80%9A%E9%81%8E-google-oauth-scope-verification-35019d93ce95 é€™å€‹çœ‹èµ·ä¾†æ‡‰è©²å¯ä»¥åƒè€ƒ&lt;/p>
&lt;h2 id="æˆ‘çš„ç¨‹å¼ç¢¼">æˆ‘çš„ç¨‹å¼ç¢¼&lt;/h2>
&lt;h3 id="maings">main.gs&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">doGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">parameter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">HtmlService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createHtmlOutputFromFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;index.html&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ContentService&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createTextOutput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">setCalendar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;setCalendar&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">semester&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">start&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">semester&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">start&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">end&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">semester&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">semester&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">calendar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">CalendarApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getCalendarsByName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">calendar&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">recurrence&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">CalendarApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">newRecurrence&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">addWeeklyRule&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">until&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">semester&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">calendar&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`calendar &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">calendar&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> not found`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lessions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">addLession&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">calendar&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">semester&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">recurrence&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">undefined&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">getTime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">end&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">day&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setMinutes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">day&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setSeconds&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">table&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">1&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">2&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">3&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">4&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">5&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">6&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">7&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">8&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">9&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">17&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">startDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">startDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setHours&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">table&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">start&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">startDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setMinutes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">endDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">endDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setHours&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">table&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">startDate&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">endDate&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// setWod set day of week for a Date object
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">setDow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">dow&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setDate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDate&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDay&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dow&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">addLession&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">calendar&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">semester&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">dow&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">end&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">recurrence&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">dow&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">end&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">startDate&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">endDate&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getTime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">setDow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">semester&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">dow&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nx">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">end&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">startDate&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">endDate&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">calendar&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createEventSeries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">startDate&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">endDate&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">recurrence&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="indexhtml">index.html&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE html&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">base&lt;/span> &lt;span class="na">target&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;_top&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;form&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">fieldset&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">legend&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å­¸æœŸï¼š&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">legend&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;radio&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;semester&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1111&amp;#34;&lt;/span> &lt;span class="na">checked&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>111-1&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">input&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">fieldset&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">fieldset&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">legend&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ—¥æ›†ï¼š&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">legend&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;calendar&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">input&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">fieldset&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">fieldset&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">legend&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>èª²è¡¨ï¼š&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">legend&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">table&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">thead&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">th&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç§‘ç›®&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">th&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">th&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ˜ŸæœŸå¹¾&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">th&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">th&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>é–‹å§‹ç¯€æ¬¡&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">th&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">th&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>çµæŸç¯€æ¬¡&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">th&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">thead&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tbody&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;lessions&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ç§‘ç›®&amp;#34;&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">required&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">input&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;æ˜ŸæœŸå¹¾&amp;#34;&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;number&amp;#34;&lt;/span> &lt;span class="na">min&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span> &lt;span class="na">max&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;7&amp;#34;&lt;/span> &lt;span class="na">required&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">input&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;é–‹å§‹ç¯€æ¬¡&amp;#34;&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;number&amp;#34;&lt;/span> &lt;span class="na">min&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span> &lt;span class="na">max&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;9&amp;#34;&lt;/span> &lt;span class="na">required&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">input&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">placeholder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;çµæŸç¯€æ¬¡&amp;#34;&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;number&amp;#34;&lt;/span> &lt;span class="na">min&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span> &lt;span class="na">max&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;9&amp;#34;&lt;/span> &lt;span class="na">required&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">input&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;delete&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>X&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tbody&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tfoot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span> &lt;span class="na">colspan&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;5&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;add&amp;#34;&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;width:100%&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å¢žåŠ &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tfoot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">table&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">fieldset&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>é€å‡º&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://code.jquery.com/jquery-3.6.1.min.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">getDateBySememster&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">1111&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">start&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">2022&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">end&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">2023&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">msg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆåŠŸï¼&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#form input,button&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;disabled&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">ready&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#add&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">$lessions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#lessions&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$lessions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">children&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">length&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">row&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$lessions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">children&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">eq&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">clone&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;td:nth-child(1)&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">row&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">td&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`td:nth-child(&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">) input`&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">row&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">td&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$lessions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">row&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">row&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">setDelete&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#form&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">submit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">preventDefault&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">semester&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">getDateBySememster&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#semester&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">()),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">calendar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#calendar&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lessions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[...&lt;/span>&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#lessions tr&amp;#39;&lt;/span>&lt;span class="p">)].&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`td:nth-child(&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">) input`&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">item&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#form input,button&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;disabled&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">google&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">script&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">run&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">withFailureHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">withSuccessHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">setCalendar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">setDelete&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#lessions tr&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">parent&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">parent&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">remove&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.delete&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">setDelete&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>IPFS</title><link>https://blog.simbafs.cc/p/index/</link><pubDate>Mon, 22 Aug 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/index/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ipfs/index.png" alt="Featured image of post IPFS" />&lt;h1 id="ipfs">IPFS&lt;/h1>
&lt;p>ipfsï¼ˆ&lt;strong>I&lt;/strong>nter&lt;strong>P&lt;/strong>lanetary &lt;strong>F&lt;/strong>ile &lt;strong>S&lt;/strong>ystemï¼‰æ˜¯ä¸€å€‹åŽ»ä¸­å¿ƒåŒ–çš„æª”æ¡ˆå„²å­˜æ–¹æ¡ˆï¼Œç‚ºä»€éº¼èªªæ˜¯æ–¹æ¡ˆï¼Œå› ç‚ºä»–åŒ…æ‹¬äº†é€šè¨Šå”è­°ã€è»Ÿé«”ã€æª”æ¡ˆç³»çµ±ã€åç¨±ç³»çµ±ã€é–˜é“å™¨ã€‚é€™å€‹æ¦‚å¿µå…¶å¯¦ä¸æ–°é®®ä½†æ˜¯ ipfs æ•´åˆéŽåŽ»åŽ»ä¸­å¿ƒåŒ–æ–¹æ¡ˆçš„å„ªé»žï¼Œè€Œä¸”ä»–æ•´åˆå¾ˆå¾ˆæ£’ï¼Œå¯ä»¥é–‹ç®±å³ç”¨ï¼ˆout of boxï¼‰ã€‚åœ¨ &lt;a class="link" href="https://github.com/ipfs/kubo/#what-is-ipfs" target="_blank" rel="noopener"
>ipfs çš„ GitHub README.md ä¸­&lt;/a> ä¸­çš„ä»‹ç´¹ï¼šã€ŒIt is like a single BitTorrent swarm, exchanging git objectsã€ã€‚ä»–å‚³æª”æ¡ˆçš„æ–¹å¼å°±åƒ BT ä¸€æ¨£æ˜¯é€éŽ p2pï¼Œå®šä½æª”æ¡ˆçš„æ–¹å¼åƒ Gitï¼Œå°‡æª”æ¡ˆå…§å®¹é›œæ¹Šã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å®‰è£">å®‰è£&lt;/h2>
&lt;p>æˆªç¨¿ç•¶ä¸‹ï¼Œipfs é‚„æ²’æœ‰è¢« Ubuntu æ”¶éŒ„ï¼Œæ‰€ä»¥ä½ æ²’è¾¦æ³•ç”¨ &lt;code>apt install&lt;/code> å®‰è£ã€‚ipfs çš„åŸ·è¡Œæ“‹æ˜¯ç”¨ Go å¯«çš„ï¼Œå› æ­¤å¯ä»¥è¼•æ˜“è·¨å¹³å°åŸ·è¡Œï¼ŒåŽ» &lt;a class="link" href="https://github.com/ipfs/kubo/releases/latest" target="_blank" rel="noopener"
>ipfs åœ¨ GitHub çš„ Release é é¢&lt;/a> ä¸‹è¼‰å°æ‡‰çš„ç‰ˆæœ¬ï¼Œç„¶å¾Œè§£å£“ç¸®ï¼Œä½ å¯ä»¥æŠŠ &lt;code>ipfs&lt;/code> é€™å€‹æª”æ¡ˆè‡ªå·±æ¬åˆ°ä½ çš„ &lt;code>$PATH&lt;/code> ä¸‹ï¼Œæˆ–æ˜¯ç”¨ &lt;code>$ ./install.sh&lt;/code> è®“ä»–çš„å®‰è£è…³æœ¬å¹«ä½ é¸æ“‡ç›®éŒ„&lt;/p>
&lt;h2 id="android">Android&lt;/h2>
&lt;p>åœ¨ Google play å¯ä»¥æ‰¾åˆ°ä¸€å †è™Ÿç¨±æ˜¯ ipfs çš„ Appï¼Œä½†åŠŸèƒ½éƒ½ä¸é½Šå…¨ï¼Œå¦‚æžœä½ æƒ³åœ¨åœ¨ Android æ‰‹æ©Ÿä¸ŠåŸ·è¡Œ ipfsï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯ç”¨ &lt;a class="link" href="https://termux.dev/en/" target="_blank" rel="noopener"
>termux&lt;/a> é€™å¥—çµ‚ç«¯æ©Ÿæ¨¡æ“¬å™¨ï¼Œç¾åœ¨ Google Play ä¸Šå·²ç¶“æ²’æœ‰æ›´æ–°ï¼Œè¦æœ€æ–°ç‰ˆçš„è¦åŽ» &lt;a class="link" href="https://github.com/termux/termux-app#f-droid" target="_blank" rel="noopener"
>F-Droid&lt;/a> æˆ–æ˜¯ &lt;a class="link" href="https://github.com/termux/termux-app/releases/latest" target="_blank" rel="noopener"
>GitHub Release&lt;/a> ä¸‹è¼‰ã€‚å®‰è£å¾Œä¸€æ¨£æŒ‰ç…§ä¸Šé¢çš„æ­¥é©Ÿï¼Œæª”æ¡ˆé¸ &lt;code>linux-arm64&lt;/code> é‚£å€‹å°±å¯ä»¥äº†ã€‚ç¶“éŽæ¸¬è©¦æ‰€æœ‰åŠŸèƒ½éƒ½å’Œé›»è…¦ä¸€æ¨£ï¼ŒåŒ…æ‹¬ webuiã€‚&lt;/p>
&lt;h2 id="åŸºæœ¬åŠŸèƒ½">åŸºæœ¬åŠŸèƒ½&lt;/h2>
&lt;h2 id="ipfs-ä¸Šå‚³æª”æ¡ˆ">ipfs ä¸Šå‚³æª”æ¡ˆ&lt;/h2>
&lt;p>åœ¨ç¯€é»ž A ä¸ŠåŸ·è¡Œ &lt;code>$ ipfs add &amp;lt;file&amp;gt;&lt;/code>ã€&lt;code>$ cat &amp;lt;file&amp;gt; | ipfs add&lt;/code>ï¼Œé€™å€‹å‘½ä»¤æœƒå›žå‚³ä¸€ä¸² hashï¼Œç¨±ç‚º &lt;code>CID&lt;/code>ï¼Œé€šå¸¸æ˜¯ &lt;code>Qm&lt;/code> é–‹é ­ï¼Œæ‰€ä»¥ä¹Ÿè¢«ç¨±ç‚º Qm hash&lt;/p>
&lt;h2 id="ä¸‹è¼‰æª”æ¡ˆ">ä¸‹è¼‰æª”æ¡ˆ&lt;/h2>
&lt;p>å¦‚æžœå¦ä¸€å€‹ç¯€é»žæœ‰ä»»ä½•æ–¹å¼å¯ä»¥é€£ç·šåˆ°ç¯€é»ž Aï¼ˆä¸è«–æ˜¯ç›´æŽ¥çš„ peer æˆ–æ˜¯é€éŽå…¨çƒã€å€åŸŸçš„ç¶²è·¯é€£æŽ¥ï¼‰éƒ½å¯ä»¥ç”¨ &lt;code>$ ipfs cat &amp;lt;CID&amp;gt;&lt;/code> å°‡å…§å®¹å°åˆ° stdoutã€‚å¦‚æžœè¦ç›´æŽ¥å­˜èµ·ä¾†ï¼Œä¹Ÿå¯ä»¥ç”¨ &lt;code>$ ipfs get [-o file] &amp;lt;CID&amp;gt;&lt;/code>ï¼Œå¦‚æžœä¸æŒ‡å®š &lt;code>-o&lt;/code> æª”åæœƒæ˜¯ CID&lt;/p>
&lt;h2 id="æŸ¥çœ‹è‡ªå·±çš„-id">æŸ¥çœ‹è‡ªå·±çš„ id&lt;/h2>
&lt;p>&lt;code>$ ipfs id | jq .ID&lt;/code>&lt;/p>
&lt;h2 id="æŸ¥çœ‹-peers">æŸ¥çœ‹ peers&lt;/h2>
&lt;p>é€™å€‹æŒ‡ä»¤æœƒåˆ—å‡ºæ‰€æœ‰ç›´æŽ¥é€£ç·šç¯€é»žçš„ idï¼Œå¦‚æžœæ‰¾ä¸åˆ°ä¸ä»£è¡¨æ‹¿ä¸åˆ°æª”æ¡ˆï¼Œé€éŽé–“æŽ¥çš„æ–¹å¼é‚„æ˜¯æ‹¿å¾—åˆ°ï¼Œåªæ˜¯ç¬¬ä¸€æ¬¡è¦æ‰¾æ¯”è¼ƒä¹…
&lt;code>$ ipfs swarm peers&lt;/code>&lt;/p>
&lt;h2 id="wrap">wrap&lt;/h2>
&lt;p>å¦‚æžœä¸€æ¬¡æœ‰å¤šå€‹æª”æ¡ˆè¦åˆ†äº«ï¼Œä¾‹å¦‚ä¸€å€‹ç¶²ç«™ï¼Œå¯ä»¥ç”¨ &lt;code>-w&lt;/code> &lt;strong>ä¿ç•™ç›®éŒ„çµæ§‹&lt;/strong>ï¼Œä¾‹å¦‚ä»¥ä¸‹ç›®éŒ„&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ favicon.ico
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ script.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”¨æŒ‡ä»¤ &lt;code>$ ipfs add -w *&lt;/code>ï¼Œå¯ä»¥å°‡é€™äº›æª”æ¡ˆåŒ…åœ¨ä¸€å€‹ CID ä¸‹ï¼ˆç•¶ç„¶æ¯å€‹æª”æ¡ˆä¹Ÿéƒ½æœ‰å„è‡ªçš„ CIDï¼‰ï¼Œä»¥ä¸‹æ˜¯åŸ·è¡Œå¾Œçš„è¼¸å‡º&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">added QmTkhTu5EmX4qzPX4epFZr99WuWfPf8KTcCqySqf7tyH3z favicon.ico
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">added QmeBWHaefLwKkn7TgGdzyxgtaTTRkPeM3X4RbUY4xr736c index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">added QmchNhX1C1SgWJK4eZHar1v92ck4BsoVmVriBHN1r4KWRs script.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">added QmS1byYBM16thyGbJtjnMYz32E9eMxfXdzbA4VAKR8nTch
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€ä¸‹é¢é‚£å€‹å°±æ˜¯åŒ…èµ·ä¾†çš„ CIDã€‚åŽŸæœ¬è¦å–å¾— &lt;code>index.html&lt;/code> éœ€è¦ç”¨ &lt;code>ipfs cat QmeBWHaefLwKkn7TgGdzyxgtaTTRkPeM3X4RbUY4xr736c&lt;/code>ï¼Œä½†å¦‚æžœç”¨ wrap å°±å¯ä»¥æ”¹æˆ &lt;code>ipfs cat QmS1byYBM16thyGbJtjnMYz32E9eMxfXdzbA4VAKR8nTch/index.html&lt;/code>ã€‚é€™æ¨£åšçš„å¥½è™•æ˜¯å³ä½¿æœ‰å¤šå€‹æª”æ¡ˆï¼Œä¹Ÿåªéœ€è¦è¨˜ä¸€å€‹ CIDï¼Œåƒæ˜¯æˆ‘å€‘å¯ä»¥ç”¨åŒä¸€å€‹ CID å–å¾— &lt;code>script.js&lt;/code> &lt;code>ipfs cat QmS1byYBM16thyGbJtjnMYz32E9eMxfXdzbA4VAKR8nTch/script.js&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Notice&lt;/strong>&lt;br>
&lt;code>QmS1byYBM16thyGbJtjnMYz32E9eMxfXdzbA4VAKR8nTch&lt;/code> é€™å€‹ CID ä»£è¡¨çš„æ˜¯ä¸€å€‹ã€Œç›®éŒ„ã€ï¼Œæ‰€ä»¥ä»–ä¸èƒ½ç”¨ &lt;code>$ ipfs cat &amp;lt;CID&amp;gt;&lt;/code>ï¼Œé€™æ™‚å€™è¦æ”¹ç”¨ &lt;code>$ ipfs ls &amp;lt;CID&amp;gt;&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>Warning&lt;/strong>&lt;br>
é€™å€‹ç¯„ä¾‹éƒ½æ˜¯æª”æ¡ˆï¼Œå¦‚æžœæœ‰ç›®éŒ„çš„è©±è¦åŠ ä¸Šé¸é … &lt;code>-r&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>Warning&lt;/strong>&lt;br>
å› ç‚ºç›®éŒ„ä¹Ÿæ˜¯æ ¹æ“šå…§å®¹é›œæ¹Šï¼Œæ‰€ä»¥ä½ ä¸èƒ½ä¿®æ”¹ç›®éŒ„å…§çš„æª”æ¡ˆè€Œä¸è®Šå‹•ç›®éŒ„çš„ CIDï¼Œå°±å’Œæª”æ¡ˆä¸€æ¨£&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¯è®Šä½å€">å¯è®Šä½å€&lt;/h2>
&lt;h2 id="ipns">IPNS&lt;/h2>
&lt;p>ipfs æœ‰å€‹ä»‹ç´¹åˆ°é€™è£¡ï¼Œæœ‰å€‹å°å•é¡Œï¼Œä¸€å€‹æª”æ¡ˆåªè¦ä¸€æ›´æ”¹ï¼Œä½å€ï¼ˆCIDï¼‰å°±æœƒæ”¹è®Šï¼Œé€™å°æ–¼ç¶²è·¯å­˜å–å¾ˆä¸å‹å–„ï¼Œèª°çŸ¥é“é‚£ä¸€å¤§ä¸² hash è¦åŽ»å“ªè£¡æ‰¾ï¼Ÿå› æ­¤ ipfs æä¾›äº†ä¸€å€‹æ–¹æ¡ˆï¼šIPNS&lt;/p>
&lt;h3 id="publish">publish&lt;/h3>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘å…ˆæº–å‚™ä¸€å€‹ CID &lt;code>QmZLRFWaz9Kypt2ACNMDzA5uzACDRiCqwdkNSP1UZsu56D&lt;/code>ï¼Œä»–çš„å…§å®¹å°±ä¸€å€‹å­—ã€Œhiã€ã€‚ä¸€æ¨£ add ä¹‹å¾Œï¼Œå°±è¦ä¾†ä½¿ç”¨ ipns äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ipfs name publish QmZLRFWaz9Kypt2ACNMDzA5uzACDRiCqwdkNSP1UZsu56D
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç­‰å€‹å¤§æ¦‚ 30 ç§’ä¹‹å¾Œï¼Œä»–æœƒå›žå‚³é¡žä¼¼é€™å€‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Published to k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm: /ipfs/QmZLRFWaz9Kypt2ACNMDzA5uzACDRiCqwdkNSP1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¬¬ä¸€å€‹ hash &lt;code>k51......snm&lt;/code> é‚£å€‹æˆ‘å€‘ç¨±ä¹‹ç‚º &lt;code>key&lt;/code>ï¼Œç¾åœ¨å°±å¯ä»¥ç”¨ &lt;code>/ipns/k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm&lt;/code> ä¾†å­˜å–åŽŸæœ¬çš„ &lt;code>/ipfs/QmZLRFWaz9Kypt2ACNMDzA5uzACDRiCqwdkNSP1&lt;/code> äº†&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Notice&lt;/strong>&lt;br>
&lt;code>/ipfs/CID&lt;/code> æˆ–æ˜¯ &lt;code>/ipns/&amp;lt;key&amp;gt;&lt;/code> éƒ½å¯ä»¥æƒ³æˆ pathï¼Œæ”¾åœ¨ &lt;code>$ ipfs cat&lt;/code>ã€&lt;code>$ ipfs ls&lt;/code> å¾Œé¢ç•¶åƒæ•¸ã€‚æˆ–æ˜¯å¯ä»¥é€éŽå…¬é–‹çš„é–˜é“å™¨ï¼Œä¾‹å¦‚ &lt;a class="link" href="ipfs.io" >ipfs.io&lt;/a> å­˜å–ã€‚&lt;code>https://ipfs.io/ipfs/&amp;lt;CID&amp;gt;&lt;/code>ã€&lt;code>https://ipfs.io/ipns/&amp;lt;key&amp;gt;&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h3 id="republish">republish&lt;/h3>
&lt;p>æˆ‘å€‘é‚„æ²’ç¤ºç¯„åˆ° ipns çš„é‡è¦åŠŸèƒ½ï¼šå¯è®Šä½å€ã€‚ç¾åœ¨æº–å‚™å¦ä¸€å€‹ CID &lt;code>QmermPSVVcmcutmQ1woTAtUcByUvoS2F3ZcKdkdbuAdEi5&lt;/code>ï¼Œå…§å®¹æ˜¯ã€Œhihiã€&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ipfs name publish -k k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm QmermPSVVcmcutmQ1woTAtUcByUvoS2F3ZcKdkdbuAdEi5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Published to k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm: /ipfs/QmermPSVVcmcutmQ1woTAtUcByUvoS2F3ZcKdkdbuAdEi5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸€æ¨£ç­‰å€‹ 30 ç§’å·¦å³ï¼ŒåŽŸæœ¬ key å°±æŒ‡å‘æ–°çš„å…§å®¹ã€Œhihiã€äº†&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Notice&lt;/strong>&lt;br>
ä½ ä¸ç”¨æ“”å¿ƒæœ‰å…¶ä»–äººæœƒæ“…è‡ªå¹«ä½ æ›´æ–° key çš„æŒ‡å‘ï¼Œå› ç‚ºé‚£å€‹ key å…¶å¯¦æ˜¯ä¸€å°éžå°ç¨±é‡‘é‘°çš„å…¬é‘°ï¼Œç§é‘°å­˜åœ¨ä½ çš„é›»è…¦ï¼Œåªæœ‰æœ‰ç§é‘°çš„äººæ‰èƒ½æ›´æ–°ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="dnslink">DNSLink&lt;/h2>
&lt;p>å¦‚æžœä½ è¦ºå¾—ç”¨éžå°ç¨±é‡‘é‘°ç”¢ç”Ÿçš„ key å¾ˆé†œï¼Œé‚„æ˜¯è¨˜ä¸ä½ï¼Œä½ å¯ä»¥é€éŽå‚³çµ±çš„ DNS ä¾†ç•¶ä½œ keyï¼ˆæ„å‘³è‘—é€™éƒ¨ä»½å…¶å¯¦æ˜¯ä¸­å¿ƒåŒ–çš„ï¼Œè¦ä»˜éŒ¢ï¼‰&lt;br>
DNSLink çš„ç”¨æ³•å¾ˆç°¡å–®ï¼Œå‡è¨­ä½ æƒ³è¦æŠŠ ipfs.simbafs.cc ç•¶ä½œ key æŒ‡å‘ CID &lt;code>QmZLRFWaz9Kypt2ACNMDzA5uzACDRiCqwdkNSP1UZsu56D&lt;/code>ï¼Œé‚£å°±åœ¨ &lt;code>_dnslink.ipfs.simbafs.cc&lt;/code> æ–°å¢žä¸€æ¢ TXT DNS ç´€éŒ„ &lt;code>dnslink=/ipfs/QmZLRFWaz9Kypt2ACNMDzA5uzACDRiCqwdkNSP1UZsu56D&lt;/code>ï¼Œé€™æ™‚å€™ä½ å°±å¯ä»¥ç”¨ &lt;code>/ipns/ipfs.simbafs.cc&lt;/code> ä¾†ä»£æ›¿ &lt;code>/ipfs/QmZLRFWaz9Kypt2ACNMDzA5uzACDRiCqwdkNSP1UZsu56D&lt;/code> äº†&lt;br>
é€™æ™‚å€™ä½ å¯ä»¥æŸ¥ DNS ç´€éŒ„ï¼Œå¦‚æžœæ­£å¸¸å°±ä»£è¡¨è¨­å®šå®Œæˆäº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ dig +short TXT _dnslink.ipfs.simbafs.cc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;dnslink=dnslink=/ipfs/QmZLRFWaz9Kypt2ACNMDzA5uzACDRiCqwdkNSP1UZsu56D&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ipns-in-dnslink">ipns in DNSLink&lt;/h3>
&lt;p>å¦‚æžœä½ æŸ¥çœ‹ ipfs.io çš„ DNSLink ç´€éŒ„ï¼Œä½ æœƒç™¼ç¾ä»–çš„å…§å®¹æ˜¯ &lt;code>dnslink=/ipns/website.ipfs.io&lt;/code>ï¼Œä¹Ÿå°±æ˜¯èªª &lt;code>/ipns/ipfs.io&lt;/code> å’Œ &lt;code>/ipns/website.ipfs.io&lt;/code> æ˜¯ä¸€æ¨£çš„ï¼Œå¾žç€è¦½å™¨çœ‹èµ·ä¾†ä¹Ÿçš„ç¢ºå¦‚æ­¤ã€‚å†æŸ¥ website çš„ DNSLink ç´€éŒ„ &lt;code>dnslink=/ipfs/QmQoprt2cVNJKrDUTg2QYHmaqw7T1E36sSg9bPiWgoLY48&lt;/code>ï¼Œçœ‹ä¾† ipfs.io çœŸæ­£æŒ‡å‘çš„ CID å…¶å¯¦æ˜¯ &lt;code>Qm....Y48&lt;/code>&lt;br>
é€™å€‹æ¡ˆä¾‹å‘Šè¨´æˆ‘å€‘ï¼ŒDNSLink ä¸ä¸€å®šåªèƒ½æ”¾ CIDï¼Œæ”¾ ipns çš„ key ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¾‹å¦‚æŒ‡å‘ &lt;code>/ipns/k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm&lt;/code> çš„è©±ï¼Œåªè¦æ›´æ–° &lt;code>k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm&lt;/code> çš„æŒ‡å‘å…§å®¹å°±å¯ä»¥æ›´æ–°ç¶²ç«™ï¼Œä¸éœ€è¦å‹• DNS ç´€éŒ„&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>Notice&lt;/strong>&lt;br>
æˆ‘æ¸¬è©¦æœ‰æˆåŠŸï¼Œè‡³å°‘æ›´æ–° ipns æ¯”æ›´æ–° DNS å¿«ï¼Œè€Œä¸”åªéœ€è¦åœ¨ CLI æ“ä½œ&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="ç€è¦½å™¨">ç€è¦½å™¨&lt;/h2>
&lt;p>ç›®å‰ç‚ºæ­¢ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½åœ¨ CLI ä¸­é€éŽ &lt;code>ipfs&lt;/code> å‘½ä»¤é€²è¡Œï¼Œä½†æˆ‘å€‘çš„ç›®æ¨™æ‡‰è©²æ˜¯é€éŽç€è¦½å™¨å¯ä»¥çœ‹åˆ°æŽ›åœ¨ ipfs ä¸Šçš„ç¶²é å§ï¼é€™å€‹éƒ¨ä»½åªèƒ½èªªéƒ½é‚„ä¸ç”šç†æƒ³ï¼Œè¦å˜›æ˜¯å›žæ­¸ä¸­å¿ƒåŒ–çš„è§£æ±ºæ–¹æ¡ˆï¼Œä¸ç„¶å°±æ˜¯ç¶²å€æœƒé•·å¾ˆé†œã€‚&lt;/p>
&lt;h2 id="gateway-é–˜é“å™¨">Gateway é–˜é“å™¨&lt;/h2>
&lt;p>ä¹‹æ‰€ä»¥éœ€è¦é–˜é“å™¨ï¼Œå°±æ˜¯å› ç‚ºç€è¦½å™¨é‚„ç„¡æ³•ç›´æŽ¥è®€å– ipfs çš„å…§å®¹ï¼Œæ‰€ä»¥éœ€è¦é–˜é“å™¨å¹«å¿™åšè½‰ç™¼ï¼Œä»–çš„åŠŸèƒ½æ˜¯æŠŠ location-based çš„ http è½‰æ›æˆ content-addressing çš„ ipfsï¼Œå†å°‡è³‡è¨Šè¿”å›žç€è¦½å™¨ï¼Œä¾‹å¦‚å°‡ ipfs.io é€éŽ ipns è§£æžæˆ &lt;code>/ipfs/QmQoprt2cVNJKrDUTg2QYHmaqw7T1E36sSg9bPiWgoLY48&lt;/code>ï¼Œå–å¾—å…§å®¹å¾Œå†å°‡è³‡æ–™ä¸Ÿå›žçµ¦ç€è¦½å™¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”Œâ”€â”€â”€â”€â”€â”€â–º â”‚ ipfs node â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”‚ â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”‚ â”‚ â”‚ ipfs â”‚ peers â”‚ â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ Browser â”‚ http â”‚ ipfs gateway â”‚ â—„â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â–º â”‚ ipfs node â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ https://ipfs.io â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ â”‚ â”‚ â”‚ â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”‚ â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€â”€â”€â”€â”€â–º â”‚ ipfs node â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä½¿ç”¨é–˜é“å™¨">ä½¿ç”¨é–˜é“å™¨&lt;/h2>
&lt;p>å…ˆæ•´ç†ä¸€ä¸‹æˆ‘å€‘ç¾åœ¨æœ‰çš„æ±è¥¿&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">key&lt;/th>
&lt;th style="text-align:left">value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">CID&lt;/td>
&lt;td style="text-align:left">&lt;code>/ipfs/QmermPSVVcmcutmQ1woTAtUcByUvoS2F3ZcKdkdbuAdEi5&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">ipns key&lt;/td>
&lt;td style="text-align:left">&lt;code>/ipns/k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">DNSLink&lt;/td>
&lt;td style="text-align:left">&lt;code>ipfs.simbafs.cc&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">é–˜é“å™¨&lt;/td>
&lt;td style="text-align:left">ipfs.io&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>&lt;strong>Notice&lt;/strong>&lt;br>
é–˜é“å™¨æœ‰å¾ˆå¤šï¼Œæˆ‘å€‘ç”¨ ipfs å®˜æ–¹æä¾›çš„ä¾†åšç¤ºç¯„ï¼Œé€™è£¡æœ‰ &lt;a class="link" href="https://ipfs.github.io/public-gateway-checker/" target="_blank" rel="noopener"
>å…¬å…±é–˜é“å™¨åˆ—è¡¨&lt;/a>ï¼Œä¸‹é¢æœƒç¤ºç¯„åœ¨æœ¬æ©Ÿæž¶é–˜é“å™¨&lt;/p>
&lt;/blockquote>
&lt;p>ä»¥ä¸‹ä¸‰å€‹æ–¹å¼ï¼Œéƒ½å¯ä»¥åœ¨ç€è¦½å™¨ä¸­å–å¾—æˆ‘å€‘çš„æª”æ¡ˆ&lt;/p>
&lt;ul>
&lt;li>ipfs.io/ipfs/QmermPSVVcmcutmQ1woTAtUcByUvoS2F3ZcKdkdbuAdEi5&lt;/li>
&lt;li>ipfs.io/ipns/k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm&lt;/li>
&lt;li>ipfs.io/ipns/ipfs.simbafs.cc&lt;/li>
&lt;/ul>
&lt;h2 id="æœ¬æ©Ÿé–˜é“å™¨">æœ¬æ©Ÿé–˜é“å™¨&lt;/h2>
&lt;p>å·²ç¶“æœ‰å…¬å…±é–˜é“å™¨äº†ï¼Œç‚ºä»€éº¼é‚„éœ€è¦æœ¬æ©Ÿé–˜é“å™¨å‘¢ï¼Ÿå› ç‚ºå…¬å…±é–˜é“å™¨ï¼Œèªªåˆ°åº•é‚„æ˜¯ä¸€å€‹ä¸­å¿ƒåŒ–çš„è¨­æ–½ï¼Œå¦‚æžœæˆ‘å€‘å¸Œæœ›æ•´å€‹éŽç¨‹éƒ½æ˜¯åŽ»ä¸­å¿ƒåŒ–ï¼Œé‚£å°±è¦ç”¨æœ¬æ©Ÿçš„é–˜é“å™¨ã€‚è€Œä¸”å¦‚æžœä½ çš„æª”æ¡ˆæ˜¯æ”¾åœ¨æœ¬æ©Ÿï¼Œé‚£ç”¨æœ¬æ©Ÿé–˜é“å™¨æœƒæœ€å¿«æ‰¾åˆ°ï¼Œå› ç‚ºè·é›¢æœ€è¿‘å˜›ï¼Œè€Œä¸”ç”¨æœ¬æ©Ÿé–˜é“å™¨é‚„æœ‰åŠ é€Ÿç¶²é è¼‰å…¥çš„æ•ˆæžœï¼Œé¡žä¼¼ cacheã€‚&lt;br>
ä½¿ç”¨æœ¬æ©Ÿé–˜é“å™¨å¾ˆç°¡å–®ï¼Œé–‹å•Ÿ ipfs daemon æ™‚å°±å·²ç¶“é è¨­é–‹ä¸€å€‹æœ¬æ©Ÿé–˜é“å™¨äº†ï¼Œä½å€åœ¨ localhost:8080ï¼ŒæŽ¥è‘—ä¾†çœ‹çœ‹æ€Žæ¨£å¯ä»¥é€£ä¸Šæˆ‘å€‘çš„æª”æ¡ˆ&lt;/p>
&lt;p>é¦–å…ˆæ˜¯å’Œå…¬å…±é–˜é“å™¨ä¸€æ¨£çš„åŠŸèƒ½&lt;/p>
&lt;ul>
&lt;li>localhost:8080/ipfs/QmermPSVVcmcutmQ1woTAtUcByUvoS2F3ZcKdkdbuAdEi5&lt;/li>
&lt;li>localhost:8080/ipns/k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm&lt;/li>
&lt;li>localhost:8080/ipfs.io/ipns/ipfs.simbafs.cc&lt;/li>
&lt;/ul>
&lt;p>ç„¶å¾Œæ˜¯æŸäº›å…¬å…±é–˜é“å™¨æ²’æœ‰é–‹æ”¾çš„åŠŸèƒ½&lt;/p>
&lt;ul>
&lt;li>ipfs.simbafs.cc.ipns.localhost:8080&lt;/li>
&lt;li>k51qzi5uqu5djj5l4icq7jgwc06bzhxjxpwo0ghpyf9h5pah5hr5i4se7sosnm.ipns.localhost:8080&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;h3 id="cid-in-subdomain">CID in subdomain&lt;/h3>
&lt;p>æ’æ’­ä¸€ä¸‹ï¼Œçœ‹åˆ°é€™è£¡ï¼Œä½ æœƒç™¼ç¾ DNSLinkã€ipns key éƒ½å¯ä»¥æ”¾åœ¨é–˜é“å™¨çš„ subdomainï¼Œé‚£ç‚ºä»€éº¼ CID ä¸è¡Œå‘¢ï¼Ÿå…¶å¯¦ä¸æ˜¯ä¸è¡Œï¼Œä½†æ˜¯éœ€è¦å°ä¿®æ”¹ä¸€ä¸‹ï¼Œå› ç‚ºæˆ‘å€‘çš„ CID æ˜¯å€åˆ†å¤§å°å¯«çš„ï¼ˆcase-sensitiveï¼‰ï¼Œä½†æ˜¯ domain name æ˜¯ä¸å€åˆ†å¤§å°å¯«çš„ï¼ˆcase-insensitiveï¼Œä¹Ÿå°±æ˜¯èªª google.com = Google.com = GoOglE.cOmï¼‰ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦æ›ä¸€å€‹ case-insensitive çš„é›œæ¹Šã€‚&lt;br>
&lt;code>--cid-version 1&lt;/code> é€™å€‹é¸é …æœƒé è¨­çš„ CIDv0 æ”¹æˆ CIDv1ï¼ŒCIDv1 æœƒç”¢ç”Ÿ case-insensitive çš„é›œæ¹Šã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ipfs add --cid-version 1 hihi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">added bafkreihkkkuu4u6n6tpxz7zpveva2toxahi5jprgxwvthvcoeefh36bcxy hihi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/blockquote>
&lt;p>å›žåˆ°é–˜é“å™¨ï¼Œæ…Žé¸é–˜é“å™¨å¤§æ¦‚æ˜¯æ¯”ä½ çš„æª”æ¡ˆæ€Žéº¼ä¸Ÿä¸Š ipfs é‚„é‡è¦çš„äº‹ï¼Œä¸åªæ˜¯å› ç‚ºé–˜é“å™¨çš„é¸æ“‡æœƒå½±éŸ¿è¼‰å…¥é€Ÿåº¦ï¼Œæ›´æ˜¯å› ç‚ºé–˜é“å™¨ä»£ç†äº†ä½ çš„ç¶²é ï¼Œæ‰€ä»¥ä»–å¯ä»¥ä¿®æ”¹ã€æˆ–æ˜¯ç›£æŽ§ç¶²é çš„æ´»å‹•ï¼Œå†åŠ ä¸Šç€è¦½å™¨åŒæºæ”¿ç­–çš„å½±éŸ¿ï¼Œå¦‚æžœé–˜é“å™¨ä¸Šæœ‰äººè¦åšå£žäº‹ï¼Œé‚£ç¶²ç«™çš„è³‡å®‰å¯èƒ½å°±æœƒå—åˆ°å¨è„…ã€‚ä½†é€™æ–¹é¢æˆ‘æ²’æœ‰ç ”ç©¶ï¼Œæˆ‘çŸ¥é“å¯ä»¥é¿å…çš„æ–¹å¼æ˜¯ä¸è¦ç”¨é–˜é“å™¨é è¨­çš„ç¶²å€ï¼Œå¯ä»¥ç”¨ CNAME æ”¹æˆè‡ªå·±çš„ domainï¼Œå†ä¾†æ˜¯é¸æ“‡ä¿¡ä»»çš„é–˜é“å™¨ï¼Œåƒæ˜¯ ipfs.ioã€cf-ipfs.com ç­‰ç­‰ã€‚ç•¶ç„¶å¦‚æžœæ˜¯ç”¨è‡ªå·±çš„é–˜é“å™¨æˆ–æ˜¯æœ¬æ©Ÿé–˜é“å™¨å°±æ›´å¥½äº†ï¼ˆä½†å¯èƒ½å°±è¦çŠ§ç‰²æ•ˆèƒ½æˆ–æ˜¯ç¶²å€æœƒè®Šé†œï¼‰ã€‚&lt;/p>
&lt;h2 id="æž¶ä¸€å€‹çœ‹èµ·ä¾†å¾ˆåƒæ­£å¸¸ä½†å…¶å¯¦æ˜¯æ”¾åœ¨-ipfs-çš„ç¶²é ">æž¶ä¸€å€‹çœ‹èµ·ä¾†å¾ˆåƒæ­£å¸¸ä½†å…¶å¯¦æ˜¯æ”¾åœ¨ ipfs çš„ç¶²é &lt;/h2>
&lt;p>ç ”ç©¶ä¸­&amp;hellip;https æžä¸å®š&lt;br>
gateway timeout&amp;hellip;&lt;/p>
&lt;hr>
&lt;h2 id="å¿ƒå¾—">å¿ƒå¾—&lt;/h2>
&lt;p>ipfs æ˜¯çœŸçš„æœ‰æ½›åŠ›æ”¹è®Šç¶²è·¯ç”Ÿæ…‹çš„ï¼Œä½†æ˜¯ä»–é‚„æœ‰å…©å¤§å•é¡Œè¦è§£æ±ºï¼Œä¸€æ˜¯å¦‚ä½•çŽå‹µ/å¼·è¿«åšç¨®ï¼ˆå€Ÿç”¨ BT çš„åè©ž XDï¼‰ï¼Œä¹Ÿå°±æ˜¯ç¯€é»žä¸­å¿ƒåŒ–å•é¡Œï¼ŒäºŒæ˜¯é–˜é“å™¨ä¸­å¿ƒåŒ–å•é¡Œï¼Œå…©å€‹éƒ½è§£æ±ºäº†æˆ–è¨± ipfs å°±å¯ä»¥çœŸæ­£çš„å¯¦ç¾&lt;/p>
&lt;h2 id="å¦‚ä½•çŽå‹µå¼·è¿«åšç¨®ç¯€é»žä¸­å¿ƒåŒ–å•é¡Œ">å¦‚ä½•çŽå‹µ/å¼·è¿«åšç¨®ï¼ˆç¯€é»žä¸­å¿ƒåŒ–å•é¡Œï¼‰&lt;/h2>
&lt;p>é€™å€‹å•é¡Œå’Œ BT ä¸€æ¨£ï¼Œå‡è¨­ä»Šå¤©æˆ‘ä¸€å€‹ç„¡åå°å’æƒ³è¦åœ¨ ipfs ç™¼å¸ƒä¸€å€‹æª”æ¡ˆï¼Œå¾ˆé¡¯ç„¶æˆ‘è‡ªå·±é–‹ä¸€å€‹ç¯€é»žæœ€ç°¡å–®æ–¹ä¾¿ï¼Œä½†æ˜¯å¦‚æžœæˆ‘çš„æª”æ¡ˆç€è¦½äººæ•¸ä¸å¤šï¼Œå°±æœƒè®Šæˆåªæœ‰æˆ‘è‡ªå·±å’Œå°‘æ•¸çš„ç¯€é»žå­˜è³‡æ–™ï¼Œé‚£å­˜å–é€Ÿåº¦æœƒæ…¢åˆ°é åŒ—ã€‚è¦è§£æ±ºé€™å€‹å•é¡Œï¼Œå°±æœƒç”¢ç”Ÿå‡ºåƒæ˜¯ cloudflare é€™ç¨® CDN å¹«å¿™ã€Œå¿«å–ã€ï¼ˆä»¥ ipfs çš„è¡“èªžä¾†èªªæ‡‰è©²å°±æ˜¯ã€Œåšç¨®ã€ï¼‰çš„æœå‹™ï¼Œç”šè‡³æ˜¯è¦ä»˜è²»çš„ã€‚æœ€å¾Œå°±è®Šæˆè¦ç™¼å¸ƒæª”æ¡ˆå°±è¦æ‰¾é€™äº› CDN ä»˜è²»ï¼Œä¸ç„¶ä»–å€‘çš„ä¼ºæœå™¨å°±ä¸æœƒå­˜ä½ çš„æª”æ¡ˆï¼Œæ¯æ¬¡éƒ½è¦æ»¿ä¸–ç•Œæ‰¾åˆ°ä½ çš„ç¯€é»žï¼Œæ‰èƒ½è¦åˆ°è³‡æ–™ã€‚&lt;br>
ç•¶ç„¶ï¼Œå› ç‚º ipfs çš„å¤©ç”Ÿè¨­è¨ˆé—œä¿‚ï¼Œé€™å€‹å•é¡Œæ¯”å‚³çµ±çš„ http ä¾†èªªå®¹æ˜“è§£æ±ºï¼Œç•¢ç«Ÿç¸½æ˜¯æœƒæœ‰å…¶ä»–å°ç¯€é»žå¹«å¿™åšç¨®ï¼Œä½†é€™é‚„æ˜¯ä¸€å€‹å€¼å¾—é—œå¿ƒçš„å•é¡Œã€‚&lt;br>
é–‹ç™¼ ipfs çš„ protocal lab æ›¾ç¶“æå‡ºä¸€å€‹æ–¹æ¡ˆä¾†æŠŠåšç¨®çš„æˆæœ¬è½‰ç§»ï¼Œé‚£å°±æ˜¯ç™¼è¡Œ &lt;a class="link" href="https://en.wikipedia.org/wiki/Filecoin" target="_blank" rel="noopener"
>FileCoin&lt;/a>ï¼Œä½†æ˜¯ä»¥ç›®å‰çš„å¸‚å ´ä¾†çœ‹ï¼Œä»»ä½•åŠ å¯†è²¨å¹£éƒ½æœƒè¢«æ‹¿åŽ»ç‚’ä½œï¼Œç„¶å¾Œé«˜æ©ŸçŽ‡çˆ†æŽ‰ï¼Œçœ‹ä¸‹åœ–çš„ FileCoin èµ°å‹¢å°±çŸ¥é“ä»–è¢«ç‚’éŽä¸€éäº†&lt;/p>
&lt;blockquote>
&lt;p>&lt;img src="https://blog.simbafs.cc/filecoin.png"
loading="lazy"
alt="filecoin"
> &amp;gt; &lt;a class="link" href="https://crypto.com/price/zh-TW/filecoin" target="_blank" rel="noopener"
>source: https://crypto.com/price/zh-TW/filecoin&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>é€™æ¨£çš„æ©Ÿåˆ¶èƒ½ä¸èƒ½è®“æ›´å¤šäººé¡˜æ„åšç¨®ï¼Ÿå¾ˆé›£èªª&lt;/p>
&lt;h2 id="é–˜é“å™¨ä¸­å¿ƒåŒ–å•é¡Œ">é–˜é“å™¨ä¸­å¿ƒåŒ–å•é¡Œ&lt;/h2>
&lt;p>å¦‚æžœç¯€é»žä¸­å¿ƒåŒ–ç„¡æ³•è§£æ±ºï¼Œè‡³å°‘æˆ‘è¦ºå¾—é–˜é“å™¨ä¸­å¿ƒåŒ–æ˜¯å®¹æ˜“è§£æ±ºçš„ï¼Œåªè¦ç€è¦½å™¨å…§åµŒ ipfs å°±å¥½äº†ï¼Œæˆ–æ˜¯åƒç•¶å¹´ Adobe Flash ä¸€æ¨£è¦è£å¤–æŽ›ï¼ˆä¹Ÿå°±æ˜¯é¡žä¼¼ç¾åœ¨çš„æœ¬åœ°é–˜é“å™¨ä½œæ³•ï¼‰ï¼Œè€Œä¸”ç•¶é€™æ±è¥¿è®Šæˆæ¨™é…ä¹‹å¾Œåšç¨®çš„å•é¡Œä¹Ÿé †å¸¶è§£æ±º&lt;/p>
&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;p>&lt;a class="link" href="https://docs.ipfs.tech" target="_blank" rel="noopener"
>ipfs docs&lt;/a>&lt;/p></description></item><item><title>p2p</title><link>https://blog.simbafs.cc/p/golang/p2p/</link><pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/p2p/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/p2p.png" alt="Featured image of post p2p" />&lt;h1 id="p2p">p2p&lt;/h1>
&lt;p>æˆ‘ä¸å¤ªç¢ºå®šé€™æ˜¯ p2p é‚„æ˜¯ç©¿éš§ï¼Œä½†åæ­£åŠŸèƒ½å°±æ˜¯å¯ä»¥è®“å…©å€‹åœ¨ä¸åŒå…§ç¶²çš„æ©Ÿå™¨å¯ä»¥ç›´é€£ï¼Œä¸éœ€è¦é€éŽä¸­å¤®ä¼ºæœå™¨è½‰ç™¼ã€‚å…ˆä¸ŠåŽŸç†åœ–ï¼Œç„¶å¾Œå†ä¾†ä¸€æ­¥ä¸€æ­¥çœ‹ç¨‹å¼ç¢¼&lt;/p>
&lt;p>&lt;img src="https://github.com/simbafs/experiment-p2p/raw/main/explain.png"
loading="lazy"
alt="explain.png"
>&lt;/p>
&lt;h2 id="server">Server&lt;/h2>
&lt;p>é¦–å…ˆï¼Œå…ˆä¾†çœ‹ä¼ºæœå™¨ç«¯ï¼Œé€™é‚Šåšçš„äº‹å¾ˆç°¡å–®ï¼Œé€™é‚Šé–‹äº†ä¸€å€‹ UDP listenerï¼Œç„¶å¾Œé–‹ä¸€å€‹é™£åˆ—å­˜å…©å€‹ client çš„ &lt;code>UDPAddr&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">listener&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ListenUDP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;udp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UDPAddr&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IP&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">IPv4zero&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Port&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">port&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">peers&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UDPAddr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œåœ¨ for è¿´åœˆä¸­å‚¾è½é€£ç·šï¼Œé€™é‚Šæ”¶åˆ°çš„ &lt;code>data&lt;/code> æœƒæ˜¯ä¸€ä¸²ä¸é‡è¦çš„è¨Šæ¯ï¼Œä½†æ˜¯ &lt;code>ReadFromUDP&lt;/code> å›žå‚³çš„ &lt;code>remoteAddr&lt;/code> å°±å¾ˆé‡è¦ï¼Œè¦å­˜èµ·ä¾†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">remoteAddr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFromUDP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;err during read: %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">peers&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">peers&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">remoteAddr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ°é€™é‚Šï¼Œå¯èƒ½å°±çµæŸäº†ï¼Œä½†æ˜¯å¦‚æžœé€™æ™‚å€™æ˜¯ç¬¬äºŒå€‹é€£ç·šï¼ˆ&lt;code>len(peers) == 2&lt;/code>ï¼‰ï¼Œå°±å¯ä»¥é–‹å§‹å»ºç«‹ p2p é€£ç·šï¼Œå°‡ A çš„ addr å‚³çµ¦ Bï¼Œå°‡ B çš„ addr å‚³çµ¦ Aã€‚ç„¶å¾Œè‹¥å¹²ç§’å¾ŒçµæŸä¼ºæœå™¨ï¼Œä¼ºæœå™¨ç«¯çš„ç¨‹å¼ç¢¼å°±åˆ°é€™è£¡çµæŸäº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">peers&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">WriteToUDP&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">peers&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">()),&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">peers&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">listener&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">WriteToUDP&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">peers&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">()),&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">peers&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Second&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="client">Client&lt;/h2>
&lt;p>ä¼ºæœå™¨ç«¯é¦–å…ˆè¦å’Œä¼ºæœå™¨å»ºç«‹é€£ç·šï¼Œå¾žæœ¬åœ°ï¼ˆ&lt;code>srcAddr&lt;/code>ï¼‰é€£ç·šåˆ°ä¼ºæœå™¨ï¼ˆ&lt;code>dstAddr&lt;/code>ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">srcAddr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UDPAddr&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IP&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">IPv4zero&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Port&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">9901&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">dstAddr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UDPAddr&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">IP&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">serverIP&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Port&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">port&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">DialUDP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;udp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">srcAddr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">dstAddr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatalf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;DialUDP: %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œå‚³é€ä¸€æ®µä¸é‡è¦çš„è¨Šæ¯ï¼Œé€™é‚Šä¸»è¦ä½œç”¨æ˜¯è®“ä¼ºæœå™¨çŸ¥é“æˆ‘å€‘é€™å€‹é€£ç¾åœ¨ NAT å¤–çš„ ip å’Œ portã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Write&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;hello,I&amp;#39;m new peer:&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">tag&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatalf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;conn.Write: %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æŽ¥è‘—å»ºç«‹ä¸€å€‹ç©ºé–“ï¼Œç­‰åˆ°å…©å€‹ client éƒ½é€£ç·šå¾Œé€™é‚Šæœƒæ”¶åˆ°å°æ–¹çš„ ip å’Œ portï¼Œç„¶å¾Œé€™å€‹é€£ç·šå°±å¯ä»¥å…ˆé—œæŽ‰äº†ã€‚æŽ¥è‘—å°‡æ”¶åˆ°çš„ addr è§£æžæˆ &lt;code>*net.UDPAddr&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">data&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">remoteAddr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFromUDP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatalf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;error during read: %s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">anotherPeer&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">parseAddr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œç™¼èµ·ç¬¬äºŒå€‹é€£ç·šï¼Œå¾žæœ¬åœ°ï¼ˆ&lt;code>srcAddr&lt;/code>ï¼‰åˆ°å¦ä¸€å€‹ clientï¼ˆ&lt;code>anotherAddr&lt;/code>ï¼‰ï¼Œé€™è£¡å°±æ²’æœ‰ç¶“éŽä¼ºæœå™¨äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">conn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">net&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">DialUDP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;udp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">srcAddr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">anotherAddr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;send handshake:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ™‚ p2p é€£ç·šå°±å·²ç¶“å»ºç«‹èµ·ä¾†äº†ï¼Œç‚ºäº†é©—è­‰é›™å‘éƒ½å¯ä»¥é€šï¼Œæˆ‘å€‘åœ¨ä¸€å€‹ gorutine ä¸­æ¯åç§’é€ä¸²éš¨æ©Ÿæ•¸å­—&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">r1&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">rand&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">rand&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewSource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Now&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">UnixNano&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;[%s]: %d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tag&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">r1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Intn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Second&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;send: %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Write&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="nb">byte&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fatalf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;send msg fail: %s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨åŽŸæœ¬çš„ gorutine ä¸­æŽ¥æ”¶å°æ–¹å‚³ä¾†çš„è¨Šæ¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFromUDP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;error during read: %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;receive: %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç¨‹å¼ç¢¼">ç¨‹å¼ç¢¼&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/simbafs/experiment-p2p" target="_blank" rel="noopener"
>å®Œæ•´çš„ç¨‹å¼ç¢¼&lt;/a> åœ¨é€™ï¼Œå¦‚æžœå°ä½ æœ‰å¹«åŠ©ï¼Œé †æ‰‹çµ¦çš„ star&lt;/p>
&lt;h2 id="å¿ƒå¾—">å¿ƒå¾—&lt;/h2>
&lt;p>å¦‚æžœæˆ‘æ²’ç†è§£éŒ¯ï¼Œæœƒé¸ç”¨ UDP åš p2p æ˜¯å› ç‚º UDP çš„é€£ç·šé—œæŽ‰å¾Œ NAT ä¸æœƒæŠŠæ´žé—œèµ·ä¾†ï¼Œæ‰€ä»¥ä¸€é–‹å§‹å¾€ä¼ºæœå™¨ç™¼è¨Šæ¯çš„å‹•ä½œå°±æ˜¯åœ¨æ‰“æ´žï¼Œç„¶å¾ŒæŠŠæ´žçš„è³‡è¨Šé€åˆ°å¦ä¸€é‚Šï¼ŒæŽ¥è‘—å°±å¯ä»¥é€éŽé€™çš„æ´žç›´é€£ã€‚è€Œ TCP ä¸€æ–·æŽ‰é€£ç·šæ´žå°±æœƒé—œèµ·ä¾†ï¼Œæ‰€ä»¥ç„¡æ³•åš p2pï¼ˆé€™æ˜¯å€‹äººçŒœæ¸¬ï¼Œç„¡æ ¹æ“šï¼‰ã€‚&lt;br>
é€™æ™‚å€™æˆ‘å°±å¾ˆå¥½å¥‡ï¼Œæ‡‰è©²æœ‰äººåšé€™ç¨®å…¬å…±çš„ p2p server å§ï¼Ÿæ­é… SDK æ‡‰è©²å¯ä»¥å¾ˆè¼•é¬†çš„åšåˆ°ä»»æ„å…©å°è£ç½®é€£ç·šï¼Œé€™æ¨£ä¼ºæœå™¨çš„ loading ä¹Ÿä¸é‡ï¼Œéœ€è¦çš„è³‡æºä¹Ÿå¾ˆä½Žï¼Œæ„Ÿè¦ºå¯ä»¥ä¾†é–‹ä¸€å€‹ã€‚&lt;br>
æŽ¥è‘—æˆ‘æ‡‰è©²æœƒåŽ»ç ”ç©¶æ˜¯å¦æœ‰è¾¦æ³•ç”¨ TCP åš p2pï¼Œæˆ–æ˜¯å¦‚ä½•åœ¨ UDP ä¸Šæ­å»ºä¸€å€‹å¯ä¿¡è³´çš„é€šè¨Šã€‚æŽ¥è‘—é ç¨‹ç›®æ¨™å¤§æ¦‚æ˜¯ IPFS ä¹‹é¡žçš„&lt;/p></description></item><item><title>File System</title><link>https://blog.simbafs.cc/p/js/nextjs/fs/</link><pubDate>Thu, 04 Aug 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/nextjs/fs/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/nextjs/fs.png" alt="Featured image of post File System" />&lt;h1 id="file-system">File System&lt;/h1>
&lt;h2 id="getstaticprops">getStaticProps&lt;/h2>
&lt;p>ä¸çŸ¥é“ç‚ºä»€éº¼ï¼Œ&lt;code>getStaticProps&lt;/code> è£¡é¢çš„ &lt;code>fs&lt;/code> æ™‚æœ‰æ™‚ç„¡ã€‚&lt;a class="link" href="https://github.com/vercel/next.js/discussions/12124" target="_blank" rel="noopener"
>é€™è£¡&lt;/a> ä¼¼ä¹Žæœ‰é—œæ–¼é€™å€‹å•é¡Œçš„å›žç­”ï¼Œä½†ç„¡æ•ˆ&lt;/p>
&lt;h2 id="æ­£å¸¸ä¸€">æ­£å¸¸ä¸€&lt;/h2>
&lt;p>é€™å€‹ç‰ˆæœ¬ï¼Œå°±å¯ä»¥æ­£å¸¸é‹ä½œï¼Œè­‰æ˜Ž &lt;code>getStaticProps&lt;/code> è£¡å¯ä»¥ç”¨ &lt;code>fs&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// pages/index.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;fs/promises&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">getStaticProps&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./content/index.md&amp;#39;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">posts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;index.md&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">posts&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">posts&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ­£å¸¸äºŒ">æ­£å¸¸äºŒ&lt;/h2>
&lt;p>åœ¨é€™å€‹ç‰ˆæœ¬ï¼Œå°‡ &lt;code>fs&lt;/code> ç›¸é—œç¨‹å¼ç¢¼ç§»åˆ° &lt;code>util/fsTest.js&lt;/code>ï¼Œä¹Ÿå°±æ˜¯æ¸¬è©¦å¦‚æžœæ˜¯å¼•ç”¨å¦ä¸€å€‹æ¨¡çµ„ä¸­ &lt;code>fs&lt;/code> ç›¸é—œçš„å‡½æ•¸ã€‚ç¶“éŽè­‰æ˜Žï¼Œä¹Ÿæ˜¯å¯ä»¥çš„&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// util/fsTest.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;fs/promises&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">dirs&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">readdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cwd&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">/content`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// pages/index.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">fsTest&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;../util/fsTest&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">getStaticProps&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">posts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;index.md&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">posts&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fsTest&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">fsTest&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">posts&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æœ‰å•é¡Œçš„">æœ‰å•é¡Œçš„&lt;/h2>
&lt;p>é€™å€‹ç‰ˆæœ¬ï¼Œ&lt;code>util/tree.js&lt;/code> çš„ç¨‹å¼ç¢¼æ˜¯ç¶“éŽæ¸¬è©¦ï¼Œæ˜¯æ²’å•é¡Œçš„ã€‚ä½†æ˜¯å»æœƒå›žå ±éŒ¯èª¤ï¼Œæ‰¾ä¸åˆ° &lt;code>fs&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// util/tree.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;fs/promises&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">tree&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">root&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">opt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// some verified code
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">tree2list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tree&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">opt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// some verified code
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">tree&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tree2list&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// pages/index.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">tree&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tree2list&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;../util/tree&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">getStaticProps&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">tree&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">tree&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">extensions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;.md&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">posts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">tree2list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tree&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">sliceHead&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">posts&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Bitbucket Connect Jira</title><link>https://blog.simbafs.cc/p/index/</link><pubDate>Wed, 20 Jul 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/index/</guid><description>&lt;img src="https://blog.simbafs.cc/og/atlassian/bitbucket-connect-jira/index.png" alt="Featured image of post Bitbucket Connect Jira" />&lt;h1 id="bitbucket-connect-jira">Bitbucket Connect Jira&lt;/h1>
&lt;h2 id="bitbucket-é€£æŽ¥-jira">Bitbucket é€£æŽ¥ Jira&lt;/h2>
&lt;p>å…ˆåˆ° Bitbucket çš„ repo çš„ Jira issue é é¢
&lt;img src="https://blog.simbafs.cc/1.png"
loading="lazy"
alt="1"
>
é»žæ“Šå·¦ä¸Šæ–¹è³‡æ–™å¤¾åœ–ç¤ºæŒ‰éˆ•ï¼Œç„¶å¾Œé»žæ“Šã€ŒManage linked projectsã€
&lt;img src="https://blog.simbafs.cc/2.png"
loading="lazy"
alt="2"
>
é¸å¥½ Jira å°ˆæ¡ˆå¾Œï¼ŒæŒ‰ä¸‹ã€ŒLink projectã€
&lt;img src="https://blog.simbafs.cc/3.png"
loading="lazy"
alt="3"
>
ç­‰è¼‰å…¥å®Œæˆå°±å¯ä»¥çœ‹åˆ° Jira issue äº†
&lt;img src="https://blog.simbafs.cc/4.png"
loading="lazy"
alt="4"
>&lt;/p>
&lt;h2 id="jira-issue-é€£çµ-bitbucket-branch">Jira issue é€£çµ Bitbucket branch&lt;/h2>
&lt;p>Bitbucket çš„ repo çš„ Jira issue é é¢ï¼Œé»žæ“Šè¦è™•ç†çš„ Jira issue æœ€å³å´çš„ä¸‰å€‹é»žé»ž
&lt;img src="https://blog.simbafs.cc/4.png"
loading="lazy"
alt="4"
>
é¸ç¬¬ä¸€å€‹æŒ‰éˆ•ã€ŒCreate Brenchã€
&lt;img src="https://blog.simbafs.cc/5.png"
loading="lazy"
alt="5"
>
å¡«å¥½ typeã€name ç­‰ç­‰è¨Šæ¯ï¼ŒæŒ‰ä¸‹ã€ŒCreateã€å°±å»ºç«‹å¥½ä¸¦å°æ‡‰äº†
&lt;img src="https://blog.simbafs.cc/6.png"
loading="lazy"
alt="6"
>&lt;/p>
&lt;h2 id="å°‡é ç«¯-git-brench-æ‹‰åˆ°æœ¬åœ°">å°‡é ç«¯ Git brench æ‹‰åˆ°æœ¬åœ°&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">$ git pull
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git switch &amp;lt;branch name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆä½µåˆ†æ”¯">åˆä½µåˆ†æ”¯&lt;/h2>
&lt;p>ç›®æ¨™ï¼šå°‡ A åˆ†æ”¯åˆä½µåˆ° main åˆ†æ”¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ git switch main
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git merge A
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡å¯èƒ½æœƒç”¢ç”Ÿè¡çªï¼ˆconflictï¼‰ï¼Œè§£æ±ºå¾Œå°±å¯ä»¥ç¹¼çºŒåˆä½µäº†&lt;/p></description></item><item><title>Solarized</title><link>https://blog.simbafs.cc/p/linux/vim/solarized/</link><pubDate>Wed, 15 Jun 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/vim/solarized/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/vim/solarized.png" alt="Featured image of post Solarized" />&lt;h1 id="solarized">Solarized&lt;/h1>
&lt;p>&lt;a class="link" href="https://ethanschoonover.com/solarized/" target="_blank" rel="noopener"
>solarized&lt;/a> æ˜¯ä¸€å€‹æ–‡å­—ç•Œé¢å¸¸è¦‹çš„é…è‰²æ–¹æ¡ˆï¼Œä¸åƒ…æ˜¯ç”¨åœ¨ vimï¼Œå¤§å¤šæ•¸ terminal å’Œ editor ä¹Ÿéƒ½æ”¯æ´&lt;/p>
&lt;h2 id="install">install&lt;/h2>
&lt;p>åŠ å…¥ ```vim
Plug &amp;rsquo;ericbn/vim-solarized'&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ç„¶å¾Œå®‰è£
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## transparent background
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å› ç‚ºè¨­å®šé—œä¿‚ï¼Œæ‰€ä»¥å¦‚æžœä½ çš„çµ‚ç«¯æ©Ÿæœ‰è¨­å®šé€æ˜ŽèƒŒæ™¯ï¼Œåœ¨ vim ä¸­æœƒå…¨éƒ¨è®Šä¸é€æ˜Žï¼Œè¼‰å…¥[é€™å€‹è¨­å®š](https://gist.github.com/fuadnafiz98/d91e468c9bc4689868eb0984a29fef66)å°±å¯ä»¥è§£æ±ºï¼Œä½ ä¹Ÿå¯ä»¥æ”¾åœ¨å¦å¤–æª”æ¡ˆå†å¼•å…¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">```vim
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34; https://gist.github.com/fuadnafiz98/d91e468c9bc4689868eb0984a29fef66
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34; for transparent background
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">function! AdaptColorscheme()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> highlight clear CursorLine
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> highlight Normal ctermbg=none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> highlight LineNr ctermbg=none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> highlight Folded ctermbg=none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> highlight NonText ctermbg=none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> highlight SpecialKey ctermbg=none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> highlight VertSplit ctermbg=none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> highlight SignColumn ctermbg=none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">endfunction
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">autocmd ColorScheme * call AdaptColorscheme()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">highlight Normal guibg=NONE ctermbg=NONE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">highlight CursorColumn cterm=NONE ctermbg=NONE ctermfg=NONE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">highlight CursorLine cterm=NONE ctermbg=NONE ctermfg=NONE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">highlight CursorLineNr cterm=NONE ctermbg=NONE ctermfg=NONE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">highlight clear LineNr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">highlight clear SignColumn
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">highlight clear StatusLine
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34; Change Color when entering Insert Mode
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">autocmd InsertEnter * set nocursorline
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34; Revert Color to default when leaving Insert Mode
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">autocmd InsertLeave * set nocursorline
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;&amp;#34; extra settings, uncomment them if necessary :)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;set cursorline
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;set noshowmode
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;set nocursorline
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34; trasparent end
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>éˆé­‚ä¸–ç•Œæ¨¡åž‹</title><link>https://blog.simbafs.cc/p/other/soul-model/</link><pubDate>Tue, 14 Jun 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/other/soul-model/</guid><description>&lt;img src="https://blog.simbafs.cc/og/other/soul-model.png" alt="Featured image of post éˆé­‚ä¸–ç•Œæ¨¡åž‹" />&lt;h1 id="éˆé­‚ä¸–ç•Œæ¨¡åž‹">éˆé­‚ä¸–ç•Œæ¨¡åž‹&lt;/h1>
&lt;h2 id="æœªæ•´ç†">æœªæ•´ç†&lt;/h2>
&lt;p>éˆé­‚æœ‰é‡åŠ›æ•ˆæ‡‰ï¼ˆä¸æ˜¯è³ªé‡ï¼‰ï¼Œä¸€å¨éžå¸¸å¤§é‡çš„éˆé­‚èšé›†å½¢æˆä¸–ç•Œï¼ˆæ†æ˜Ÿï¼‰ï¼Œæ¯å€‹ç”Ÿå‘½ï¼ˆè¡Œæ˜Ÿï¼‰ä»¥é•·æ©¢åœ“è»Œé“åœ¨ç©ºé–“ä¸­ç¹žè¡Œï¼Œç•¶é›¢é–‹ä¸–ç•Œä¸€å®šè·é›¢å°±æœƒæ­»äº¡ï¼ˆé›¢é–‹ä¸–ç•Œï¼‰ï¼Œä½†å› ç‚ºé‡åŠ›å½±éŸ¿ä»åœ¨ï¼Œå†æ¬¡ç¹žè¡Œé€²ä¸€å®šè·é›¢å¾Œå°±æœƒå‡ºç”Ÿï¼ˆé€²å…¥ä¸–ç•Œï¼‰ï¼Œé€™å€‹è·é›¢å’Œ M ä¸–ç•Œéˆé­‚è³ªé‡ã€m å€‹é«”éˆé­‚è³ªé‡æœ‰é—œ
å’Œä¸–ç•Œè·é›¢è¶Šè¿‘éˆé­‚ç›¸å°å¼·åº¦è¶Šå¼·ï¼ˆå‰›å‡ºç”Ÿã€æŽ¥è¿‘æ­»äº¡å¾ˆå¼±ï¼Œå£¯å¹´æ¯”è¼ƒå¼·ï¼‰
ç•¶ç„¶æœƒæœ‰å¤šå€‹æ†æ˜Ÿï¼Œéˆé­‚å¾ž A æ†æ˜Ÿç¹žåˆ° B æ†æ˜Ÿå°±æ˜¯ç©¿è¶Šä¸–ç•Œ
éˆé­‚ç¢°æ’žæœƒå°Žè‡´è¨˜æ†¶éŒ¯äº‚ï¼ˆéžå½ˆç¢°ï¼‰æˆ–æ˜¯éˆé­‚äº¤æ›ï¼ˆå½ˆç¢°ï¼‰ï¼Œä½†å…¶å¯¦æ˜¯è¨˜æ†¶äº¤æ›è€Œå·²ï¼Œéˆé­‚æœ¬è³ªä¸è®Š
æ‰€è¬‚é¡žç¥žæ˜¯æŒ‡é›¢å¿ƒåŠ›æŽ¥è¿‘ 1 çš„éˆé­‚ï¼Œå› ç‚ºå’Œä¸–ç•Œè·é›¢å¹¾ä¹Žä¸è®Šï¼Œå› æ­¤åœ¨æœ‰é™æ™‚é–“å…§é¡žç¥žä¸æ­»
è€ŒçœŸç¥žå°±æ˜¯é›¢å¿ƒçŽ‡ç‚º 1ï¼Œæ²’æ„å¤–çš„è©±æ°¸ä¸–ä¸æ­»ï¼ˆå¤ å¼·çš„å¤–åŠ›é‚„æ˜¯å¯ä»¥å°‡çœŸç¥žæŽ¨å‡ºæ˜¯ä¸–ç•Œç¯„åœï¼‰
ä¸–ç•Œæ˜¯ä¸€ç¾¤éˆé­‚çš„é›†åˆï¼Œä¹Ÿæ˜¯éˆé­‚çš„çµ‚é»žï¼Œè‹¥æ˜¯ä¸å¹¸æŽ‰è½ï¼Œåªèƒ½ç­‰è¶…æ–°æ˜Ÿçˆ†äº†ï¼Œå› ç‚ºä¸–ç•Œç”±çœ¾å¤šéˆé­‚çµ„æˆï¼Œæ„è­˜æ··äº‚ç›¸ç•¶æ–¼æ²’æ„è­˜ï¼Œä½†è‹¥æ˜¯å¤šæ•¸æ„è­˜éƒ½èªåŒä¹Ÿæ˜¯æœƒåšå‡ºç›¸æ‡‰åæ‡‰ï¼Œé€™å°±æ˜¯ã€Œè“‹äºžæ„è­˜ã€çš„ä¾†æºï¼Œä½†æ˜¯å› ç‚ºæœ‰å…±è­˜ä¸å®¹æ˜“ï¼Œå› æ­¤ä¸–ç•Œæ„è­˜å¾ˆå°‘å¹²æ¶‰ä¸–ç•Œï¼ˆä»–é–€å¸¸å¸¸åœ¨åµæž¶ XDï¼‰&lt;/p>
&lt;p>ä¸–ç•Œåå¡Œï¼šæ†æ˜Ÿæ­»äº¡&lt;/p>
&lt;p>ç›®å‰ç„¡æ³•è§£é‡‹ç¾è±¡ï¼š
ç‚ºä»€éº¼é•·æ©¢åœ“å±…å¤š
ç©¿è¶Šä¸–ç•Œç‚ºä»€éº¼å¯ä»¥ä¿ç•™è¨˜æ†¶
éœ€è¦æœ‰é»ƒé“é¢å—Ž
è¡Œæ˜Ÿæ·¨ç©ºè»Œé“ï¼Ÿæˆ–æ˜¯å…¶å¯¦æ˜¯å°è¡Œæ˜Ÿå¸¶
ç‡ƒç‡’éˆé­‚æ©Ÿåˆ¶ï¼ˆæ˜¯å¦è®“èƒ½é‡ä¸å¤ çš„å€‹é«”èƒ½è‡ªé«”ç‡ƒç‡’ï¼Ÿï¼‰
é­”æ³•åœ¨å“ªï¼Ÿ&lt;/p>
&lt;h2 id="ç¼ºé»ž">ç¼ºé»ž&lt;/h2>
&lt;ul>
&lt;li>æœªè€ƒæ…®ç›¸å°è«–&lt;/li>
&lt;li>éˆé­‚æ˜¯å¦æœ‰æœ€å°å–®ä½ï¼ˆé‡å­åŒ–ï¼‰&lt;/li>
&lt;li>çœŸç¥žèˆ‡é¡žç¥žå€åˆ¥ï¼Œéœ€è¦å†å›žåŽ»è®€å¥§æ•¸ç¥žåº§&lt;/li>
&lt;/ul>
&lt;h2 id="è¨­å®š">è¨­å®š&lt;/h2>
&lt;ul>
&lt;li>å­˜åœ¨éˆé­‚ç¶­åº¦&lt;/li>
&lt;li>ã€Œéˆé­‚æœ¬è³ªã€æ˜¯å­˜åœ¨éˆé­‚ç¶­åº¦å…§ï¼ŒæŠ•å½±åˆ°æ„ŸçŸ¥ç¶­åº¦å½¢æˆéˆé­‚ï¼ˆç”Ÿç‰©èƒ½æ„ŸçŸ¥åˆ°çš„ä¸–ç•Œï¼Œoverworldï¼‰ï¼Œè³¦äºˆç”Ÿç‰©éˆé­‚&lt;/li>
&lt;li>éˆé­‚æœ¬è³ªä¸æ»…&lt;/li>
&lt;li>éˆé­‚æœ¬è³ªçš„å¼·åº¦ï¼ˆé¡žæ¯”è³ªé‡ï¼Œå¾Œç°¡ç¨±éˆé­‚è³ªé‡ï¼‰å®ˆæ†ï¼ˆè³ªé‡å®ˆæ†ï¼‰ï¼Œä¸€æ¨£æœ‰å¼•åŠ›æ•ˆæ‡‰ï¼ˆ$F={GMm \over r^2}$)ï¼Œé€éŽé€™å€‹å¯ä»¥ç”¨å’Œç‰›é “åŠ›å­¸ä¸€æ¨£çš„éŽç¨‹æŽ¨å»£å‡ºå‰©ä¸‹çš„æ±è¥¿ã€‚éˆé­‚è³ªé‡æ¯å€‹å€‹é«”æœ‰å¼·æœ‰å¼±&lt;/li>
&lt;li>éˆé­‚æŠ•å½±åˆ°æ„ŸçŸ¥ç¶­åº¦å¾Œï¼Œå› ç‚ºå’Œã€Œä¸–ç•Œæ ¸å¿ƒã€ï¼ˆç­‰ç­‰æœƒè§£é‡‹ï¼‰è·é›¢ä¸åŒï¼Œè€Œæœ‰ä¸åŒçš„éˆé­‚å¼·åº¦ï¼ˆc.f éˆé­‚æœ¬è³ªå¼·åº¦ä¸æ˜¯éˆé­‚&lt;strong>æœ¬è³ª&lt;/strong>å¼·åº¦çš„ç¸®å¯«ï¼Œ&lt;del>çµ•å°ä¸æ˜¯æˆ‘æƒ³ä¸å‡ºåè©ž&lt;/del>ï¼‰ã€‚éˆé­‚å¼·åº¦æœƒå½±éŸ¿æ™ºåŠ›ã€æ´»å‹•åŠ›ã€ç†è§£åŠ›ç­‰ç­‰ï¼Œåœ¨é­”æ³•ä¸–ç•Œæœƒå½±éŸ¿å¯èª¿åº¦çš„é­”åŠ›å¼·åº¦&lt;/li>
&lt;li>éˆé­‚å¼·åº¦å½±éŸ¿å¯æŠ•å½±çš„ç­‰ç´šï¼Œå¤ªå¼±çš„éˆé­‚ç„¡æ³•æŠ•å½±åœ¨é«˜ç­‰ç”Ÿç‰©ä¸Šã€‚&lt;/li>
&lt;li>ç”Ÿç‰©èˆ‡éžç”Ÿç‰©çš„å€åˆ¥æ˜¯ç”Ÿç‰©æ˜¯éˆé­‚å°Žé«”ï¼Œè‹¥æ˜¯è¦æŠ•å½±åˆ°éžç”Ÿç‰©ä¸Šï¼Œè¦å˜›é™ä½Žéžç”Ÿç‰©çš„é˜»åŠ›ã€è¦å˜›å¢žå¼·éˆé­‚è³ªé‡&lt;/li>
&lt;li>éˆé­‚å’Œéˆé­‚ä¹‹é–“æœƒäº’ç›¸å½±éŸ¿ï¼Œä½†å› ç‚ºå€‹é«”éˆé­‚éƒ½å¤ªå¼±ã€è·é›¢å¤ªé ï¼Œæ‰€ä»¥äº¤äº’ä½œç”¨å¾ˆå¼±ã€‚&lt;/li>
&lt;li>ã€Œä¸–ç•Œæ ¸å¿ƒã€æ˜¯ç”±å¤§é‡çš„éˆé­‚èšé›†ï¼ˆé¡žä¼¼æ†æ˜Ÿï¼‰ï¼Œå› æ­¤å½¢æˆä¸–ç•Œæ„è­˜ï¼Œå› ç‚ºéˆé­‚å¼·åº¦å¤ å¼·ï¼Œå› æ­¤å¯ä»¥æŠ•å½±åœ¨éžç”Ÿç‰©ï¼ˆä¸–ç•Œç’°å¢ƒä¸Šï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="ç¾è±¡ç”±è¨­å®šæŽ¨è«–">ç¾è±¡ï¼ˆç”±è¨­å®šæŽ¨è«–ï¼‰&lt;/h2>
&lt;h2 id="ä¸Šå¸ä¸–ç•Œæ„è­˜å·²æ­»">ä¸Šå¸ï¼ˆä¸–ç•Œæ„è­˜ï¼‰å·²æ­»&lt;/h2>
&lt;p>å› ç‚ºçµ„æˆä¸–ç•Œæ„è­˜çš„éˆé­‚å¤ªå¤šå¤ªé›œï¼Œé‚„æ²’æœ‰èžåˆï¼Œå› æ­¤å¦‚æžœæ²’æœ‰å¤šæ•¸å…±è­˜ï¼Œä¸–ç•Œæ„è­˜ç„¡æ³•å°æ„ŸçŸ¥ç¶­åº¦ç”¢ç”Ÿå½±éŸ¿ã€‚ä½†å¦‚æžœæœ‰ä¸€å€‹è³ªé‡éžå¸¸é«˜çš„éˆé­‚åŠ å…¥ä¸–ç•Œæ„è­˜ï¼Œé”æˆå¤šæ•¸å…±è­˜çš„æ¦‚çŽ‡å°±é«˜çš„å¤šï¼Œä¸–ç•Œæ„è­˜å°±æ¯”è¼ƒå®¹æ˜“åšå‡ºå½±éŸ¿ã€‚&lt;br>
æˆ‘å€‘æ‰€è™•çš„ä¸–ç•Œå› ç‚ºå°šæœªç”¢ç”Ÿå¤§è³ªé‡çš„éˆé­‚ï¼Œå› æ­¤ä¸–ç•Œæ„è­˜çš„æ§‹æˆéƒ½æ˜¯å¼·åº¦å·®ä¸å¤šçš„éˆé­‚ï¼Œç•°è³ªæ€§å¤ªé«˜ï¼Œç”¢ç”Ÿä¸Šå¸ä»¥æ­»çš„æ•ˆæžœã€‚&lt;br>
å¦å¤–å¦‚æžœå› ç‚ºæŸäº›ä½œç”¨ï¼ˆå¤–éƒ¨å½±éŸ¿ã€ç¶“éŽè¶…ç´šé•·çš„æ™‚é–“ï¼‰ä½¿å¾—ä¸–ç•Œæ„è­˜èžåˆç‚ºä¸€ï¼Œä¸–ç•Œæ„è­˜å¾ˆå¯èƒ½é†’ä¾†&lt;/p>
&lt;h2 id="ä¸–ç•Œç¯„åœ">ä¸–ç•Œç¯„åœ&lt;/h2>
&lt;p>ä¸–ç•Œçš„æ¦‚å¿µé¡žä¼¼æ©«æ˜Ÿç³»ï¼Œä»¥ä¸–ç•Œæ ¸å¿ƒç‚ºä¸­å¿ƒï¼Œæœ‰å…¶å½±éŸ¿ç¯„åœï¼Œå½±éŸ¿ç¯„åœå¤–å¾ˆå¯èƒ½æœ‰å…¶ä»–ä¸–ç•Œï¼ˆæ³¨æ„ï¼Œé€™è£¡çš„ä¸–ç•Œéƒ½æ˜¯åœ¨éˆé­‚ç¶­åº¦ï¼Œä¸–ç•Œåœ¨éˆé­‚ç¶­åº¦å½±éŸ¿ç¯„åœæœ‰é™ï¼Œä½†æ˜¯æŠ•å½±åˆ°æ„ŸçŸ¥ç¶­åº¦æ™‚ç„¡é™ï¼Œé¡žä¼¼å››ç¶­æŠ•å½±çš„æ¦‚å¿µï¼‰ï¼Œå› æ­¤æ‰€è¬‚çš„ä¸–ç•Œæ ¸å¿ƒåªæ˜¯éˆé­‚å¼·åº¦çš„å€åŸŸé›†å¤§å€¼&lt;/p>
&lt;h2 id="å‡ºç”Ÿæ­»äº¡">å‡ºç”Ÿã€æ­»äº¡&lt;/h2>
&lt;p>å› ç‚ºéˆé­‚å¼·åº¦å’Œè·é›¢ä¸–ç•Œæ ¸å¿ƒè·é›¢å¹³æ–¹æˆåæ¯”ï¼Œç•¶å€‹é«”éˆé­‚ç”±é è€Œé€²æŽ¥è¿‘åˆ°ä¸€å®šè·é›¢ï¼ˆä¸–ç•Œçƒå±¤ï¼‰å…§æ™‚ï¼Œå°±æœƒæŠ•å½±åœ¨ä¸–ç•Œä¸Šï¼ˆå‡ºç”Ÿï¼‰ï¼Œæ…¢æ…¢çš„å› ç‚ºè·é›¢ç¸®çŸ­ï¼Œéˆé­‚å¼·åº¦å¢žå¼·ï¼Œåˆ°é”ï¼ˆå£¯å¹´ï¼‰ã€‚æŽ¥è‘—æ¼¸æ¼¸é é›¢ï¼Œéˆé­‚å¼·åº¦æ¸›å¼±ï¼Œç„¡æ³•å†æŠ•å½±è€Œé€æ¼¸è¡°äº¡ã€‚&lt;/p>
&lt;h2 id="é¡žç¥žçœŸç¥ž">é¡žç¥žã€çœŸç¥ž&lt;/h2>
&lt;p>é¡žç¥žã€çœŸç¥žä¸æ­»ï¼Œæ˜¯å› ç‚ºå®ƒå€‘è»Œé“é›¢å¿ƒå¾‹å¤ å°ï¼Œå°åˆ°ä¸æœƒè¶…éŽä¸–ç•Œçƒå±¤ï¼Œå› æ­¤å°±ç®—å†å¼±ä¹Ÿä¸æœƒç„¡æ³•æŠ•å½±ã€‚&lt;/p>
&lt;h2 id="éˆé­‚ç¢°æ’ž">éˆé­‚ç¢°æ’ž&lt;/h2>
&lt;p>éˆé­‚ç¹žè¡Œä¸–ç•Œæ ¸å¿ƒæ™‚ï¼Œé›£å…ç¢°æ’žï¼Œç¢°æ’žæ™‚è¨˜æ†¶æœƒæœ‰éƒ¨ä»½è·‘éŒ¯ã€‚è‹¥æ˜¯æŽ¥è¿‘å½ˆæ€§ç¢°æ’žï¼Œä¹Ÿå°±æ˜¯è¨˜æ†¶å¹¾ä¹Žå…¨éƒ¨äº¤æ›ï¼Œå°±æœƒç”¢ç”Ÿéˆé­‚äº’æ›çš„æ•ˆæžœï¼Œä½†å…¶å¯¦éˆé­‚æœ¬è³ªæ²’æœ‰äº¤æ›ï¼Œäº¤æ›çš„æ˜¯è¨˜æ†¶ã€‚&lt;/p>
&lt;h2 id="ç©¿è¶Šä¸–ç•Œé­‚ç©¿">ç©¿è¶Šä¸–ç•Œï¼ˆé­‚ç©¿ï¼‰&lt;/h2>
&lt;p>é­‚ç©¿åç¬¦å…¶å¯¦ï¼Œéˆé­‚ç¹žè¡Œæ™‚é›¢é–‹åŽŸæœ¬çš„ä¸–ç•Œæ ¸å¿ƒåŽ»åˆ°ä»¤ä¸€å€‹ï¼Œå¦‚ä½•ä¿ç•™è¨˜æ†¶æ©Ÿåˆ¶ä¸æ˜Žï¼Œä¹Ÿè¨±æ˜¯èŸ²æ´žå§ã€‚&lt;/p>
&lt;h2 id="å¢žå¼·éˆé­‚è³ªé‡">å¢žå¼·éˆé­‚è³ªé‡&lt;/h2>
&lt;p>é™¤äº†èƒ½å¤ æŠ•å½±çš„éˆé­‚ï¼Œé‚„æœ‰è¨±å¤šå¦‚ç²‰å¡µèˆ¬çš„éˆé­‚åœ¨ä¸–ç•Œä¸­ï¼Œå¦‚æžœç¢°æ’žèžåˆï¼ˆè³ªé‡å·®ç•°è¶Šå¤§æœˆå®¹æ˜“èžåˆï¼‰ï¼Œå°±æœƒå¢žåŠ éˆé­‚è³ªé‡&lt;/p>
&lt;h2 id="æ¸›å°‘éˆé­‚è³ªé‡">æ¸›å°‘éˆé­‚è³ªé‡&lt;/h2>
&lt;p>ä¸–ç•Œæ ¸å¿ƒçš„ä¸­å¿ƒå› ç‚ºå£“åŠ›æ¥µé«˜è€Œç‡ƒç‡’éˆé­‚ï¼ˆåæ­£å°±æ˜¯åƒæ†æ˜Ÿé‚£æ¨£ï¼‰ï¼Œç”¢ç”Ÿé«˜èƒ½ç²’å­æµï¼Œæœƒå¹èµ°éƒ¨ä»½çš„éˆé­‚è³ªé‡ï¼ˆå°±åƒå¤ªé™½é¢¨é‚£æ¨£ï¼‰&lt;br>
ä¸€åŠ ä¸€æ¸›ä¸‹ï¼Œå¦‚æžœæ”¶æ”¯å¹³è¡¡ã€åˆæ²’æœ‰æ–¹æ³•ï¼Œéˆé­‚è³ªé‡ä¸å¤ªæœƒè®Šå‹•ï¼‰&lt;/p>
&lt;h2 id="ä¸–ç•Œç©©å®šæ€§">ä¸–ç•Œç©©å®šæ€§&lt;/h2>
&lt;p>å¦‚æžœæ”¶æ”¯å¹³è¡¡çš„éˆé­‚å¤ªå°‘ï¼Œä¸–ç•Œå°±æœƒå¾ˆå†·æ¸…ã€‚å¦‚æžœå¤ªå¤šï¼Œæœƒå°Žè‡´æœ‰å¹¾å€‹éˆé­‚è¶Šé•·è¶Šå¤§ï¼Œå¦‚æžœé…åˆæ­£ç¢ºæ–¹å¼èª¿æ•´è»Œé“ï¼Œå°±èƒ½æˆå°±é¡žç¥žã€‚é¡žç¥žå¤ªå¤šå°±æœƒé€²å…¥ç¥žè©±æ™‚ä»£ã€‚&lt;/p>
&lt;h2 id="èª¿æ•´è»Œé“">èª¿æ•´è»Œé“&lt;/h2>
&lt;p>é€éŽå‘ç‰¹å®šæ–¹å‘å™´å°„éˆé­‚ï¼Œå¯ä»¥æ”¹è®Šå‹•é‡ï¼Œæ”¹è®Šè»Œé“ã€‚&lt;/p>
&lt;h2 id="heading">&lt;/h2>
&lt;h2 id="heading-1">&lt;/h2></description></item><item><title>ä¸åŒã€Œé‚Šæ•¸ã€çš„å¹³é¢</title><link>https://blog.simbafs.cc/p/other/plantofnumbers/</link><pubDate>Sat, 11 Jun 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/other/plantofnumbers/</guid><description>&lt;img src="https://blog.simbafs.cc/og/other/plantOfNumbers/index.png" alt="Featured image of post ä¸åŒã€Œé‚Šæ•¸ã€çš„å¹³é¢" />&lt;h1 id="åŒé‚Šæ•¸çš„å¹³é¢">åŒã€Œé‚Šæ•¸ã€çš„å¹³é¢&lt;/h1>
&lt;h2 id="åœ–">åœ–&lt;/h2>
&lt;p>å…ˆä¸Šåœ–ï¼Œæ¯å€‹éƒ½æ˜¯æŽ¨åˆ°é‚Šé•·ç‚º 4&lt;/p>
&lt;h2 id="3">3&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/3.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="4">4&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/4.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="5">5&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/5.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="6">6&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/6.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="7">7&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/7.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="8">8&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/8.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="9">9&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/9.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="10">10&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/10.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="11">11&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/11.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="12">12&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/12.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="13">13&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/13.jpg"
loading="lazy"
>&lt;/p>
&lt;h2 id="å…±é€šæ€§è³ª">å…±é€šæ€§è³ª&lt;/h2>
&lt;h2 id="å †ç©">å †ç©&lt;/h2>
&lt;p>ç›¸é„°ä¸‰å€‹çƒçƒéƒ½æ˜¯æœ€å¯†å †ç©&lt;/p>
&lt;h2 id="çƒçƒæ•¸">çƒçƒæ•¸&lt;/h2>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;code>çƒçƒæ•¸=é‚Šæ•¸*Î£n&lt;/code>&lt;/p>
&lt;h2 id="ç‰¹æ®Šæ€§è³ª">ç‰¹æ®Šæ€§è³ª&lt;/h2>
&lt;h2 id="å¹³é¢">å¹³é¢&lt;/h2>
&lt;p>åªæœ‰ &lt;code>n=3,6&lt;/code> æœƒå½¢æˆå®Œå…¨å¹³é¢&lt;/p>
&lt;h2 id="å‡¹é™·">å‡¹é™·&lt;/h2>
&lt;p>ç•¶ &lt;code>n=4,5&lt;/code>ï¼Œæœƒå½¢æˆä¸‹å‡¹çš„æ¼æ–—ç‹€&lt;/p>
&lt;h2 id="å¤šå±¤">å¤šå±¤&lt;/h2>
&lt;p>åªæœ‰ &lt;code>n=3,5,6&lt;/code> å¯ä»¥å¤šå±¤å †ç–Šï¼Œå…¶ä¸­ &lt;code>n=4,6&lt;/code> å› ç‚ºéƒ½æ˜¯å¹³é¢ï¼Œå¯ä»¥å½¢æˆä¸€æ¨£çš„å †ç©å½¢å¼ã€‚&lt;code>n=5&lt;/code> æœƒä»¥é¡žä¼¼ç«‹æ–¹æœ€å¯†å †ç©çš„æ–¹å¼å½¢æˆç«‹é«”å½¢ç‹€&lt;/p>
&lt;h2 id="éžå½¢">éžå½¢&lt;/h2>
&lt;p>å¾ž &lt;code>n=7&lt;/code> é–‹å§‹ï¼Œå †ç©æ™‚æœƒè‡ªç„¶åœ°å½¢æˆéžå½¢ï¼Œä¸”è§’åº¦è¶Šä¾†è¶Šå°&lt;/p>
&lt;h2 id="å †ç©æŠ€å·§">å †ç©æŠ€å·§&lt;/h2>
&lt;p>é¦–å…ˆå–å‡ºã€Œé‚Šé•·ã€é¡†çƒçƒç¹žæˆç’°å½¢ï¼Œç„¶å¾Œè‡ªç„¶çš„ç¹žæˆç¬¬äºŒåœˆï¼Œæ•´ç†è§’è§’å½¢æˆæœ€å¯†å †ç©ï¼Œç„¶å¾Œåœ¨é‚Šé•·å¤§æ–¼ 3 çš„é‚Šä¸Šä¸Ÿä¸€é¡†çƒçƒï¼Œå¾žæœ€é ã€æœ€é•·çš„é‚Šé–‹å§‹ï¼Œé‚Šé•·ç‚ºä¸‰çš„é‚Šæœƒæœ€ç©©å®šï¼Œç›¡é‡æ¯æ¬¡ä¸Ÿçƒçƒéƒ½è¦æ•´ç†ä¹¾æ·¨ã€‚å †ç©çš„æ™‚å€™è¦æ³¨æ„ä¸­å¿ƒçƒçƒæ•¸æ˜¯å¦è·‘æŽ‰ã€‚å¦å¤– 11 é¡†å‰éƒ½é‚„ç®—å¥½å †ï¼Œ12 é–‹å§‹æœƒé»èµ·ä¾†ï¼Œä½†æœ€å¾Œæ˜¯å¯ä»¥ç©©å®šçš„åˆ†é–‹çš„ï¼Œ13 å°±æ˜¯å®Œæˆä¹Ÿç„¡æ³•ç©©å®šåˆ†é–‹ï¼Œè¶…éŽ 13 é‚„æ²’å˜—è©¦éŽã€‚&lt;/p></description></item><item><title>å…©è¼¸å…¥ç”Ÿç”¢å–®ä½çš„æ¯”è¼ƒ</title><link>https://blog.simbafs.cc/p/game/mindustry/two-input-compare/</link><pubDate>Sun, 22 May 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/game/mindustry/two-input-compare/</guid><description>&lt;img src="https://blog.simbafs.cc/og/game/mindustry/twoInputCompare/index.png" alt="Featured image of post å…©è¼¸å…¥ç”Ÿç”¢å–®ä½çš„æ¯”è¼ƒ" />&lt;h1 id="ç›®çš„">ç›®çš„&lt;/h1>
&lt;ol>
&lt;li>é©—è­‰ä¸åŒè¨­è¨ˆçš„ç”Ÿç”¢æ•ˆçŽ‡å·®ç•°&lt;/li>
&lt;li>ç”¨ç§‘å­¸çš„æ–¹å¼æª¢é©—ä¸‹é¢é€™äº›æ¯«ç„¡æ ¹æ“šã€éš¨æ„ç·¨é€ çš„åè¦‹
&lt;img src="https://blog.simbafs.cc/motivative-1.png"
loading="lazy"
alt="motivative 1"
>
&lt;img src="https://blog.simbafs.cc/motivative-2.png"
loading="lazy"
alt="motivative 2"
>
&lt;img src="https://blog.simbafs.cc/motivative-3.png"
loading="lazy"
alt="motivative 3"
>
&lt;img src="https://blog.simbafs.cc/motivative-4.png"
loading="lazy"
alt="motivative 4"
>&lt;/li>
&lt;/ol>
&lt;h2 id="å¯¦é©—æ–¹æ³•">å¯¦é©—æ–¹æ³•&lt;/h2>
&lt;p>ç›¸åŒçš„ç‰©å“æºã€ç›¸åŒçš„ç”Ÿç”¢å»ºç¯‰æ•¸é‡ã€ç›¸åŒçš„è¼¸å‡ºè»Œæ•¸å’Œæ™‚é–“ï¼Œä»¥ä¸åŒçš„è¼¸å…¥æ–¹æ³•é…ç½®ï¼Œè¨ˆç®—æ¯ç§’ç”Ÿç”¢é‡ã€‚&lt;/p>
&lt;ul>
&lt;li>ç›¸åŒç‰©å“æºï¼šå°±ä¸€æ¨£æ•¸é‡çš„ç‰©å“æºï¼Œæœ¬æ¬¡å¯¦é©—ç”¨å…©çµ„å¯¦é©—ï¼Œæ‰€ä»¥æ˜¯å››å€‹æ²™ã€å…©å€‹ç…¤&lt;/li>
&lt;li>ç›¸åŒç”Ÿç”¢å»ºç¯‰ï¼šå…«å€‹ç…‰çŸ½å» &lt;/li>
&lt;li>ç›¸åŒè¼¸å‡ºè»Œæ•¸ï¼šå„å…©æ¢&lt;/li>
&lt;li>ç›¸åŒè¼¸å‡ºæ™‚é–“ï¼šé€£æŽ¥åˆ°åŒä¸€å€‹èƒ½é‡æºï¼Œè¨ˆæ™‚ä¸€æ®µæ™‚é–“å¾Œæ‹†é™¤èƒ½é‡æºï¼Œè¨ˆç®—é›™æ–¹ç”Ÿç”¢æ•¸é‡&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å› ç‚ºè¼¸é€å¸¶ç”¨çš„æ˜¯æœ€ä½ŽéšŽï¼Œå¯èƒ½æœƒè£œçµ¦ä¸è¶³æˆ–æ˜¯æ¶ˆåŒ–ä¸å¤ å¿«ï¼Œä½†æ˜¯å› ç‚ºå…©å€‹éƒ½æ˜¯ç›¸åŒçš„é™åˆ¶ï¼ˆè¼¸å‡ºè»Œæ•¸ï¼‰ï¼Œè¦å¡ä¸€å®šæ˜¯å…©å€‹ä¸€èµ·å¡ï¼Œé ‚å¤šè¢«å¡æˆå¹³æ‰‹ã€‚é€™å€‹æ™‚å€™å¦‚æžœé‚„è¼¸ï¼Œé‚£å°±ä¸çŸ¥é“æ˜¯èª°çš„å•é¡Œäº†å–”ï¼&lt;/p>
&lt;/blockquote>
&lt;h2 id="åŽŸå§‹æ•¸æ“šå’Œè¨ˆç®—çµæžœ">åŽŸå§‹æ•¸æ“šå’Œè¨ˆç®—çµæžœ&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">ç§’æ•¸&lt;/th>
&lt;th style="text-align:left">A&lt;/th>
&lt;th style="text-align:left">B&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">10&lt;/td>
&lt;td style="text-align:left">10.8&lt;/td>
&lt;td style="text-align:left">11.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">20&lt;/td>
&lt;td style="text-align:left">9.6&lt;/td>
&lt;td style="text-align:left">10.9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">30&lt;/td>
&lt;td style="text-align:left">9.2&lt;/td>
&lt;td style="text-align:left">9.7&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">40&lt;/td>
&lt;td style="text-align:left">9.1&lt;/td>
&lt;td style="text-align:left">9.6&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">50&lt;/td>
&lt;td style="text-align:left">9.0&lt;/td>
&lt;td style="text-align:left">9.5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">60&lt;/td>
&lt;td style="text-align:left">8.9&lt;/td>
&lt;td style="text-align:left">9.2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">å¹³å‡&lt;/td>
&lt;td style="text-align:left">9.4&lt;/td>
&lt;td style="text-align:left">10.0&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;img src="https://blog.simbafs.cc/sliicon.png"
loading="lazy"
alt="silicon"
>
&lt;img src="https://blog.simbafs.cc/result.png"
loading="lazy"
alt="result"
>
&lt;img src="https://blog.simbafs.cc/chart.png"
loading="lazy"
alt="chart"
>&lt;/p>
&lt;h2 id="çµæžœèˆ‡è¨Žè«–">çµæžœèˆ‡è¨Žè«–&lt;/h2>
&lt;p>åœ¨æ™‚é–“æ‹‰é•·å¾Œï¼Œå› ç‚ºè¢«å¡ä½çš„æ±è¥¿è¢«å¹³å‡æŽ‰ï¼Œå› æ­¤å…©å€‹éƒ½ç”Ÿç”¢æ•ˆçŽ‡éƒ½ä¸‹é™ï¼Œé€™å€‹å¾ˆæ­£å¸¸&lt;br>
æ ¹æ“šçµæžœï¼Œå³ä¾¿éƒ½è¢«é™åˆ¶ï¼Œç”Ÿç”¢æ•ˆçŽ‡éƒ½é‚„æ˜¯ B é…ç½®æ¯”è¼ƒé«˜ï¼Œç„¡è«–æ™‚é–“æ‹‰å¤šé•·ã€‚&lt;br>
æ ¹æ“šæˆ‘å€‹äººçš„çŒœæ¸¬ï¼ŒB å› ç‚ºè¼¸å…¥å’Œè¼¸å‡ºæ²’æœ‰æ··é›œåœ¨ä¸€èµ·ï¼Œå› æ­¤ä¸æœƒé€ æˆå µå¡žï¼ˆä»”ç´°è§€å¯Ÿ Aï¼Œæœ€å¾Œåœ¨åå‘åˆ†é¡žå™¨é‚£é‚Šå¸¸å¸¸æœƒå µä½ï¼Œé€™å°±æ˜¯è¼¸å…¥è¼¸å‡ºæ··é›œçš„å¾Œæžœï¼‰ï¼Œå°Žè‡´å³ä½¿è¼¸å…¥æ¯”ä¾‹ä¸å°ï¼Œæ•ˆçŽ‡ä¾èˆŠæ¯”è¼ƒé«˜ã€‚&lt;br>
A çš„ç©©å®šæ€§é«˜äº†é‚£éº¼ä¸€é»žé»žï¼Œä¸é‡è¦&lt;/p>
&lt;h2 id="çµæžœæ¯”è¼ƒ">çµæžœæ¯”è¼ƒ&lt;/h2>
&lt;p>æ ¹æ“šå¯æ“´å¼µæ€§è€Œè¨€ï¼ŒB çš„è¨­è¨ˆæ˜¯å¯ä»¥æ©«å‘ç„¡é™æ“´å¼µï¼Œä¸åƒ Aï¼Œç¸±å‘æ“´å¼µå—åˆ°è¼¸é€å¸¶æ•ˆçŽ‡å½±éŸ¿ã€æ©«å‘æ“´å¼µå—åˆ°è¼¸å…¥æ¯”é ˆæ»¿ç®¡å½±éŸ¿ï¼ˆä¸æ»¿ç®¡æ¯”ä¾‹å°±ä¸å°ï¼Œé€™å€‹è¨­è¨ˆä¹Ÿå°±è·Ÿåžƒåœ¾ä¸€æ¨£æ¯«ç„¡æ„ç¾©ï¼Œå› æ­¤å¿…é ˆæ»¿ç®¡ï¼‰ã€‚å¦å¤–ï¼Œä¸€å¥— B å¯ä»¥æœ‰æ¯” A æ›´å½ˆæ€§çš„è¼¸å…¥å’Œè¼¸å‡ºè¼¸é€å¸¶æ•¸é‡ï¼Œå› æ­¤å¯ä»¥é©æ‡‰æ›´å¤šçš„ç‹€æ³ã€‚&lt;br>
B å”¯ä¸€çš„ç¼ºé»žæ˜¯ä½”é«”ç©å¤§äº†ä¸€é»žé»žï¼Œä½†æˆ‘å€‹äººèªç‚ºï¼Œæ²’æœ‰ä»»ä½•äº‹ç‰©æ˜¯å®Œç¾Žçš„ï¼Œå› æ­¤ç”¨ä¸€é»žé»žå°ç¼ºé»žæ›å–æœ€å¤šçš„å„ªé»žï¼Œé€™å€‹æ˜¯æ¯”è¿½æ±‚ç„¡è¬‚çš„å°é«”ç©ä¾†çš„æ›´é‡è¦ã€‚&lt;br>
æ›´é‡è¦çš„æ˜¯ï¼ŒB çš„è¨­è¨ˆæ›´ç‚ºç°¡å–®ï¼Œå»ºé€ æˆæœ¬ä½Žã€å¯ä»¥ç„¡é™æ“´å¼µ&lt;/p>
&lt;h2 id="å¾ŒçºŒå¯¦é©—">å¾ŒçºŒå¯¦é©—&lt;/h2>
&lt;p>æ ¹æ“š &lt;code>Magicaltank&lt;/code> å’Œ &lt;code>a0000778&lt;/code> çš„å»ºè­°ï¼Œæ›æˆæº¢æµå™¨çš„ç¢ºæœƒå¢žåŠ æ•ˆçŽ‡ï¼Œä½†å³ä½¿æ²’æ›ï¼Œä½†é‚„æ˜¯æ¯” A è¨­è¨ˆæ•ˆçŽ‡é«˜ã€‚&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted --></description></item><item><title>ç ²å°è‡ªå‹•çž„æº–</title><link>https://blog.simbafs.cc/p/game/mindustry/turretautoaim/</link><pubDate>Wed, 18 May 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/game/mindustry/turretautoaim/</guid><description>&lt;img src="https://blog.simbafs.cc/og/game/mindustry/autoAim/index.png" alt="Featured image of post ç ²å°è‡ªå‹•çž„æº–" />&lt;h1 id="ç ²å°è‡ªå‹•çž„æº–">ç ²å°è‡ªå‹•çž„æº–&lt;/h1>
&lt;p>ç”¨è™•ç†å™¨å¯ä»¥æŽ§åˆ¶ç ²å°å€‘æ‰“çš„æ–¹å‘å’Œä»€éº¼æ™‚å€™æ‰“ï¼Œé€™æ¨£åªè¦æœ‰ä¸€ç¾¤å—æŽ§çš„ç ²å°ï¼Œå°±å¯ä»¥åœ¨å°„ç¨‹ç¯„åœå…§æŒ‡å“ªæ‰“å“ª&lt;/p>
&lt;h2 id="å–®ä¸€ç ²å°">å–®ä¸€ç ²å°&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/oneTurretScreeshot.png"
loading="lazy"
alt="one turret screenshot"
>&lt;/p>
&lt;p>å¦‚åœ–æ‰€ç¤ºï¼Œç ²å°è·Ÿè‘—çŽ©å®¶çž„æº–çš„æ–¹å‘æ‰“&lt;br>
ä»¥ä¸‹æ˜¯ç¨‹å¼ç¢¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">radar player any any distance duo1 1 player
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sensor x player @shootX
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sensor y player @shootY
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sensor shoot player @shooting
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">control shoot duo1 x y shoot 0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">command&lt;/th>
&lt;th style="text-align:left">description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">radar&lt;/td>
&lt;td style="text-align:left">å–å¾—çŽ©å®¶ç‰©ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">sensor&lt;/td>
&lt;td style="text-align:left">æŠ½å‡ºçŽ©å®¶ç‰©ä»¶çš„ &lt;code>shootX&lt;/code>ã€&lt;code>shootY&lt;/code>ï¼ˆçž„æº–çš„é»žï¼‰å’Œ &lt;code>shooting&lt;/code>ï¼ˆæ˜¯å¦æ­£åœ¨é–‹ç«ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">control&lt;/td>
&lt;td style="text-align:left">æŽ§åˆ¶ &lt;code>duo1&lt;/code> ç ²å°&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">variable&lt;/th>
&lt;th style="text-align:left">description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">player&lt;/td>
&lt;td style="text-align:left">çŽ©å®¶ç‰©ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">x&lt;/td>
&lt;td style="text-align:left">çž„æº–çš„ X åº§æ¨™&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">y&lt;/td>
&lt;td style="text-align:left">çž„æº–çš„ Y åº§æ¨™&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">shooting&lt;/td>
&lt;td style="text-align:left">æ˜¯å¦é–‹ç«&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;img src="https://blog.simbafs.cc/oneTurretCode.png"
loading="lazy"
alt="one turret code"
>&lt;/p>
&lt;h2 id="å¤šå€‹ç ²å°">å¤šå€‹ç ²å°&lt;/h2>
&lt;p>ä¸Šé¢çš„æŒ‡ä»¤åªèƒ½æŽ§åˆ¶ä¸€å€‹ç ²å°ï¼Œé‚£éº¼è¦æ€Žéº¼æŽ§åˆ¶å¤šå€‹ç ²å°å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ loopï¼Œä½†æ˜¯ Mindustry æ²’æœ‰æä¾› loopï¼Œæˆ‘å€‘åªèƒ½ç”¨ &lt;code>jump&lt;/code>ï¼Œé‚£éº¼å°±ä¾†çœ‹çœ‹ç¨‹å¼å§ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">set n 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">getlink result n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">radar player any any distance result 1 player
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sensor x player @shootX
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sensor y player @shootY
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sensor shoot player @shooting
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">control shoot result x y shoot 0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">op add n n 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">op mod n n @links
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jump 1 always x false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ä»¥ä¸‹é‡è¤‡çš„å°±ä¸æœƒå†å¤šè¬›äº†&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">command&lt;/th>
&lt;th style="text-align:left">description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">set&lt;/td>
&lt;td style="text-align:left">åˆå§‹åŒ–ä¸€å€‹è®Šæ•¸ &lt;code>n&lt;/code> å€¼ç‚º &lt;code>0&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">getlink&lt;/td>
&lt;td style="text-align:left">å–å¾—é€£çµçš„ç¬¬ &lt;code>n&lt;/code> å€‹å»ºç¯‰ï¼Œå­˜åˆ° &lt;code>result&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">op&lt;/td>
&lt;td style="text-align:left">åŸ·è¡Œæ•¸å­¸é‹ç®—ï¼Œèˆ‰ä¾‹ &lt;code>add n N 1&lt;/code> =&amp;gt; &lt;code>n = N + 1&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">jump&lt;/td>
&lt;td style="text-align:left">æ ¹æ“šè¦å‰‡è·³èºåˆ°æŸæ¢æŒ‡ä»¤ï¼Œé€™è£¡çš„ &lt;code>1&lt;/code> æ˜¯æŒ‡è·³åˆ°ç¬¬ä¸€èª¿æŒ‡ä»¤ï¼ˆå¾ž 0 é–‹å§‹æ•¸ï¼Œä¹Ÿå°±æ˜¯è·³åˆ° &lt;code>radar&lt;/code>ï¼‰ï¼Œå› ç‚ºæˆ‘å€‘èª¿å»ºè¨­æˆ &lt;code>always&lt;/code>ï¼Œå› æ­¤å¾Œé¢å…©å€‹å°±ä¸å¿…è¦ï¼Œä½ åœ¨ç·¨è¼¯ç•«é¢æ‡‰è©²ä¹Ÿçœ‹ä¸åˆ°&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">variable&lt;/th>
&lt;th style="text-align:left">description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">n&lt;/td>
&lt;td style="text-align:left">è¿­ä»£çš„è®Šæ•¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">@links&lt;/td>
&lt;td style="text-align:left">ç¸½å…±æœ‰å¹¾å€‹é€£çµçš„å»ºç¯‰&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;img src="https://blog.simbafs.cc/multipleTurretsScreenshot.png"
loading="lazy"
alt="multiple turrets screenshot"
>&lt;br>
&lt;img src="https://blog.simbafs.cc/multipleTurretCode.png"
loading="lazy"
alt="multipleTurretsCode"
>&lt;/p>
&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.youtube.com/watch?v=UFK5m6qKT6U" target="_blank" rel="noopener"
>https://www.youtube.com/watch?v=UFK5m6qKT6U&lt;/a>&lt;br>
&lt;a class="link" href="https://www.youtube.com/watch?v=YMxU0jcS11I" target="_blank" rel="noopener"
>https://www.youtube.com/watch?v=YMxU0jcS11I&lt;/a>&lt;/p></description></item><item><title>è¿´åœˆçš„å»¶é²</title><link>https://blog.simbafs.cc/p/game/mindustry/delayofloop/</link><pubDate>Wed, 18 May 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/game/mindustry/delayofloop/</guid><description>&lt;img src="https://blog.simbafs.cc/og/game/mindustry/delayOfLoop/index.png" alt="Featured image of post è¿´åœˆçš„å»¶é²" />&lt;h1 id="è¿´åœˆçš„å»¶é²">è¿´åœˆçš„å»¶é²&lt;/h1>
&lt;p>åœ¨&lt;a class="link" href="../turretautoaim" >ä¸Šä¸€ç¯‡&lt;/a>é—œæ–¼ç”¨ &lt;code>jump&lt;/code> å¯¦ç¾è¿´åœˆçš„éƒ¨ä»½ï¼Œå…¶å¯¦ï¼ŒMindustry çš„ &lt;code>jump&lt;/code> çš„æœƒæœ‰ä¸€å€‹å»¶é²&lt;/p>
&lt;h2 id="å–®æ ¸">å–®æ ¸&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/singleCore.gif"
loading="lazy"
alt="single core"
>&lt;/p>
&lt;h2 id="å¤šæ ¸">å¤šæ ¸&lt;/h2>
&lt;p>&lt;img src="https://blog.simbafs.cc/fourCores.gif"
loading="lazy"
alt="four cores"
>&lt;/p></description></item><item><title>Merge</title><link>https://blog.simbafs.cc/p/game/mindustry/index/</link><pubDate>Tue, 17 May 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/game/mindustry/index/</guid><description>&lt;img src="https://blog.simbafs.cc/og/game/mindustry/merge/index.png" alt="Featured image of post Merge" />&lt;h1 id="merge">Merge&lt;/h1>
&lt;p>Mindustry ä¸­ï¼ŒæŸæ¢è¼¸é€å¸¶ï¼ˆAï¼‰åˆä½µåˆ°å¦ä¸€æ¢æœªæ»¿çš„è¼¸é€å¸¶ï¼ˆBï¼‰ä¸Šæ™‚ï¼Œå¦‚æžœ B æœ‰ä¸€å€‹è¶³å¤ å°çš„ç©ºéš™ï¼ŒA æ˜¯æœ‰æ©Ÿæœƒç„¡æ³•è£œæ»¿çš„&lt;/p>
&lt;p>&lt;img src="https://blog.simbafs.cc/gap.png"
loading="lazy"
alt="gap"
>&lt;/p>
&lt;p>é€™ç¨®æƒ…æ³é€šå¸¸å‡ºç¾åœ¨å…©åˆ—ç¤¦æ©Ÿçš„åˆä½µ&lt;/p>
&lt;p>&lt;img src="https://blog.simbafs.cc/withoutRouter.png"
loading="lazy"
alt="withoutRouter"
>&lt;/p>
&lt;p>è¦è§£æ±ºé€™å€‹ç‹€æ³ï¼Œæœ€ç°¡å–®çš„æ–¹æ³•æ˜¯åŠ ä¸Šä¸€å€‹åˆ†é…å™¨&lt;/p>
&lt;p>&lt;img src="https://blog.simbafs.cc/withRouter.png"
loading="lazy"
alt="withRouter"
>&lt;/p>
&lt;p>ç•¶ç„¶é€™è£¡çš„è¼¸å‡ºæ˜¯ä¸èƒ½è¢«å µä½çš„ï¼Œä¸ç„¶å°±æ²’æœ‰æ„ç¾©äº†(X&lt;/p></description></item><item><title>æŽ§åˆ¶æ•µæ–¹è·¯å¾‘</title><link>https://blog.simbafs.cc/p/game/mindustry/pathofenemy/</link><pubDate>Tue, 17 May 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/game/mindustry/pathofenemy/</guid><description>&lt;img src="https://blog.simbafs.cc/og/game/mindustry/pathOfEnemy.png" alt="Featured image of post æŽ§åˆ¶æ•µæ–¹è·¯å¾‘" />&lt;h1 id="æŽ§åˆ¶æ•µæ–¹è·¯å¾‘">æŽ§åˆ¶æ•µæ–¹è·¯å¾‘&lt;/h1>
&lt;p>åœ¨éŠæˆ²ä¸­ï¼Œå¦‚ä½•æœ‰æ•ˆçš„è®“è³‡æºé›†ä¸­åœ¨å‰ç·šæ˜¯ä¸€é–€å­¸å•ï¼Œæœ€å¥½çš„æƒ…æ³ç•¶ç„¶æ˜¯æ‰€æœ‰å¯èƒ½è·¯å¾‘éƒ½ä½ˆç½®å¼·å¤§çš„ç«åŠ›ï¼Œä½†çœŸå¯¦æƒ…æ³å¾€å¾€ä¸æ˜¯å¦‚æ­¤ã€‚&lt;/p>
&lt;p>ç•¶é‡åˆ°æœ‰å¤šå€‹æ´žå£çš„åœ°åœ–æ™‚ï¼Œä½ å¯èƒ½å µå¥½ä¸€å€‹æ´žï¼Œæ•µæ–¹å°±å¾žä»¤ä¸€å€‹æ´žè·‘é€²ä¾†ï¼Œç„¶å¾Œæ ¸å¿ƒå°±è¢«æ”»ç ´äº†ï¼Œä½†æ˜¯ä½ åˆæ²’æœ‰è¶³å¤ çš„è³‡æºå’Œæ™‚é–“åœ¨ç¬¬ä¸€æ™‚é–“æŠŠæ‰€æœ‰çš„æ´žéƒ½ä½ˆç½®ç«åŠ›ã€‚é€™æ™‚å€™ä½ å°±å¿…é ˆäº†è§£çš„æ–¹å¼å¦‚ä½•è¡Œå‹•çš„ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æœ¬æ–‡æåˆ°çš„æ•µæ–¹éƒ½æ˜¯éŠæˆ²é›»è…¦ AIï¼Œæ‰€ä»¥æ¯”è¼ƒç¬¨ã€å¾ˆå¥½é¨™ï¼Œå¦‚æžœæ˜¯å’Œä½ çš„æœ‹å‹å°æ‰“ï¼Œå¯èƒ½å°±ä¸é©ç”¨äº†ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="è‡ªå‹•æ‰¾è·¯">è‡ªå‹•æ‰¾è·¯&lt;/h2>
&lt;p>å°‹æ‰¾è·¯å¾‘å¯èªªæ˜¯é›»è…¦ç§‘å­¸ä¸€å€‹å¾ˆå¸¸è¦‹åˆåŸºæœ¬çš„å•é¡Œï¼ŒMindustry å°‹è·¯æ¼”ç®—æ³•æœƒè€ƒæ…®é ä¼°æ™‚é–“ã€‚é€™å€‹é ä¼°æ™‚é–“åŒ…æ‹¬è·é›¢ã€è¦æ‰“ç ´çš„ç‰†ç­‰ç­‰ï¼Œè¨ˆç®—å‡ºä¾†äº†ä¹‹å¾Œé¸æ“‡ä¸€æ¢æœ€æ®µæ™‚é–“çš„è·¯ã€‚æ³¨æ„ï¼Œé€™è£¡ä»–ä¸æœƒè€ƒæ…®æ²¿é€”å¯èƒ½é­å—çš„ç«åŠ›ï¼Œæˆ‘å€‘å°±æ˜¯è¦åˆ©ç”¨ä»–é€™é»žä¾†è¨­è¨ˆã€‚&lt;/p>
&lt;h2 id="æˆ‘çš„ç¿’æ…£ä½œæ³•">æˆ‘çš„ç¿’æ…£ä½œæ³•&lt;/h2>
&lt;p>é¦–å…ˆï¼Œæœ€é è¿‘ç©ºé™å€çš„æ´žä¸ä¸€å®šé©åˆä½ˆç½®ç ²å°ï¼ˆä¾‹å¦‚ç¬¬ä¸‰é—œå»¢å¢Ÿæµ·å²¸å·¦ä¸Šè§’é‚£å€‹è¶…ç´šå°çš„æ´žï¼‰é€™äº›åœ°æ–¹å¯èƒ½æ˜¯è…¹åœ°ç‹¹å°æˆ–æ˜¯è³‡æºä¸è¶³ï¼Œç¸½ä¹‹ä½ ä¸æœƒæƒ³è¦åœ¨é€™è£¡æ”¾ç ²å°ã€‚é‚£å°±ç”¨ä¸‰å±¤éŠ…ç‰†ï¼ˆä¸ä¸€å®šè¦ 2x2 çš„ï¼Œ1x1 ä¹Ÿå¯ä»¥ï¼‰æŠŠä»–å µèµ·ä¾†ï¼Œä¸€å±¤é˜²å®ˆå…©å±¤ç·©è¡ã€‚æŒ‘é¸åˆ°é©åˆçš„åœ°æ–¹ä½ˆç½®ç ²å°å¾Œï¼Œä¸è¦å µæ­»ï¼Œè¦ç•™ä¸€æ¢å¯¬è‡³å°‘ 3 æ ¼ã€å¤ é•·çš„é€šé“ã€‚é€™å€‹é€šé“ä½ è¦ç¢ºä¿é€šæš¢ï¼Œå¯ä»¥æ¯«ç„¡é˜»ç¤™çš„é€šåˆ°ä½ çš„æ ¸å¿ƒï¼Œé€™æ¨£é›»è…¦å°±æœƒåˆ¤å®šé€™æ¢è·¯æ¯«ç„¡é˜»ç¤™ï¼Œå„ªå…ˆé¸æ“‡ï¼Œæ•µäººå°±ä¸æœƒäº‚èµ°åˆ°ä½ æ²’æœ‰ä½ˆé˜²çš„åœ°æ–¹ã€‚é€™æ¨£åšé‚„æœ‰ä¸€å€‹å¥½è™•ï¼Œç•¶ä½ å¯ä»¥ç”Ÿç”¢æ©Ÿç”²æ™‚ï¼Œå‹æ–¹æ©Ÿç”²å°±å¯ä»¥ç›´æŽ¥èµ°å‡ºåŽ»ï¼Œä¸æœƒå—åˆ°é˜»ç¤™ï¼Œä½ ä¹Ÿä¸ç”¨å¹«ä»–å€‘é–‹é–€ã€‚&lt;br>
ç„¶å¾Œåœ¨å·¦å³ä½ˆæ»¿ç ²å°ï¼Œè¨˜å¾—ä¸€å®šè¦æ”¾ä¿®ç†æ–¹å¡Šï¼Œé€™æ¨£ä½ æ‰ä¸ç”¨å¸¸å¸¸ä¾†ä¿®æ–¹å¡Šã€‚è‡³æ–¼é€šé“é•·åº¦å’Œç‰†å£åŽšåº¦ï¼Œå–æ±ºæ–¼é€™é—œæ•µæ–¹ç«åŠ›å¼·åº¦å’Œä½ é¸ç”¨çš„ç ²å°å°„ç¨‹ï¼Œå¦‚æžœä½ èƒ½å¤ åœ¨å°æ–¹é–‹ç«ä¹‹å‰å°±å¹¹æŽ‰ä»–å€‘ï¼Œç•¶ç„¶ç‰†å£å¯ä»¥ä¸€å±¤æ„æ€æ„æ€å°±å¥½ã€‚&lt;/p></description></item><item><title>Yubikey</title><link>https://blog.simbafs.cc/p/linux/yubikey/</link><pubDate>Tue, 19 Apr 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/yubikey/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/yubikey.png" alt="Featured image of post Yubikey" />&lt;h1 id="yubikey">Yubikey&lt;/h1>
&lt;p>æ„Ÿè¬ç…¥æ°è³£æˆ‘ä¸€å€‹ 1200ï¼Œæ’¿åˆ°å¯¶å•¦ï¼æˆ‘è²·çš„æ˜¯ &lt;a class="link" href="https://www.yubico.com/tw/product/yubikey-5c-nfc/" target="_blank" rel="noopener"
>Yubikey 5C NFC&lt;/a>ï¼Œçœ‹èµ·ä¾†å¹¾ä¹Žæ‰€æœ‰åŠŸèƒ½éƒ½æœ‰&lt;/p>
&lt;h2 id="login">login&lt;/h2>
&lt;p>å¦‚æžœé–‹å•Ÿé€™å€‹ï¼Œç™»å…¥ã€è§£é™¤éŽ–å®šç­‰ç­‰å‹•ä½œéƒ½éœ€è¦ Yubikeyï¼Œè½èµ·é‚„å¾ˆå®‰å…¨ï¼Œä½†æ˜¯å› ç‚ºæˆ‘çš„ç­†é›»åªæœ‰ä¸€å€‹ type Cï¼Œæ‰€ä»¥å¿…é ˆæŠŠ USB hub æ‹”æŽ‰ï¼ŒæŒºéº»ç…©ï¼Œæˆ‘å°±æŠŠä»–é—œæŽ‰äº†ã€‚&lt;br>
åœ¨å¯†ç¢¼è¼¸å…¥æ¡†çš„åœ°æ–¹ï¼Œå…ˆæ’å…¥ yubikeyï¼Œè¼¸å…¥å¯†ç¢¼ã€æŒ‰ enterï¼Œç„¶å¾Œè½‰åœˆåœˆçš„æ™‚å€™æŒ‰ yubikey ä¸Šé‡‘è‰²æŒ‰éˆ•ï¼ˆé€™å€‹ä¼¼ä¹Žæ˜¯æŒ‡ç´‹è¾¨è­˜ï¼‰ï¼Œå°±å¯ä»¥ç™»å…¥äº†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://oscfr.com/blog/tech/yubico-yubikey-5c-nfc-setup-on-ubuntu-2104/" target="_blank" rel="noopener"
>Yubico Yubikey 5C NFC setup on Ubuntu 21.04&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="ssh-gpg">ssh gpg&lt;/h2>
&lt;p>&lt;del>ç ”ç©¶ä¸­&amp;hellip;&lt;/del>
åœ¨é€™è£¡ &lt;a class="link" href="https://blog.simbafs.cc/posts/linux/gpg-with-ssh" >GPG with SSH&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://medium.com/@SSWilsonKao/%E5%A6%82%E4%BD%95%E5%9C%A8-mac-%E4%B8%8A-%E6%8A%8A-yubikey-%E8%88%87-gpg-ssh-%E6%90%AD%E9%85%8D%E5%9C%A8%E4%B8%80%E8%B5%B7-5f842d20ad6a" target="_blank" rel="noopener"
>å¦‚ä½•åœ¨ Mac ä¸Šï¼ŒæŠŠ YubiKey èˆ‡ GPGã€SSH æ­é…åœ¨ä¸€èµ·&lt;/a> &amp;gt; &lt;a class="link" href="https://gist.github.com/artizirk/d09ce3570021b0f65469cb450bee5e29" target="_blank" rel="noopener"
>OpenPGP SSH access with Yubikey and GnuPG&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="2fa">2FA&lt;/h2>
&lt;p>æŒ‰ç…§å„å€‹ç¶²ç«™çš„èªªæ˜Žè¨­å®šï¼Œä¸‹é¢æ˜¯æˆ‘æ‰¾åˆ°å¯ä»¥è¨­å®š Yubikey çš„ç¶²ç«™/APP&lt;/p>
&lt;ul>
&lt;li>Googleï¼ˆæˆ‘è²·é€™å€‹ yubikey æœ€ä¸»è¦ç›®çš„ï¼‰&lt;/li>
&lt;li>Github&lt;/li>
&lt;li>twitter&lt;/li>
&lt;li>facebook&lt;/li>
&lt;li>heroku&lt;/li>
&lt;/ul>
&lt;p>twitter åœ¨æ‰‹æ©Ÿç™»å…¥å¥½åƒæ€ªæ€ªçš„ï¼Œè©¦äº† 5 åˆ†é˜æ‰æˆåŠŸç™»å…¥äº†&lt;/p>
&lt;hr>
&lt;h2 id="20221207-æ›´">2022/12/07 æ›´&lt;/h2>
&lt;p>éŽäº†ä¸€é™£å­ï¼Œç³»çµ±ä¹Ÿé‡è£éŽï¼Œç„¶å¾Œ yubikey å°±è®€ä¸åˆ°äº†ï¼Œä½†æ˜¯å¹³å¸¸ç”¨ç¶²ç«™éƒ½å¯ä»¥ï¼Œåªæ˜¯ CLI å’Œ Yubikey personalization tool éƒ½è®€ä¸åˆ°ã€‚
æ’ä¸Šå¾Œè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤éƒ½æœƒå¤±æ•—&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ykpersonalize
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Yubikey core error: no yubikey present
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ykman list --serials
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WARNING: PC/SC not available. Smart card (CCID) protocols will not function.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ERROR: Unable to list devices for connection
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">15421961
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æ˜¯ç”¨ &lt;code>lsusb&lt;/code> çœ‹èµ·ä¾†å»å¾ˆæ­£å¸¸&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ lsusb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Bus 001 Device 010: ID 1050:0406 Yubico.com Yubikey 4/5 U2F+CCID
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›®å‰æ ¹æ“š &lt;a class="link" href="https://github.com/Yubico/yubioath-flutter/issues/786#issuecomment-1063656957" target="_blank" rel="noopener"
>é€™å€‹ GitHub Issue çš„å›žè¦†&lt;/a>ï¼Œè¼¸å…¥ &lt;code>sudo systemctl start pcscd&lt;/code> å¾Œï¼Œè®Šæˆé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ykman list --serials
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">15421961
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å‰›å‰›ç™¼ç¾ï¼Œè¼¸å…¥æŒ‡ä»¤ &lt;code>ykman info&lt;/code> (yubikey manager) ç«Ÿç„¶æœ‰å›žæ‡‰ï¼Œä¹Ÿæ‰¾å¾—åˆ°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ykman info
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Device type: YubiKey 5C NFC
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Serial number: 15421961
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Firmware version: 5.2.7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Form factor: Keychain (USB-C)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Enabled USB interfaces: FIDO, CCID
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NFC transport is enabled.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Applications USB NFC
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OTP Disabled Enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">FIDO U2F Enabled Enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">FIDO2 Enabled Enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OATH Enabled Enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PIV Enabled Enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OpenPGP Enabled Enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">YubiHSM Auth Not available Not available
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æ˜¯ ykpersonalize é‚„æ˜¯æ‰¾ä¸åˆ°æˆ‘çš„ yubikeyï¼Œå¾Œä¾†æˆ‘ç›´æŽ¥è·³éŽé€™æ­¥ï¼Œèªªä¸å®šç¾åœ¨ gpg å·²ç¶“å¯ä»¥è®€åˆ°äº†ï¼Œæ‰€ä»¥æˆ‘ç›´æŽ¥åŸ·è¡Œ &lt;code>gpg --edit-card&lt;/code>ï¼Œçµæžœä»–èªª&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">gpg: error getting version from &amp;#39;scdaemon&amp;#39;: No SmartCard daemon
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gpg: OpenPGP card not available: No SmartCard daemon
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ ¹æ“š &lt;a class="link" href="https://www.reddit.com/r/yubikey/comments/lbl4nn/having_some_trouble_with_gpg_and_yubikey/" target="_blank" rel="noopener"
>é€™ç¯‡ reddit&lt;/a>ï¼Œæ˜¯å°‘äº†å¥—ä»¶ &lt;code>scdaemon&lt;/code>ï¼Œç”¨ apt è£äº†ä¹‹å¾Œ gpg çš„å›žæ‡‰çœ‹èµ·ä¾†å°±æ­£å¸¸å¤šäº†&lt;/p>
&lt;p>ç„¶å¾Œå°±è·Ÿè‘— [å®˜æ–¹ blog çš„èªªæ˜Ž](&lt;a class="link" href="https://support.yubico.com/hc/en-us/articles/360013790259-Using-Your-YubiKey-with-OpenPGP#Generating_Keys_externally_from_the_YubiKey_%28Recommended%29ui6vup%29" target="_blank" rel="noopener"
>https://support.yubico.com/hc/en-us/articles/360013790259-Using-Your-YubiKey-with-OpenPGP#Generating_Keys_externally_from_the_YubiKey_(Recommended%29ui6vup)&lt;/a> æŠŠä¸»å¯†é‘°ï¼ˆï¼Ÿå¥½åƒæ˜¯ç°½ç« ç”¨å­å¯†é‘°ï¼‰ç§»åˆ° yubikey ä¸Šäº†&lt;/p>
&lt;p>æŽ¥ä¸‹ä¾†æˆ‘äº‚ä¸ƒå…«ç³Ÿè©¦äº†ä¸€å †æ±è¥¿ï¼Œç™¼ç¾ &lt;a class="link" href="https://developer.okta.com/blog/2021/07/07/developers-guide-to-gpg" target="_blank" rel="noopener"
>ä¸€ç¯‡æ–‡ç« &lt;/a> æŠŠä¸Šé¢çš„æ±è¥¿å¹¾ä¹Žéƒ½åŒ…æ‹¬é€²åŽ»äº†ï¼Œéžå¸¸æŽ¨è–¦å¯ä»¥åŽ»çœ‹çœ‹ã€‚&lt;/p>
&lt;p>å‰›å‰›æžäº†ä¸€é™£å¾Œï¼ŒæŠŠç°½ç« ã€åŠ å¯†ã€é©—è­‰å’Œä¸»é‡‘é‘°ï¼ˆæ‡‰è©²æœ‰ï¼‰çš„å¯†é‘°é€šé€šä¸Ÿä¸Š yubikey äº†ã€‚ä½†æ˜¯ç¾åœ¨æœ‰å€‹å•é¡Œï¼Œæ‰€æœ‰éœ€è¦ gpg key çš„æ™‚å€™ï¼Œåƒæ˜¯ç°½ git commit å’Œ ssh é©—è­‰éƒ½éœ€è¦æ’ä¸Š yubikeyï¼Œå¥½åƒå®‰å…¨éŽé ­äº†ã€‚æˆ‘ç ”ç©¶çœ‹çœ‹èƒ½ä¸èƒ½æŠŠæŸäº›å†æ‹‰å›žæœ¬åœ°ï¼Œå¦‚æžœä¸è¡Œçš„è©±å°±åªèƒ½æŠŠä¸€é–‹å§‹å‚™ä»½çš„å¯†é‘°å†å°Žå…¥ä¸€æ¬¡ï¼Œæš´åŠ›è§£æ±ºï¼&lt;/p>
&lt;h2 id="å¯†ç¢¼å€‘">å¯†ç¢¼å€‘&lt;/h2>
&lt;p>yubikey çš„è¨­å®šä¸­æœ‰å¥½å¹¾ä»½ä¸åŒåŠŸèƒ½çš„å¯†ç¢¼ï¼Œç”¨æ³•å’Œå‡ºç¾æ™‚æ©Ÿéƒ½ä¸ä¸€æ¨£ï¼Œé€™é‚Šæ˜¯æˆ‘ç ”ç©¶å¥½å¹¾ä»½æ–‡ä»¶çš„ç¸½æ•´ç†ã€‚é¦–å…ˆè¦å…ˆæœ‰å€‹é—œå¿µï¼Œyubikey çš„è¨­è¨ˆæ˜¯å…¬å¸è£¡æœ‰å€‹äººå°ˆé–€ç®¡ä¸€å¤§å †çš„ yubikeyï¼Œæ‰€ä»¥æœƒæœ‰ä¸€å€‹å¯†ç¢¼æ˜¯åªæœ‰ç®¡ç†äººçŸ¥é“ï¼Œä½¿ç”¨è€…ä¸çŸ¥é“ã€‚é‚£ç‚ºäº†é©—è­‰æ˜¯ä½¿ç”¨è€…æœ¬äººï¼Œä¹Ÿæœƒæœ‰å¯†ç¢¼æ˜¯åªæœ‰ä½¿ç”¨è€…çŸ¥é“ä½†æ˜¯å…¶ä»–äººä¸çŸ¥é“ã€‚&lt;/p>
&lt;h2 id="pin">PIN&lt;/h2>
&lt;p>é€™å€‹ &amp;ldquo;PIN&amp;rdquo; æ˜¯ &lt;strong>&amp;ldquo;Personal Identification Number&amp;rdquo;&lt;/strong> çš„ç¸®å¯«ï¼Œé¡§åæ€ç¾©ï¼Œé€™å€‹å°±æ˜¯åªæœ‰ä½¿ç”¨è€…çŸ¥é“ä½†æ˜¯å…¶ä»–äººä¸çŸ¥é“çš„ PINï¼Œä½ æœƒåœ¨å‹•ç”¨ gpgã€ssh å¯†é‘°æ™‚ç”¨åˆ°ä»–ã€‚é è¨­æ˜¯ 123456&lt;/p>
&lt;h3 id="ä½¿ç”¨æƒ…å¢ƒ">ä½¿ç”¨æƒ…å¢ƒ&lt;/h3>
&lt;ul>
&lt;li>é©—è­‰ PIN&lt;/li>
&lt;li>æ”¹è®Š PIN&lt;/li>
&lt;li>æ”¹è®Šå˜—è©¦æ¬¡æ•¸é™åˆ¶ï¼ˆé‚„éœ€è¦ management keyï¼‰&lt;/li>
&lt;li>ç°½ç« &lt;/li>
&lt;li>è§£å¯†&lt;/li>
&lt;li>key agreement&lt;/li>
&lt;li>å–å¾—è³‡æ–™&lt;/li>
&lt;/ul>
&lt;h2 id="puk">PUK&lt;/h2>
&lt;p>&amp;ldquo;PUK&amp;rdquo; æ˜¯ &amp;ldquo;PIN Unblocking Key&amp;rdquo; çš„ç¸®å¯«ï¼Œä»–çš„åŠŸèƒ½æ˜¯ç•¶ä½ è¼¸å…¥éŒ¯èª¤çš„ PIN å¤ªå¤šæ¬¡æ™‚ï¼Œç”¨é€™å€‹å¯†ç¢¼è§£éŽ–ã€‚å¦‚æžœå¾ˆä¸å¹¸çš„ä½  PUK ä¹Ÿè¼¸å…¥éŒ¯èª¤å¤ªå¤šæ¬¡ï¼Œæ•´å€‹ yubikey æœƒè¢«éŽ–èµ·ä¾†ï¼Œæ‰€æœ‰çš„åŠŸèƒ½éƒ½ä¸èƒ½ç”¨ï¼Œæ ¹æ“š &lt;a class="link" href="https://support.yubico.com/hc/en-us/articles/360015654100-YubiKey-PIN-and-PUK-User-Management-on-Windows" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ï¼Œä½ åªèƒ½å›žå¾©å‡ºå» è¨­å®š&lt;/p>
&lt;blockquote>
&lt;p>By default, the user PIN is blocked when three consecutive incorrect PINs have been entered. The PIN Unblock Code (PUK) is used for unblocking the User PIN. If both the PIN and the PUK are blocked, the YubiKey must be reset, which deletes any loaded certificates and returns the YubiKey to a factory default state.&lt;/p>
&lt;/blockquote>
&lt;h3 id="ä½¿ç”¨æƒ…å¢ƒ-1">ä½¿ç”¨æƒ…å¢ƒ&lt;/h3>
&lt;ul>
&lt;li>ä¿®æ”¹ PUK&lt;/li>
&lt;li>è§£éŽ– PIN&lt;/li>
&lt;/ul>
&lt;h2 id="admin-pin">Admin PIN&lt;/h2>
&lt;p>å¾ˆæ˜Žé¡¯é€™æ˜¯ç®¡ç†å“¡å°ˆç”¨çš„å¯†ç¢¼ï¼Œåæ­£åœ¨éœ€è¦æ¯”è¼ƒé«˜æ¬Šé™çš„æ“ä½œçš„æ™‚å€™ä»–æœƒè·³å‡ºä¾†ï¼Œå¯†ç¢¼è¼¸å…¥æ¡†ä¸Šé¢æœƒå¯« &amp;ldquo;Admin PIN&amp;rdquo;ï¼Œæ‰€ä»¥æ‡‰è©²æ˜¯ä¸å¤ªæœƒçœ‹éŒ¯å•¦ã€‚é è¨­æ˜¯ 12345678&lt;br>
&lt;code>gpg --edit-card&lt;/code> åœ¨ &lt;code>passwd&lt;/code> è£¡ä¿®æ”¹ Admin PIN å¾Œçš„è¨Šæ¯æœƒæ˜¯ &lt;code>PIN changed.&lt;/code>ï¼Œæ‡‰è©²æ˜¯èª¤æ¤å§&lt;/p>
&lt;h2 id="management-key">management key&lt;/h2>
&lt;p>é€™æ˜¯ä¸€å€‹æ¯”è¼ƒç‰¹åˆ¥çš„å¯†ç¢¼ï¼Œä»–é è¨­æ˜¯ 3DESï¼Œä½ ä¹Ÿå¯ä»¥æ”¹æˆ AESï¼Œç›®å‰ä¾†èªª 3DES é‚„æ˜¯ã€Œå®‰å…¨çš„åŠ å¯†æ¨™æº–ã€ï¼Œæ‰€ä»¥é‡å°é€™å€‹å¯†ç¢¼ yubikey æ²’æœ‰è¨­å®šå˜—è©¦ä¸Šé™ï¼ˆPIN å’Œ PUK æœ‰ï¼‰ï¼Œå› ç‚ºå°±ç®—æ”»æ“Šè€…æƒ³è¦ç ´è§£ä¹Ÿå¾ˆé›£ï¼ˆ&lt;a class="link" href="https://zh.wikipedia.org/wiki/3DES#%E5%AE%89%E5%85%A8%E6%80%A7" target="_blank" rel="noopener"
>3DES çš„å®‰å…¨æ€§&lt;/a>ï¼‰&lt;/p>
&lt;h3 id="ä½¿ç”¨æƒ…å¢ƒ-2">ä½¿ç”¨æƒ…å¢ƒ&lt;/h3>
&lt;ul>
&lt;li>ä¿®æ”¹ management key&lt;/li>
&lt;li>ä¿®æ”¹è³‡æ–™&lt;/li>
&lt;li>ç”¢ç”Ÿæ–°é‡‘é‘°å°&lt;/li>
&lt;li>åŒ¯å…¥å¯†é‘°&lt;/li>
&lt;li>ç”¢ç”Ÿæ†‘è­‰&lt;/li>
&lt;li>ä¿®æ”¹å˜—è©¦æ¬¡æ•¸é™åˆ¶&lt;/li>
&lt;/ul>
&lt;p>ä»¥ä¸Šå…§å®¹æ˜¯æ ¹æ“š &lt;a class="link" href="https://docs.yubico.com/yesdk/users-manual/application-piv/pin-puk-mgmt-key.html" target="_blank" rel="noopener"
>é€™ç¯‡æ–‡ä»¶&lt;/a> æ•´ç†å‡ºä¾†çš„&lt;/p>
&lt;blockquote>
&lt;p>æ ¹æ“š &lt;a class="link" href="https://developers.yubico.com/yubikey-piv-manager/PIN_and_Management_Key.html" target="_blank" rel="noopener"
>é€™ç¯‡æ–‡ç« &lt;/a>ï¼Œä¼¼ä¹Žé‚„æœ‰å…¶ä»–å¯†ç¢¼å€‘ï¼Œä¸Šé¢ä»‹ç´¹çš„éƒ½æ˜¯å±¬æ–¼ PIVï¼ˆPersonal Identity Verificationï¼‰ï¼Œé‚„æœ‰ OpenPGPã€FIDO2 çš„ PIN&lt;/p>
&lt;/blockquote></description></item><item><title>Anbox</title><link>https://blog.simbafs.cc/p/linux/anbox/</link><pubDate>Mon, 18 Apr 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/anbox/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/anbox.png" alt="Featured image of post Anbox" />&lt;h1 id="anbox">Anbox&lt;/h1>
&lt;p>&lt;a class="link" href="https://anbox.io/" target="_blank" rel="noopener"
>anbox&lt;/a> æ˜¯ Android in a boxï¼Œæ˜¯ä¸€ç¨®åŸºæ–¼å®¹å™¨åŒ–æŠ€è¡“çš„ Android æ¨¡æ“¬å™¨ï¼Œæ‰€ä»¥åŸ·è¡Œé€Ÿåº¦æœƒæ¯”è¼ƒå¿«ã€æ¯”è¼ƒçœè³‡æºï¼Œè€Œä¸”å› ç‚ºæ¯å€‹ App éƒ½åœ¨å„è‡ªçš„å®¹å™¨è£¡é¢ï¼Œæ‰€ä»¥æ¯”è¼ƒå®‰å…¨
ï¼ˆæ‡‰è©²æ²’ç†è§£éŒ¯å§ï¼Ÿï¼‰ã€‚&lt;br>
å®‰è£ anbox éœ€è¦å…ˆå®‰è£å…©å€‹ kernal modulesï¼Œç„¶å¾Œå®‰è£ anbox å¾Œï¼Œç‚ºäº†ä¹‹å¾Œæ–¹ä¾¿ï¼Œæ‰€ä»¥è¦è£ Google Playï¼Œä¸è£ä¹Ÿæ˜¯å¯ä»¥ï¼Œä½†ä¹‹å¾Œå®‰è£å…¶ä»– App æ¯”è¼ƒéº»ç…©&lt;/p>
&lt;h2 id="ç³»çµ±">ç³»çµ±&lt;/h2>
&lt;p>æˆ‘ç”¨çš„ç³»çµ±æ˜¯ Ubuntu 21.04ï¼Œå¦‚æžœä½ çš„ç³»çµ±ä¸ä¸€æ¨£ï¼Œå¯èƒ½æœƒæœ‰æŸäº›æ­¥é©Ÿä¸å¤ªä¸€æ¨£ã€‚&lt;br>
é€™æ¬¡å®‰è£å› ç‚ºæ¶‰åŠ Linux Kernel æ‰€ä»¥éš¨æ™‚é‡é–‹æ©Ÿæœ‰å¾ˆå¤§æ©Ÿæœƒå¹«åŠ©æ”¹å–„é‡åˆ°çš„å•é¡Œ&lt;/p>
&lt;h2 id="å®‰è£-linux-kernal-modules">å®‰è£ Linux Kernal Modules&lt;/h2>
&lt;p>å¦‚æžœä½ çš„ Linux kernale &amp;gt; 5.0ï¼Œé‚£ç†è«–ä¸Šå·²ç¶“åŒ…åœ¨ Kernel è£¡é¢äº†ï¼Œæ‰€ä»¥ä¸ç”¨å®‰è£&lt;/p>
&lt;blockquote>
&lt;p>Starting with Ubuntu 19.04 binder and ashmem are now build with the standard Ubuntu kernel (&amp;gt;= 5.0) and you donâ€™t have to install the modules from the PPA anymore.&lt;/p>
&lt;/blockquote>
&lt;p>ä½†æ˜¯æˆ‘é‚„æ˜¯æŠŠå‘½ä»¤è·‘äº†ä¸€æ¬¡ï¼Œåæ­£æœ‰ç—…æ²»ç—…æ²’ç—…å¼·èº«&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo add-apt-repository ppa:morphis/anbox-support
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt update &lt;span class="c1"># é€™å€‹æ­¥é©Ÿæ‡‰è©²æœƒåŒ…æ‹¬åœ¨ä¸Šé¢é‚£å€‹å‘½ä»¤ï¼Œä½†åŸ·è¡Œä¸€æ¬¡ä¹Ÿä¸æœƒå£ž&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install linux-headers-generic anbox-modules-dkms &lt;span class="c1"># é€™å€‹å¾Œé¢é‚£å€‹å¥—ä»¶æ‡‰è©²æœƒæ‰¾ä¸åˆ°ï¼Œè·³éŽä»–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install software-properties-common
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo modprobe ashmem_linux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo modprobe binder_linux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œå¦‚æžœä½ é‚„æ˜¯å¾ˆæ“”å¿ƒä¸æ”¾å¿ƒæœ‰æ²’æœ‰è£å¥½ï¼Œå¯ä»¥åŸ·è¡Œä¸‹é¢çš„æŒ‡ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone https://github.com/anbox/anbox-modules /tmp/anbox-modules
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /tmp/anbox-modules
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ./INSTALL.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ™‚å€™å¦‚æžœä½ &lt;del>é‚„æ˜¯&lt;/del>å¾ˆæ“”å¿ƒï¼Œä¸ç¢ºå®šæœ‰æ²’æœ‰è£å¥½ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æª¢æŸ¥æœ‰æ²’æœ‰å®‰è£å¥½ï¼ˆé€™å€‹æ™‚å€™å¯èƒ½éœ€è¦é‡é–‹æ©Ÿï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ls -1 /dev/{ashmem,binder} # é€™å€‹æ˜¯å®˜æ–¹ç”¨çš„ï¼Œä½†æ˜¯æˆ‘æ€Žéº¼è©¦éƒ½å¤±æ•—ï¼Œä½†æ˜¯ anbox é‚„æ˜¯å®‰è£æˆåŠŸäº†
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lsmod | grep -e ashmem -e binder # æˆ‘ä¸ç¢ºå®šé€™å€‹æ‰¾åˆ°æ˜¯ä¸æ˜¯ä»£è¡¨æœ‰æˆåŠŸå•Ÿå‹•ï¼Œä½†æ˜¯ä»–å…©å€‹éƒ½æ‰¾çš„åˆ°
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://docs.anbox.io/userguide/install_kernel_modules.html" target="_blank" rel="noopener"
>https://docs.anbox.io/userguide/install_kernel_modules.html&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="å®‰è£-anbox">å®‰è£ anbox&lt;/h2>
&lt;p>å¦‚æžœä½ çš„é›»è…¦ä¸Šæœ‰ snapï¼Œå°±ç”¨ snap è£ï¼›å¦‚æžœæ²’æœ‰ï¼Œå°±å…ˆåŽ»è£ snapã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo snap install --devmode --beta anbox
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å˜¿å°ï¼Œè£å¥½äº†ï¼Œå¯ä»¥ç”¨é€™å€‹æŒ‡ä»¤çœ‹çœ‹æœ‰æ²’æœ‰è£å¥½&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">snap info anbox
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://docs.anbox.io/userguide/install.html" target="_blank" rel="noopener"
>https://docs.anbox.io/userguide/install.html&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="apt">apt&lt;/h2>
&lt;p>å¦‚æžœä½ æ˜¯ Ubuntu/Debian é•·æœŸä½¿ç”¨è€…ï¼Œä½ å¯èƒ½æœƒæƒ³ç”¨ apt è£ anboxï¼Œä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œä½†æ˜¯ç­‰ç­‰è£ Google Play çš„æ™‚å€™æœƒå‡ºä¸€é»žé»žå•é¡Œï¼ˆOverlayFS è·¯å¾‘æœ‰å•é¡Œï¼‰ï¼Œæœ€ä½³è§£æ±ºè¾¦æ³•å°±æ˜¯ç”¨ snapï¼Œä¸è¦ç”¨ apt&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt remove anbox
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®‰è£-google-play">å®‰è£ Google Play&lt;/h2>
&lt;p>å› ç‚º anbox æ²’æœ‰å…§å»º apk å®‰è£å™¨ï¼Œæ‰€ä»¥æ²’è¾¦æ³•å¾ˆæ–¹ä¾¿çš„å®‰è£ APPï¼Œæœ€æ–¹ä¾¿çš„æ–¹æ³•æ˜¯å®‰è£ Google Playã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install wget curl lzip tar unzip squashfs-tools
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://raw.githubusercontent.com/geeks-r-us/anbox-playstore-installer/master/install-playstore.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod +x install-playstore.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ./install-playstore.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æžœé‡åˆ° Overlay not enable çš„å•é¡Œï¼Œè«‹ä¸è¦ç”¨ aptï¼Œè‡³æ–¼ä½ä»€éº¼è‡ªå·±ç ”ç©¶ &lt;code>install-playstores.sh&lt;/code>
è·‘å®Œå¦‚æžœæ²’éŒ¯èª¤å°±å¯ä»¥æ‰“é–‹ &lt;code>anbox.appmgr&lt;/code>ï¼Œæ‰“é–‹ play å®‰è£ APP äº†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://www.clusterednetworks.com/blog/post/install-google-play-store-anbox" target="_blank" rel="noopener"
>https://www.clusterednetworks.com/blog/post/install-google-play-store-anbox&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="å•éº">å•éº&lt;/h2>
&lt;p>ç›®å‰è£å¥½ APP ä½†æ˜¯æˆ‘æ‰“ä¸é–‹&lt;/p></description></item><item><title>Ibus Font</title><link>https://blog.simbafs.cc/p/linux/ibus-font/</link><pubDate>Sat, 16 Apr 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/ibus-font/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/ibus-font.png" alt="Featured image of post Ibus Font" />&lt;h1 id="ibus-font">Ibus Font&lt;/h1>
&lt;p>æœ€è¿‘åœ¨æ‰“å­—æ™‚ç¸½è¦ºå¾—ä¸­æ–‡é¸å­—çš„æ™‚å€™ ibus å­—é«”å¥½å°ï¼Œæ–¼æ˜¯å°±é–‹å§‹æŸ¥æ€Žéº¼å¼„&lt;/p>
&lt;p>ç¶“éŽæœå°‹å¾Œï¼Œæ‰¾åˆ° &lt;a class="link" href="https://askubuntu.com/questions/1030442/how-to-increase-font-size-of-preview-options-when-using-an-input-method" target="_blank" rel="noopener"
>https://askubuntu.com/questions/1030442/how-to-increase-font-size-of-preview-options-when-using-an-input-method&lt;/a> é€™å€‹ç¶²é ï¼Œç¸½è€Œè¨€ä¹‹å°±æ˜¯å…ˆåŽ»è£ &lt;a class="link" href="https://extensions.gnome.org/extension/1121/ibus-font-setting/" target="_blank" rel="noopener"
>ibus font setting&lt;/a> é€™å€‹å¤–æŽ›ï¼Œç„¶å¾Œå°±å¯ä»¥ç”¨ &lt;code>ibus-setup&lt;/code> èª¿æ•´äº†&lt;br>
ç…§åšä¹‹å¾Œçš„ç¢ºå¯ä»¥èª¿å¤§å°å­—é«”ï¼Œä½†æˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ç‚ºè£äº†é€™å€‹å¤–æŽ›çš„é—œä¿‚ï¼Œåæ­£æˆ‘æ˜¯æˆåŠŸæ”¹å¥½äº†&lt;/p></description></item><item><title>kdeconnect</title><link>https://blog.simbafs.cc/p/linux/kdeconnect/</link><pubDate>Thu, 07 Apr 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/kdeconnect/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/kdeconnect.png" alt="Featured image of post kdeconnect" />&lt;h1 id="kdeconnect">kdeconnect&lt;/h1>
&lt;p>kdeconnect é¡§åæ€ç¾©æ˜¯ kde å‡ºçš„ä¸€æ¬¾ connect è»Ÿé«”ï¼ŒåŠŸèƒ½éžå¸¸å¤šè€Œä¸”æ–¹ä¾¿ã€‚é›»è…¦å’Œæ‰‹æ©Ÿéƒ½å®‰è£å¥½è»Ÿé«”å¾Œï¼Œåªè¦åœ¨åŒä¸€å€‹ç¶²åŸŸå°±å¯ä»¥é…å°é€£æŽ¥&lt;/p>
&lt;h2 id="åŠŸèƒ½ä»‹ç´¹">åŠŸèƒ½ä»‹ç´¹&lt;/h2>
&lt;ol>
&lt;li>åŸºæœ¬è¨Šæ¯ - åœ¨é›»è…¦å’Œæ‰‹æ©Ÿä¸Šå¯ä»¥äº’ç›¸çœ‹åˆ°é›»æ± ã€ç¶²è·¯ç­‰åŸºæœ¬è¨Šæ¯&lt;/li>
&lt;li>é€šçŸ¥ - å¯ä»¥è¨­å®šé›»è…¦é¡¯ç¤ºæ‰‹æ©Ÿé€šçŸ¥æˆ–æ‰‹æ©Ÿé¡¯ç¤ºé›»è…¦é€šçŸ¥ï¼Œæˆ–æ˜¯å…©è€…éƒ½é–‹å•Ÿï¼Œæˆ‘é€šå¸¸åªé–‹å‰è€…&lt;/li>
&lt;li>åª’é«”æŽ§åˆ¶ - ç„¡è«–æ˜¯ VLCã€YouTubeã€Nefflix æˆ–ä»»ä½•ç¶²é ï¼Œéƒ½å¯ä»¥æŽ§åˆ¶é€²åº¦ã€éŸ³é‡ã€æš«åœï¼Œè€Œä¸”é›™æ–¹éƒ½å¯ä»¥æŽ§åˆ¶ã€‚é€™å€‹æ˜¯æˆ‘æœ€æ„›çš„åŠŸèƒ½ä¹‹ä¸€&lt;/li>
&lt;li>å‘½ä»¤æŽ§åˆ¶ - kdeconnect å¯ä»¥è®“ä½ åœ¨æ‰‹æ©Ÿä¸ŠåŸ·è¡Œé›»è…¦ä¸Šé å…ˆè¨­å®šå¥½çš„æŒ‡ä»¤ï¼Œåƒæ˜¯é—œæ©Ÿã€éŽ–å®šç­‰ç­‰ï¼Œä¸‹é¢æœƒæŽ¨è–¦å¹¾å€‹æˆ‘è¨­å®šçš„å‘½ä»¤&lt;/li>
&lt;li>å‚³æª”æ¡ˆå’Œè³‡æ–™å¤¾å…±ç”¨ - kdeconnect å¯ä»¥è®“ä½ é€£æŽ¥é›»è…¦å’Œæ‰‹æ©Ÿä¸Šç‰¹å®šçš„è³‡æ–™å¤¾ï¼Œæˆ–æ˜¯å‚³é€å–®ä¸€æª”æ¡ˆ&lt;/li>
&lt;li>å…±ç”¨å‰ªè²¼ç°¿ - å¦‚å…¶åï¼Œé€™æ˜¯ä¸€å€‹éžå¸¸å¯¦ç”¨çš„åŠŸèƒ½ï¼Œä½†æ˜¯æœ‰æ™‚å€™è§¸ç™¼æ¢ä»¶æ€ªæ€ªçš„&lt;/li>
&lt;li>è¼¸å…¥ - ä¸è«–æ˜¯æ»‘é¼ ã€éµç›¤ï¼Œå…©é‚Šéƒ½å¯ä»¥äº’ç›¸ç•¶å°æ–¹çš„è¼¸å…¥è£ç½®ï¼Œé€™å€‹åŠŸèƒ½éžå¸¸å¥½ç”¨
é‚„æœ‰åƒæ˜¯è®“æ‰‹æ©Ÿå¤§å«ï¼ˆæ‰¾æ‰‹æ©Ÿç”¨ï¼‰ã€ç°¡å ±æŽ§åˆ¶ã€å‚³ç°¡è¨Šã€æ‰‹æ©Ÿæœ‰é›»è©±çš„æ™‚å€™è‡ªå‹•æš«åœéŸ³æ¨‚ç­‰ç­‰å¥‡å¥‡æ€ªæ€ªçš„åŠŸèƒ½&lt;/li>
&lt;/ol>
&lt;h2 id="æŽ¨è–¦å‘½ä»¤">æŽ¨è–¦å‘½ä»¤&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">Description&lt;/th>
&lt;th style="text-align:left">Command&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">éŽ–å®šèž¢å¹•ä¸¦æš«åœ VLC æ’­æ”¾&lt;/td>
&lt;td style="text-align:left">&lt;code>loginctl lock-session; dbus-send --type=method_call --dest=org.mpris.MediaPlayer2.vlc /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">è§£é™¤éŽ–å®šèž¢å¹•ï¼ˆå…å¯†ç¢¼ï¼‰&lt;/td>
&lt;td style="text-align:left">&lt;code>loginctl unlock-session&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Modeline</title><link>https://blog.simbafs.cc/p/linux/vim/modeline/</link><pubDate>Thu, 07 Apr 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/vim/modeline/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/vim/modeline.png" alt="Featured image of post Modeline" />&lt;h1 id="modeline">Modeline&lt;/h1>
&lt;p>&lt;code>modeline&lt;/code> æ˜¯ä¸€å€‹å¯ä»¥å°‡ vim è¨­å®šåµŒå…¥æª”æ¡ˆçš„æ–¹å¼ï¼Œé€™æ¨£å°±å¯ä»¥è®“æŸäº›æª”æ¡ˆæœ‰è‡ªå·±çš„è¨­å®šï¼Œåƒæ˜¯æŠ˜ç–Šã€ä¸è¦è¡Œæ•¸ã€tab ç­‰æ–¼å¤šå°‘ç©ºç™½ç­‰ç­‰ã€‚&lt;/p>
&lt;h2 id="ç°¡å–®çš„æ¢ä»¶">ç°¡å–®çš„æ¢ä»¶&lt;/h2>
&lt;p>ç°¡å–®çš„ &lt;code>modeline&lt;/code> éœ€è¦æ»¿è¶³å¹¾å€‹æ¢ä»¶ï¼š&lt;/p>
&lt;ol>
&lt;li>é–‹é ­ï¼ˆä¸å¿…æ˜¯è¡Œé¦–ï¼‰è‡³å°‘æœ‰ä¸€å€‹ç©ºç™½/tab&lt;/li>
&lt;li>ç”¨ &lt;code>vim&lt;/code>ã€&lt;code>vi&lt;/code> ç­‰å­—é–‹é ­ï¼Œé€™è£¡é‚„å¯ä»¥è¨­å®šå“ªå€‹ç‰ˆæœ¬æ‰è¦è¼‰å…¥&lt;/li>
&lt;/ol>
&lt;h2 id="åŸºæœ¬çš„ç¯„ä¾‹">åŸºæœ¬çš„ç¯„ä¾‹&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> vim: wrap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/3958416/embed-vim-settings-in-file" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/3958416/embed-vim-settings-in-file&lt;/a>&lt;br>
help page in &lt;code>:help modeline&lt;/code>&lt;/p></description></item><item><title>ç”¨ Github Action ç·¨è­¯ä¸¦ç™¼ Release</title><link>https://blog.simbafs.cc/p/golang/github-action-release/</link><pubDate>Sun, 27 Mar 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/github-action-release/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/githubAction.png" alt="Featured image of post ç”¨ Github Action ç·¨è­¯ä¸¦ç™¼ Release" />&lt;h1 id="ç”¨-github-action-ç·¨è­¯ä¸¦ç™¼-release">ç”¨ Github Action ç·¨è­¯ä¸¦ç™¼ Release&lt;/h1>
&lt;p>å¦‚æžœè‡ªå·±å¯«çš„å°å·¥å…·çš„ GitHub é é¢å³é‚Š Release é‚£æ¬„æœ‰å€‹ä»€éº¼æ±è¥¿ï¼Œä¸€å®šå¾ˆé…·å°å§ï¼å¦‚æžœè£¡é¢å·²ç¶“æä¾›äº†ä¸åŒä½œæ¥­ç³»çµ±ç·¨è­¯å¥½çš„ç¨‹å¼ï¼Œä¸€å®šæ›´é…·ï¼&lt;br>
æƒ³è¦å»ºç«‹ Releaseï¼Œä½ å¯ä»¥åœ¨æ–°ç‰ˆæœ¬ç™¼å¸ƒæ™‚è‡ªå·±æ‰‹å‹• crose compile å†æ‰‹å‹•è¨­å®š Releaseï¼Œé€™å€‹æ–¹æ³•å¯è¡Œï¼Œä½†æ˜¯è½èµ·ä¾†å…¨æ‰‹å‹•å°±å¾ˆ lowï¼Œæˆ‘å€‘è¦ç”¨ä¸€å€‹å…¨è‡ªå‹•çš„æ–¹å¼ç™¼ Releaseï¼&lt;/p>
&lt;h2 id="github-actioin">Github Actioin&lt;/h2>
&lt;p>æ—¢ç„¶æˆ‘å€‘ç¨‹å¼ç¢¼éƒ½è¨—ç®¡åœ¨ GitHub äº†ï¼Œç›´æŽ¥ç”¨ Gtithub Action æ˜¯å¾ˆåˆç†çš„å§ï¼&lt;/p>
&lt;h3 id="è§¸ç™¼æ¢ä»¶">è§¸ç™¼æ¢ä»¶&lt;/h3>
&lt;p>å› ç‚ºæˆ‘å€‘è¦åšçš„æ˜¯ç™¼å¸ƒç‰ˆæœ¬ï¼Œä¸æ˜¯æ¯å€‹ commit éƒ½è¦è§¸ç™¼ï¼Œå› æ­¤è§¸ç™¼æ¢ä»¶å°±è¨­æˆ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tags&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;v[0-9]+.[0-9]+.[0-9]+&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ„æ€æ˜¯åªæœ‰åƒæ˜¯ &lt;code>v0.1.13&lt;/code> é€™æ¨£çš„æ¨™ç±¤æœƒè§¸ç™¼ï¼Œä¹Ÿå°±æ˜¯ä½ å»ºç«‹æ–°ç‰ˆæœ¬æ™‚ã€‚&lt;/p>
&lt;h3 id="ç·¨è­¯">ç·¨è­¯&lt;/h3>
&lt;p>åœ¨å˜—è©¦å„ç¨®å¥—ä»¶ä¹‹å¾Œï¼Œæˆ‘è¦ºå¾— &lt;a class="link" href="https://github.com/marketplace/actions/goreleaser-action" target="_blank" rel="noopener"
>goreleaser-action&lt;/a> æ˜¯æˆ‘ç”¨èµ·ä¾†æœ€èˆ’æœçš„ï¼Œä¸ç”¨å¤ªå¤šè¨­å®šï¼Œå°±ç›´æŽ¥éƒ½ç·¨è­¯å¥½äº†ï¼ˆè©³ç´°è¨­å®šå¯ä»¥åŽ» &lt;a class="link" href="https://goreleaser.com" target="_blank" rel="noopener"
>goreleaser çš„ç¶²ç«™çœ‹&lt;/a> )&lt;br>
åœ¨ GitHub Action ä¸­è¨­å®šå°±ä¸‹é¢å¹¾è¡Œï¼Œç¬¬ä¸€å€‹æ­¥é©Ÿæ˜¯å®‰è£ goï¼Œå†ä¾†å°±æ˜¯ç·¨è­¯äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Go&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-go@v3.0.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">go-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1.17&lt;/span>&lt;span class="l">.x&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Run GoReleaser&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">goreleaser/goreleaser-action@v2.9.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">release --rm-dist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">GITHUB_TOKEN&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GITHUB_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„ï¼Œè£¡é¢æœ‰å€‹ &lt;code>secret.GITHUB_TOKEN&lt;/code>ï¼Œé€™å€‹æ±è¥¿ä½ å°±ç…§å¯«ï¼Œä¸è¦æŠ„éŒ¯ï¼ŒGitHub Action æœƒè‡ªå‹•åœ¨ runtime å¡«å…¥ï¼Œæ‰€ä»¥ä½ ä¹Ÿä¸ç”¨ç‰¹åˆ¥åŽ»è¨­å®šã€‚&lt;/p>
&lt;h3 id="ä¸Šå‚³ç·¨è­¯å¥½çš„åŸ·è¡Œæª”">ä¸Šå‚³ç·¨è­¯å¥½çš„åŸ·è¡Œæª”&lt;/h3>
&lt;p>goreleaser çš„æ–‡ä»¶è£¡é¢æœ‰æŽ¨è–¦ä¸€å€‹ä¸Šå‚³çš„å¥—ä»¶ï¼Œä½†æ˜¯å¯èƒ½æ˜¯æˆ‘ç¬¨ï¼Œé‚£å€‹éƒ½ä¸æˆåŠŸã€‚æˆ‘ç”¨çš„æ˜¯å¦ä¸€å¥— &lt;a class="link" href="https://github.com/marketplace/actions/upload-to-github-release" target="_blank" rel="noopener"
>upload-to-github-release&lt;/a>ï¼Œé€™å€‹å¯ä»¥ä¸€æ¬¡ä¸Šå‚³å¤šå€‹æª”æ¡ˆï¼Œè¨­å®šä¸€æ¨£å¾ˆç°¡å–®ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">little-core-labs/get-git-tag@v3.0.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">tagName&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Upload To Github Release&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">xresloader/upload-to-github-release@v1.3.2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">GITHUB_TOKEN&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GITHUB_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;dist/telegrary_*&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">draft&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tag_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ steps.tagName.outputs.tag }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½ æœƒçœ‹åˆ°åœ¨ä¸Šå‚³ä¹‹å‰é‚„æœ‰ä¸€å€‹æ­¥é©Ÿï¼Œé€™å€‹æ˜¯ç”¨ä¾†å–å¾— tag name ç”¨çš„ï¼Œä»–ç”¨ä¾†æŒ‡å®šæª”æ¡ˆè¦ä¸Šå‚³åˆ°å“ªè£¡&lt;br>
åœ¨ &lt;code>with.file&lt;/code> é€™æ¬„ï¼Œä½ å¯ä»¥æŒ‡å®šè¦ä¸Šå‚³çš„æª”æ¡ˆï¼Œé€™å€‹è¦è¨­æˆä»€éº¼å°±è¦çœ‹ä½  goreleaser ç·¨è­¯å‡ºä¾†çš„æª”æ¡ˆæ”¾åœ¨å“ªï¼Œå«ä»€éº¼ï¼ˆé€™å€‹éƒ½æ˜¯å¯ä»¥è¨­å®šçš„ï¼‰&lt;br>
&lt;code>draft&lt;/code> è¨­æˆ &lt;code>true&lt;/code> æœ‰å€‹å¥½è™•ï¼Œå°±æ˜¯ Action è·‘çŽ©å¾Œä¸æœƒç«‹åˆ»å»ºç«‹æ–° Releaseï¼Œè€Œæ˜¯ä½ åœ¨åŽ»æ‰‹å‹•ç¢ºèªï¼Œè€Œä¸”åŒ…æ‹¬ Release nameã€Change log éƒ½è¨­å®šå¥½äº†ï¼Œä½ åªéœ€è¦çœ‹æœ‰æ²’æœ‰ä»€éº¼èªªæ˜Žè¦åŠ ï¼Œå°±å¯ä»¥ç›´æŽ¥æŒ‰ç™¼å¸ƒäº†ï¼Œéžå¸¸æ–¹ä¾¿ã€‚ç•¶ç„¶ä½ å¦‚æžœæ²’æœ‰ä»€éº¼æƒ³èªªçš„ï¼Œå°±å¯ä»¥ç›´æŽ¥è¨­å®š &lt;code>draft: true&lt;/code>ï¼Œå¦‚æ­¤ä¸€ä¾†å°±çœŸçš„æ˜¯ã€Œå…¨è‡ªå‹•äº†ã€&lt;/p>
&lt;h2 id="å®Œæ•´-action-è¨­å®šæª”">å®Œæ•´ action è¨­å®šæª”&lt;/h2>
&lt;p>ä»¥ä¸Šæ˜¯ç´°éƒ¨è§£èªªï¼Œä¸‹é¢å°±æ˜¯å®Œæ•´è¨­å®šæª”ï¼Œå¦‚æžœæœ‰æ›´æ–°çš„è©±è«‹åˆ° &lt;a class="link" href="https://github.com/simbafs/telegrary/blob/main/.github/workflows/release.yml" target="_blank" rel="noopener"
>https://github.com/simbafs/telegrary/blob/main/.github/workflows/release.yml&lt;/a> çœ‹æœ€æ–°ç‰ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Release&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tags&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;v[0-9]+.[0-9]+.[0-9]+&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">goreleaser&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Unshallow&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">git fetch --prune --unshallow&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Go&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-go@v3.0.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">go-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1.17&lt;/span>&lt;span class="l">.x&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Run GoReleaser&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">goreleaser/goreleaser-action@v2.9.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">args&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">release --rm-dist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">GITHUB_TOKEN&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GITHUB_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ls&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ls dist&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">little-core-labs/get-git-tag@v3.0.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">tagName&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Upload To Github Release&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">xresloader/upload-to-github-release@v1.3.2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">GITHUB_TOKEN&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GITHUB_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;dist/telegrary_*&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">draft&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tag_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ steps.tagName.outputs.tag }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>éœ‡å‹• vs æŒ¯å‹•</title><link>https://blog.simbafs.cc/p/other/vibrate/</link><pubDate>Wed, 09 Mar 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/other/vibrate/</guid><description>&lt;img src="https://blog.simbafs.cc/og/other/vibrate.png" alt="Featured image of post éœ‡å‹• vs æŒ¯å‹•" />&lt;h1 id="éœ‡å‹•-vs-æŒ¯å‹•">éœ‡å‹• vs æŒ¯å‹•&lt;/h1>
&lt;p>éƒ½æ˜¯å¾€å¾©é‹å‹•ï¼Œä½†æœ‰ä¸åŒï¼Œç°¡å–®ä¾†èªªï¼ŒæŒ¯å‹•æ¯”éœ‡å‹•æœ‰è¦å¾‹ã€‚
åƒæ˜¯å–®æ“ºæ˜¯æŒ¯å‹•ï¼Œåœ°éœ‡æ˜¯éœ‡å‹•ï¼Œå› ç‚ºå–®æ“ºçš„é‹å‹•æ˜¯è¦å¾‹çš„ï¼Œè€Œåœ°éœ‡æ³¢æ¯”è¼ƒä¸è¦å¾‹&lt;/p>
&lt;p>&lt;a class="link" href="https://pedia.cloud.edu.tw/Entry/Detail/?title=%E6%8C%AF%E5%8B%95" target="_blank" rel="noopener"
>https://pedia.cloud.edu.tw/Entry/Detail/?title=%E6%8C%AF%E5%8B%95&lt;/a>
&lt;a class="link" href="https://pedia.cloud.edu.tw/Entry/Detail?title=%E9%9C%87%E5%8B%95" target="_blank" rel="noopener"
>https://pedia.cloud.edu.tw/Entry/Detail?title=%E9%9C%87%E5%8B%95&lt;/a>&lt;/p>
&lt;p>è‡³æ–¼ç‚ºä»€éº¼æˆ‘æœƒåŽ»æŸ¥é€™å€‹å‘¢ï¼Ÿå› ç‚ºæˆ‘ç™¼ç¾ç‰©ç†å¯¦é©—é å ±å¯«ã€Œç°¡è«§éœ‡å‹•ã€ï¼Œä½†æ˜¯æˆ‘è¦ºå¾—ã€Œéœ‡ã€ç­†ç•«å¤ªå¤šäº†ï¼Œæˆ‘æƒ³å¯«ã€ŒæŒ¯ã€æ–¼æ˜¯å°±è·‘åŽ»æŸ¥æ•™è‚²éƒ¨å­—å…¸&lt;/p>
&lt;p>å¾—è­‰ï¼šæ‡¶æƒ°ä½¿äººé€²æ­¥&lt;/p></description></item><item><title>Archives</title><link>https://blog.simbafs.cc/archives/</link><pubDate>Sun, 06 Mar 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/archives/</guid><description/></item><item><title>Bluetooth çªç„¶å¡ä½éƒ½ä¸å‹•</title><link>https://blog.simbafs.cc/p/linux/bluwtooth-error/</link><pubDate>Wed, 02 Mar 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/bluwtooth-error/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/bluetooth-error.png" alt="Featured image of post Bluetooth çªç„¶å¡ä½éƒ½ä¸å‹•" />&lt;h1 id="bluetooth-çªç„¶å¡ä½éƒ½ä¸å‹•">Bluetooth çªç„¶å¡ä½éƒ½ä¸å‹•&lt;/h1>
&lt;p>è£äº† Ubuntu 20.04 ä¹‹å¾Œä¸çŸ¥é“ç‚ºä»€éº¼è—èŠ½ç”¨ä¸€ç”¨å°±æœƒå¡ä½ï¼Œæ‰€æœ‰è¨­å‚™éƒ½é€£ä¸ä¸Šï¼Œä¹Ÿé—œä¸æŽ‰ã€‚ä¸€é–‹å§‹çš„è§£æ±ºæ–¹å¼æ˜¯é‡é–‹æ©Ÿï¼ˆé€™æ™‚å€™é—œæ©Ÿæœƒè·³ä¸€å€‹å¥‡æ€ªçš„éŒ¯èª¤è¨Šæ¯ï¼‰ï¼Œä½†æ˜¯è¦ºå¾—å¤ªæ²’æ•ˆçŽ‡äº†ï¼Œä¸Šç¶²æŸ¥äº†ä¸€ä¸‹ã€‚&lt;/p>
&lt;h2 id="åŽŸå› ">åŽŸå› &lt;/h2>
&lt;p>æ ¹æ“š &lt;a class="link" href="https://bugs.launchpad.net/ubuntu/&amp;#43;source/linux/&amp;#43;bug/1859592" target="_blank" rel="noopener"
>é€™å€‹ç¶²é &lt;/a>ï¼Œé€™å€‹ä¼¼ä¹Žæ˜¯ linux æ ¸å¿ƒçš„è—èŠ½é©…å‹•æœ‰å•é¡Œï¼ˆæˆ‘æ²’æœ‰èªçœŸçœ‹ï¼Œä½†å¥½åƒæ˜¯å‡ç´šåˆ°æœ€æ–°çš„ linux kernel å°±å¯ä»¥è§£æ±ºäº†ï¼‰ã€‚&lt;br>
é›–ç„¶å‡ç´š linux kernel æ‡‰è©²å¯ä»¥ä¸€å‹žæ°¸é€¸è§£æ±ºé€™å€‹å•é¡Œï¼Œä½†æ˜¯é€™å€‹ bug å…¶å¯¦ä¸å¸¸å‡ºç¾ï¼Œç‚ºäº†ä»–ç·¨è­¯æ ¸å¿ƒæœ‰é»žå¤§é¡Œå°åšï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦ä¸€å€‹ç°¡å–®çš„æ–¹æ³•è§£æ±ºã€‚&lt;/p>
&lt;h2 id="è¼•ä¾¿è§£æ³•">è¼•ä¾¿è§£æ³•&lt;/h2>
&lt;p>æ ¹æ“š &lt;a class="link" href="https://askubuntu.com/questions/1231074/ubuntu-20-04-bluetooth-not-working" target="_blank" rel="noopener"
>é€™ç¯‡å•ç­”&lt;/a>ï¼Œç¶“éŽæˆ‘çš„æ¸¬è©¦ï¼Œç¬¬ä¸€å€‹ç­”æ¡ˆå°±å¯ä»¥è§£æ±ºäº†ï¼Œç•¶è—èŠ½åˆæŽ›æŽ‰æ™‚ï¼ŒåŸ·è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo rmmod btusb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo modprobe btusb
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£è—èŠ½å°±å›žä¾†äº†ã€‚é€™å…©å€‹æŒ‡ä»¤ç°¡å–®ä¾†èªªå°±æ˜¯é‡æ–°è¼‰å…¥è—èŠ½æ¨¡çµ„ï¼Œé€™å°±æ˜¯ç‚ºä»€éº¼é‡é–‹æ©Ÿå¯ä»¥è§£æ±ºï¼ˆé‡é–‹æ©Ÿå°±æ˜¯é‡æ–°è¼‰å…¥æ‰€æœ‰æ¨¡çµ„ï¼‰&lt;/p></description></item><item><title>Golang Plguin</title><link>https://blog.simbafs.cc/p/golang/plguin/</link><pubDate>Mon, 21 Feb 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/plguin/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/plugin.png" alt="Featured image of post Golang Plguin" />&lt;h1 id="go-å‹•æ…‹è¼‰å…¥ç¨‹å¼">Go å‹•æ…‹è¼‰å…¥ç¨‹å¼&lt;/h1>
&lt;p>Go æ˜¯ä¸€å€‹ç·¨è­¯å¼çš„èªžè¨€ï¼Œä¹Ÿå°±æ˜¯èªªä»–ä¸åƒ JS é‚£æ¨£å¯ä»¥å‹•æ…‹åŸ·è¡Œç¨‹å¼ç¢¼ã€‚åƒæ˜¯ &lt;a class="link" href="https://github.com/hexojs/hexo" target="_blank" rel="noopener"
>Hexo&lt;/a> å’Œ &lt;a class="link" href="https://github.com/gohugoio/hugo" target="_blank" rel="noopener"
>Hugo&lt;/a>ï¼Œå‰è€…å› ç‚ºæ˜¯ JS å¯«çš„ï¼Œå› æ­¤æ”¯æ´éžå¸¸è±å¯Œçš„å¤–æŽ›ï¼Œä½†å¾Œè€…å› ç‚ºæ˜¯ Go å¯«çš„ï¼Œå› æ­¤åœ¨ä¸ä½¿ç”¨å…¶ä»–ç›´è­¯å¼ç¨‹å¼èªžè¨€çš„æƒ…æ³ä¸‹ï¼Œå¾ˆé›£è£½ä½œå¤–æŽ›ã€‚&lt;br>
å¦ä¸€å€‹ Go å¯«çš„è»Ÿé«” &lt;a class="link" href="https://github.com/ponzu-cms/ponzu" target="_blank" rel="noopener"
>ponzu&lt;/a> å‰‡æ˜¯åœ¨åŠ å…¥ä¸€æ®µç¨‹å¼ç¢¼å¾Œï¼Œé‡æ–°ç·¨è­¯è‡ªå·±ã€‚é€™éº¼åšè§£æ±ºäº†å¤–æŽ›çš„å•é¡Œï¼Œè€Œä¸”åˆä¸æœƒå¤±åŽ» Go çš„å¿«é€Ÿï¼Œä½†æ˜¯å°±å¿…é ˆä¿ç•™æ•´å€‹ä¸»ç¨‹å¼çš„åŽŸå§‹ç¢¼ï¼Œè€Œä¸”ä¹Ÿä¸é‚£éº¼çš„ã€Œå‹•æ…‹ã€&lt;/p>
&lt;blockquote>
&lt;p>ponzu é€™å€‹è»Ÿé«”å…©å¹´æ²’äººç¶­è­·äº†ï¼Œå¾ˆå¤šæ±è¥¿éƒ½æ€ªæ€ªçš„ï¼Œè¶…ç´šé›£ç·¨è­¯&lt;/p>
&lt;/blockquote>
&lt;h1 id="plugin-in-go">Plugin in Go&lt;/h1>
&lt;p>åœ¨ 1.8 ç‰ˆçš„æ™‚å€™ï¼ŒGo æŽ¨å‡ºäº† &lt;a class="link" href="https://pkg.go.dev/plugin" target="_blank" rel="noopener"
>Plguin&lt;/a> å¥—ä»¶ï¼Œå¯ä»¥å°‡å¤–æŽ›å’Œä¸»ç¨‹å¼åˆ†é–‹ç·¨è­¯ï¼Œå¦‚æžœå¤–æŽ›æœ‰æ›´å‹•ï¼Œä¸éœ€è¦é‡æ–°ç·¨è­¯ä¸»ç¨‹å¼ï¼›ä¸»ç¨‹å¼ä¹Ÿå¯ä»¥å‹•æ…‹è¼‰å…¥å¤–æŽ›ã€‚&lt;/p>
&lt;h1 id="å¤–æŽ›">å¤–æŽ›&lt;/h1>
&lt;p>å¦‚æžœè¦å°‡ä¸€å€‹ package ç·¨è­¯æˆå¤–æŽ›ï¼Œé¦–å…ˆä»–çš„ &lt;code>package&lt;/code> å¿…é ˆæ˜¯ &lt;code>main&lt;/code>ï¼Œä½†æ˜¯è£¡é¢çš„å‡½å¼ &lt;code>main&lt;/code>ã€&lt;code>init&lt;/code> éƒ½ä¸æœƒè¢«åŸ·è¡Œï¼Œåªæœ‰å¤§å¯«é–‹é ­çš„è®Šæ•¸ã€åž‹æ…‹ã€å‡½å¼æœƒè¢«æš´éœ²çµ¦ä¸»ç¨‹å¼ã€‚&lt;br>
ç·¨è­¯å¤–æŽ›æ™‚ï¼Œéœ€è¦åŠ ä¸Š &lt;code>-buildmode=plguin&lt;/code>ï¼Œé€™æ¨£ &lt;code>go build&lt;/code> å°±æœƒå°‡åŽŸå§‹ç¢¼ç·¨è­¯æˆ &lt;code>.so&lt;/code>ï¼ˆshare objectï¼‰æª”ï¼Œé€™æ¨£å°±å¯ä»¥è¢«ä¸»ç¨‹å¼å‘¼å«ã€‚&lt;/p>
&lt;h1 id="ä¸»ç¨‹å¼">ä¸»ç¨‹å¼&lt;/h1>
&lt;p>ä¸»ç¨‹å¼è¦è¼‰å…¥å¤–æŽ›å‰ï¼Œéœ€è¦å¼•ç”¨ &lt;code>plugin&lt;/code> å¥—ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="s">&amp;#34;plugin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”¨ &lt;code>func Open(path string) (*Plugin, error)&lt;/code> å¯ä»¥è¼‰å…¥ä¸€å€‹ç·¨è­¯éŽçš„å¤–æŽ›ï¼Œå¦‚æžœé‡è¤‡å‘¼å«é€™å€‹å‡½å¼ï¼Œé™¤äº†ç¬¬äºŒæ¬¡å¤–éƒ½æœƒå›žå‚³ç¬¬ä¸€æ¬¡è¼‰å…¥çš„çµæžœï¼Œä¹Ÿå°±æ˜¯èªªå‡å¦‚ä½ åœ¨å¾ˆå¤šå€‹ gorutine ä¸­è¼‰å…¥åŒä¸€å€‹å¤–æŽ›ï¼Œgo æœƒä¿è­‰ä»–æ˜¯ã€Œå®‰å…¨ã€çš„ã€‚æ³¨æ„çœ‹ï¼Œ&lt;code>path&lt;/code> æ˜¯å€‹å­—ä¸²ï¼Œå› æ­¤ä½ å¯ä»¥å‹•æ…‹ç”¢ç”Ÿå¤–æŽ›çš„è·¯å¾‘ï¼Œä¸éœ€è¦å¯«æ­»ã€‚&lt;br>
è¼‰å…¥å®Œäº†ä¹‹å¾Œï¼Œç”¨ &lt;code>func (p *Plugin) Lookup(symName string) (Symbol, error)&lt;/code> å¯ä»¥å–å¾—å¤–æŽ›æš´éœ²å‡ºä¾†çš„è®Šæ•¸ã€å‡½å¼ï¼Œå› ç‚º &lt;code>symName&lt;/code> æ˜¯å­—ä¸²ï¼Œå› æ­¤é€™è£¡ä¹Ÿå¯ä»¥å‹•æ…‹é¸æ“‡è¦çš„è®Šæ•¸ã€‚ç¾åœ¨ä½ æœ‰ä¸€å€‹åž‹æ…‹æ˜¯ &lt;code>Symbol&lt;/code> çš„è®Šæ•¸äº†ï¼Œå…¶å¯¦é€™å€‹ &lt;code>Symbol&lt;/code> å°±æ˜¯ &lt;code>interface{}&lt;/code> æ‰€ä»¥ä¸ç®¡è¦åšä»€éº¼äº‹ï¼Œä½ éƒ½è¦å…ˆç”¨ &lt;code>symbol.(type)&lt;/code> å–å¾—ä»–çœŸå¯¦çš„å€¼å’Œåž‹æ…‹ã€‚æŽ¥ä¸‹ä¾†å°±å¯ä»¥éš¨æ„çš„ä½¿ç”¨ä»–äº†ã€‚&lt;/p>
&lt;h1 id="ç¯„ä¾‹">ç¯„ä¾‹&lt;/h1>
&lt;blockquote>
&lt;p>ä»¥ä¸‹æ‘˜è‡ª &lt;a class="link" href="https://github.com/simbafs/go-plugin-test" target="_blank" rel="noopener"
>https://github.com/simbafs/go-plugin-test&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="maingo">main.go&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;bufio&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;plugin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;strings&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;os&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stdin&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">bufio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewReader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdin&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;gt; &amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rawCmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">stdin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;\n&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">rawCmd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">k&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">v&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">cmd&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">TrimSpace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s">&amp;#34;exit&amp;#34;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">plugin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;./dist/%s.so&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">cmd&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Lookup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Exec&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">f&lt;/span>&lt;span class="p">.(&lt;/span>&lt;span class="kd">func&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)(&lt;/span>&lt;span class="nx">cmd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="pluginslsgo">plugins/ls.go&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="s">&amp;#34;os/exec&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="s">&amp;#34;os&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">Exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">args&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ls&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">exec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Command&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;ls&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">args&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:]&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ls&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdout&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stdout&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ls&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stderr&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stderr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">ls&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>React è§£æ±ºä¸­æ–‡è¼¸å…¥æ³•</title><link>https://blog.simbafs.cc/p/frontend/react-composition-event/</link><pubDate>Sat, 05 Feb 2022 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/frontend/react-composition-event/</guid><description>&lt;img src="https://blog.simbafs.cc/og/frontend/react-composition.png" alt="Featured image of post React è§£æ±ºä¸­æ–‡è¼¸å…¥æ³•" />&lt;p>ä»Šå¤©åœ¨é–‹ç™¼&lt;a class="link" href="https://github.com/simbafs/JingJing" target="_blank" rel="noopener"
>æ™¶æ™¶é«”ç”¢ç”Ÿå™¨&lt;/a>çš„æ™‚å€™ï¼Œç™¼ç¾ä¸­æ–‡è¼¸å…¥ç¸½æ˜¯æœ‰å•é¡Œï¼Œé€™æ™‚å€™æˆ‘æƒ³èµ·ä»¥å‰çœ‹éŽ Hackmd å®˜æ–¹çš„&lt;a class="link" href="https://hackmd.io/@hackmd/CompositionEvent" target="_blank" rel="noopener"
>ä¸€ç¯‡ blog&lt;/a>ï¼Œæåˆ°ä¸­æ–‡è¼¸å…¥æ³•å¦‚æžœæœ‰å•é¡Œï¼Œå¯èƒ½å’Œçµ„å­—äº‹ä»¶æœ‰é—œã€‚æ–¼æ˜¯å°±é–‹å§‹ç ”ç©¶ã€‚é¦–å…ˆæˆ‘å°‡ä»¥ä¸‹è¨­å®šåŠ å…¥ &lt;code>textarea&lt;/code> è£¡è§€å¯Ÿçµ„å­—äº‹ä»¶çš„è¡Œç‚º&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">onCompositionStart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;compositionStart&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">onCompositionEnd&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;compositionEnd&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">onCompositionUpdate&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;compositionUpdate&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘æ‰“ã€Œä»Šå¤©æˆ‘æƒ³è¦åƒè›‹é¤…ã€çš„æ™‚å€™ï¼Œconsole é•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">compositionStart &amp;lt;empty string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ã„
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ã„ã„§
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ã„ã„§ã„£
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šã„Š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šã„Šã„§
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šã„Šã„§ã„¢
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©ã„¨
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©ã„¨ã„›
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©ã„’ã„¨ã„›
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©ã„’ã„¨
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©ã„’
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©ã„¨
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©ã„¨ã„›
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘ã„’
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘ã„’ã„§
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘ã„’ã„§ã„¤
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³ã„§
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³ã„§ã„ 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦ã„”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦åƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦åƒã„‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦åƒã„‰ã„¢
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦åƒä½†
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦åƒä½†ã„…
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦åƒä½†ã„…ã„§
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦åƒä½†ã„…ã„§ã„¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate ä»Šå¤©æˆ‘æƒ³è¦åƒè›‹é¤…
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionUpdate &amp;lt;empty string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">compositionEnd &amp;lt;empty string&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ ¹æ“šå¯¦é©—çµæžœï¼Œæˆ‘çŒœæˆ‘å€‘å¯ä»¥ç”¨ &lt;code>onCompositionUpdate&lt;/code> äº‹ä»¶ä¾†ä¿®æ­£ï¼Œæ–¼æ˜¯ç¾åœ¨ &lt;code>textarea&lt;/code> è®Šæˆé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">textarea&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setInput&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onCompositionUpdate&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setInput&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onContextMenu&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">handleContext&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†å°±è§£æ±ºä¸­æ–‡è¼¸å…¥çš„å•é¡Œäº†ï¼ä½†æ˜¯ç›®å‰é€™å€‹ç‰ˆæœ¬åªèƒ½è§£æ±ºã€Œä¸€æ¬¡ã€çš„ä¸­æ–‡è¼¸å…¥ï¼Œä¹Ÿå°±æ˜¯èªªå¦‚æžœä¸­æ–·çš„è©±ï¼Œä¹‹å‰çš„å°‡æœƒè¢«æ¸…ç©ºã€‚é€™å€‹å•é¡Œå¯ä»¥ä¿®æ”¹ &lt;code>onCompositionUpdate&lt;/code> çš„è™•ç†å‡½å¼è§£æ±ºï¼ˆæœ‰å¾…ç ”ç©¶ï¼‰&lt;/p>
&lt;hr>
&lt;blockquote>
&lt;p>Update: 2022/02/08&lt;/p>
&lt;/blockquote>
&lt;p>ç›®å‰éƒ¨ä»½è§£æ±ºæŽ¥çºŒè¼¸å…¥çš„å•é¡Œï¼Œä½†æ˜¯åªèƒ½å¾žæœ€å¾Œé¢ç¹¼çºŒï¼Œä¸èƒ½å¾žä¸­é–“æ’å…¥ã€‚ç›®å‰çš„ &lt;code>textarea&lt;/code> é•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">previousInput&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setPreviousInput&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">textarea&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onChange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setInput&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onCompositionUpdate&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setInput&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">previousInput&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onCompositionStart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setPreviousInput&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">onContextMenu&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">handleContext&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">/&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>LaTeX Starter</title><link>https://blog.simbafs.cc/p/other/latex-starter/</link><pubDate>Wed, 22 Dec 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/other/latex-starter/</guid><description>&lt;img src="https://blog.simbafs.cc/og/other/latex-starter.png" alt="Featured image of post LaTeX Starter" />&lt;h1 id="latex-stater">LaTeX Stater&lt;/h1>
&lt;p>LaTeX æ˜¯ä¸€è€ç‰Œçš„æŽ’ç‰ˆç³»çµ±ï¼ŒåŸºæœ¬çš„æ¦‚å¿µæ˜¯å…§å®¹èˆ‡å‘ˆç¾åˆ†é›¢ï¼Œåœ¨æ’°å¯«å…§å®¹æ™‚ä¸ç”¨ç®¡æŽ’ç‰ˆï¼ˆæ‰€ä»¥ä½ å°±ä¸æœƒæ“”å¿ƒç§»å‹•åœ–ç‰‡ä¸€å’ªå’ªæ•´ä»½æ–‡ä»¶å°±è·‘ç‰ˆäº†ï¼‰ã€‚é™¤äº†æŽ’ç‰ˆï¼ŒLaTeX é‚„å¾ˆæ“…é•·è¼¸å‡ºå„ç¨®èŽ«åå…¶å¦™çš„æ±è¥¿ï¼Œåƒæ˜¯è¶…è¤‡é›œçš„æ•¸å­¸å¼ã€è±¡æ£‹æ£‹è­œã€åŒ–å­¸çµæ§‹&amp;hellip;&amp;hellip;&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/latex-starter/latex-example.png"
loading="lazy"
alt="èŽ«åå…¶å¦™æŽ’ç‰ˆç¯„ä¾‹"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">credit:&lt;a class="link" href="https://zh.wikipedia.org/wiki/LaTeX" target="_blank" rel="noopener"
>https://zh.wikipedia.org/wiki/LaTeX&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>åœ¨ä½¿ç”¨ LaTeX ä¸€æ®µæ™‚é–“ä¹‹å¾Œï¼Œå°å®ƒçš„å°è±¡å°±æ˜¯åŠ å¼·ç‰ˆçš„ Markdownï¼ˆæˆ–æ˜¯èªª Markdown æ˜¯ç°¡åŒ–ç‰ˆçš„ LaTeXï¼‰ï¼Œè€Œä¸”ä»–é‚„æœ‰å·¨é›†ï¼Œå¯ä»¥æ“´å±•åŽŸç‰ˆæ²’æœ‰æä¾›çš„åŠŸèƒ½ï¼ˆå°±æ˜¯ä¸Šé¢é‚£äº›å¥‡å¥‡æ€ªæ€ªçš„æ±è¥¿ï¼‰ã€‚&lt;/p>
&lt;h2 id="å¹¾å€‹é‡é»ž">å¹¾å€‹é‡é»ž&lt;/h2>
&lt;h2 id="ä¸­æ–‡">ä¸­æ–‡&lt;/h2>
&lt;p>ä½¿ç”¨ LaTeX å°å¤§éƒ¨åˆ†äººæœ€é‡è¦çš„å°±æ˜¯ã€Œæ€Žéº¼æ‰“ä¸­æ–‡ã€ï¼Œç¸½ä¸å¯èƒ½æ‰“å…¨è‹±æ–‡å ±å‘Šå§ï¼è¦ç”¨ä¸­æ–‡ï¼Œæ¸²æŸ“å¼•æ“Žè¦ç”¨ XLaTeXï¼Œç„¶å¾ŒåŠ ä¸Šä»¥ä¸‹è¨­å®š&lt;br>
ï¼ˆ&lt;code>.ttf&lt;/code> å¯ä»¥æŒ‡å‘ä½ è‡ªå·±å–œæ­¡çš„ä¸­æ–‡å­—åž‹æª”ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-latex" data-lang="latex">&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="na">[CJKmath=true,AutoFakeBold=3,AutoFakeSlant=.2]&lt;/span>&lt;span class="nb">{&lt;/span>xeCJK&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\newCJKfontfamily\Kai&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\newCJKfontfamily\Hei&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\newCJKfontfamily\NewMing&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>fontspec&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\setmainfont&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\setmonofont&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\XeTeXlinebreaklocale&lt;/span> &amp;#34;zh&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ›è¡Œ">æ›è¡Œ&lt;/h2>
&lt;p>LaTeX åœ¨æ›è¡Œé€™å€‹è¨­è¨ˆå’Œ Markdown ä¸€æ¨£ï¼Œå› ç‚ºå…§å®¹èˆ‡å‘ˆç¾åˆ†é›¢ï¼Œæ‰€ä»¥ä½ çš„æ›è¡Œä¸æ˜¯çœŸçš„æ›è¡Œã€‚Markdown ç”¨ &lt;code> &lt;/code>ï¼ˆå…©å€‹ç©ºç™½ï¼‰ï¼Œåœ¨ LaTeX æ˜¯ &lt;code>\\&lt;/code>ï¼ˆå…©å€‹åæ–œç·šï¼‰&lt;/p>
&lt;h2 id="å·¨é›†èˆ‡-package">å·¨é›†èˆ‡ Package&lt;/h2>
&lt;p>LaTeX ä¸€å€‹æ ¸å¿ƒæ¦‚å¿µæ˜¯å·¨é›†ï¼Œå°±æ˜¯å‡½æ•¸å•¦ï¼Œå·¨é›†çš„é–‹é ­æ˜¯ &lt;code>\&lt;/code>ï¼ˆåæ–œç·šï¼‰ï¼Œå·¨é›†å¯ä»¥è‡ªå·±å®šç¾©ï¼Œä¹Ÿå¯ä»¥ç”¨ &lt;code>\usepackage{}&lt;/code> è¼‰å…¥åˆ¥äººå¯«å¥½çš„&lt;/p>
&lt;h2 id="overleaf">overleaf&lt;/h2>
&lt;p>overleaf æ˜¯ä¸€å€‹ç·šä¸Šç·¨è¼¯ LaTeX çš„ç¶²ç«™ï¼Œé è£äº†å¹¾ä¹Žæ‰€æœ‰å¯«å ±å‘Šç”¨å¾—åˆ°çš„ packagesï¼Œè€Œä¸”å¯ä»¥ä¸Šå‚³è‡ªå·±çš„å­—åž‹ã€åœ–ç‰‡ï¼Œè€Œä¸”å³é‚Šå¯ä»¥é¡¯ç¤ºç”¢ç”Ÿçš„ PDFï¼ˆéžå³æ™‚ï¼ŒæŒ‰ CTRL-Enter ç·¨è­¯ï¼‰ã€‚é€™å€‹ç¶²ç«™æ•´é«”ä½¿ç”¨é«”é©—é‚„ç®—ä¸éŒ¯ï¼Œè©²æœ‰çš„åŠŸèƒ½éƒ½æœ‰äº†ã€‚&lt;/p>
&lt;h2 id="è¡¨æ ¼">è¡¨æ ¼&lt;/h2>
&lt;h3 id="åˆ‡ç‰ˆ">åˆ‡ç‰ˆ&lt;/h3>
&lt;p>ç•« LaTeX è¡¨æ ¼æœ€ç°¡å–®çš„æ–¹å¼æ˜¯ç”¨ Google Sheet + &lt;a class="link" href="https://workspace.google.com/marketplace/app/latexkit/716178627426?hl=zh_tw" target="_blank" rel="noopener"
>latexkit&lt;/a>ï¼Œé€™å€‹å¤–æŽ›å¯ä»¥å¹«ä½ æŠŠè·¨è¡Œã€è·¨æ¬„è¡¨æ ¼é€šé€šå¼„å¥½ï¼Œä½ åªéœ€è¦å†èª¿æ•´æ ¼ç·šå’Œæ ¼å¼å°±è¡Œäº†ï¼ˆlatexkit åªè² è²¬åˆ‡ç‰ˆï¼‰&lt;/p>
&lt;h3 id="æ ¼ç·š">æ ¼ç·š&lt;/h3>
&lt;h4 id="ç›´ç·š">ç›´ç·š&lt;/h4>
&lt;p>å¦‚æžœç›´ç·šä½ éœ€è¦å…©æ¢ï¼Œåœ¨ &lt;code>\begin{tabular}{|L|L|}&lt;/code> é€™è£¡å¤šåŠ å¹¾æ¢ &lt;code>|&lt;/code> å°±å¯ä»¥äº†ã€‚ç›´ç·šå¦‚æžœé‡åˆ°è·¨åˆ—çš„æ ¼å­æœƒè‡ªå‹•è·³éŽï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦è™•ç†&lt;/p>
&lt;h4 id="æ©«ç·š">æ©«ç·š&lt;/h4>
&lt;p>åªéœ€è¦ç”¨ &lt;code>\hline&lt;/code> å°±å¯ä»¥ç•«ä¸€æ¢æ©«ç·šã€‚&lt;br>
ä½†æ˜¯å› ç‚ºæ©«ç·šé‡åˆ°è·¨è¡Œçš„æ ¼å­ä¸æœƒè‡ªå‹•è·³éŽï¼Œæ‰€ä»¥éœ€è¦ç‰¹æ®Šè™•ç†ã€‚å¯ä»¥ç”¨ &lt;code>hhline&lt;/code> é€™å€‹ packageï¼Œç”¨æ³•å¾ˆç°¡å–®ï¼Œ&lt;code>\hhline{|~|-|=|}&lt;/code>ã€‚&lt;br>
&lt;code>~&lt;/code> æ˜¯ä¸åŠƒç·šï¼Œ&lt;code>-&lt;/code> æ˜¯ç•«ä¸€æ¢ç·šï¼Œ&lt;code>=&lt;/code>æ˜¯ç•«å…©æ¢ç·šï¼Œè€Œé€™è£¡çš„ &lt;code>|&lt;/code> æ˜¯åœ¨ç•«å…©æ¢ç·šæ™‚è¦ç•«ç·šä¸­é–“çš„ç›´ç·šï¼ˆä½ ç•«å…©æ¢ç·šæ™‚è©¦è©¦çœ‹å°±çŸ¥é“äº†ï¼‰&lt;/p>
&lt;h2 id="æ•¸å­¸è¡¨æ ¼">æ•¸å­¸è¡¨æ ¼&lt;/h2>
&lt;p>åšå ±å‘Šçš„æ™‚å€™ä¸€å®šæœƒé‡åˆ°è¡¨æ ¼è£¡æœ‰æ•¸å­¸ç¬¦è™Ÿï¼Œå¦‚æžœä½ æ‡¶å¾—å‰å¾Œéƒ½åŠ  &lt;code>$&lt;/code> çš„è©±ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹çš„æ–¹å¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-latex" data-lang="latex">&lt;span class="line">&lt;span class="cl">&lt;span class="k">\newcolumntype&lt;/span>&lt;span class="nb">{&lt;/span>L&lt;span class="nb">}{&lt;/span>&amp;gt;&lt;span class="nb">{&lt;/span>&lt;span class="s">$&lt;/span>&lt;span class="nb">}l&amp;lt;{&lt;/span>&lt;span class="s">$&lt;/span>&lt;span class="nb">}}&lt;/span> &lt;span class="c">% math-mode version of &amp;#34;l&amp;#34; column type
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\begin&lt;/span>&lt;span class="nb">{&lt;/span>tabular&lt;span class="nb">}{&lt;/span>|L|L|&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\pi&lt;/span> &lt;span class="nb">&amp;amp;&lt;/span> &lt;span class="k">\tau&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\end&lt;/span>&lt;span class="nb">{&lt;/span>tabular&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å…¶ä»–">å…¶ä»–&lt;/h2>
&lt;p>å…¶ä»–é›¶ç¢Žçš„ä½¿ç”¨æ–¹æ³•å»ºè­°åƒè€ƒ &lt;a class="link" href="https://www.overleaf.com/read/hpscgpsbxnjf" target="_blank" rel="noopener"
>Saintan çš„ LaTeX å°æ•™å®¤&lt;/a>ï¼Œè£¡é¢å¯«çš„éžå¸¸è©³ç´°&lt;/p>
&lt;h2 id="ç¬¦è™Ÿè¡¨">ç¬¦è™Ÿè¡¨&lt;/h2>
&lt;p>åœ¨ LaTeX æ‰“æ•¸å­¸å¼çš„æ™‚å€™ï¼Œä¸€å®šæœƒé‡åˆ°ä¸€äº›èŽ«åå…¶å¦™çš„ç¬¦è™Ÿï¼Œå¯ä»¥åƒè€ƒä¸‹é¢å…©å€‹ç¶²ç«™ï¼Œå¯ä»¥ä¾åºæ‰¾ï¼Œç¬¬äºŒå€‹å› ç‚ºæ±è¥¿å¤ªå¤šäº†æ‰€ä»¥æœƒæ¯”è¼ƒé›£æ‰¾ä¸€é»ž&lt;/p>
&lt;p>&lt;a class="link" href="https://www.overleaf.com/learn/latex/List_of_Greek_letters_and_math_symbols" target="_blank" rel="noopener"
>https://www.overleaf.com/learn/latex/List_of_Greek_letters_and_math_symbols&lt;/a>&lt;br>
&lt;a class="link" href="https://www.caam.rice.edu/~heinken/latex/symbols.pdf" target="_blank" rel="noopener"
>https://www.caam.rice.edu/~heinken/latex/symbols.pdf&lt;/a>&lt;/p>
&lt;h2 id="æˆ‘çš„-latex-ç¯„æœ¬">æˆ‘çš„ LaTeX ç¯„æœ¬&lt;/h2>
&lt;p>é€™æ˜¯æˆ‘å¯«ç‰©ç†å¯¦é©—çµå ±çš„ç¯„æœ¬&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-latex" data-lang="latex">&lt;span class="line">&lt;span class="cl">&lt;span class="k">\documentclass&lt;/span>&lt;span class="na">[12pt,a4paper]&lt;/span>&lt;span class="nb">{&lt;/span>article&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\title&lt;/span>&lt;span class="nb">{&lt;/span>ç‰©ç†å¯¦é©—çµå ±ç¯„æœ¬&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\author&lt;/span>&lt;span class="nb">{&lt;/span>å­¸è™Ÿï¼šX12345678 &lt;span class="k">\\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å§“åï¼šXXX &lt;span class="k">\\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ç¬¬ 17 çµ„&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\date&lt;/span>&lt;span class="nb">{&lt;/span>2021-10-08&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>amsmath&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>mathtools&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>graphicx&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>array&lt;span class="nb">}&lt;/span> &lt;span class="c">% for \newcolumntype macro
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="k">\newcolumntype&lt;/span>&lt;span class="nb">{&lt;/span>L&lt;span class="nb">}{&lt;/span>&amp;gt;&lt;span class="nb">{&lt;/span>&lt;span class="s">$&lt;/span>&lt;span class="nb">}l&amp;lt;{&lt;/span>&lt;span class="s">$&lt;/span>&lt;span class="nb">}}&lt;/span> &lt;span class="c">% math-mode version of &amp;#34;l&amp;#34; column type
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span>&lt;span class="k">\usepackage&lt;/span>&lt;span class="na">[utf8]&lt;/span>&lt;span class="nb">{&lt;/span>inputenc&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="na">[T1]&lt;/span>&lt;span class="nb">{&lt;/span>fontenc&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>textcomp&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>gensymb&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>multirow&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>hhline&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>indentfirst&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="na">[CJKmath=true,AutoFakeBold=3,AutoFakeSlant=.2]&lt;/span>&lt;span class="nb">{&lt;/span>xeCJK&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\newCJKfontfamily\Kai&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\newCJKfontfamily\Hei&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\newCJKfontfamily\NewMing&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\usepackage&lt;/span>&lt;span class="nb">{&lt;/span>fontspec&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\setmainfont&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\setmonofont&lt;/span>&lt;span class="nb">{&lt;/span>[jf-openhuninn-1.1.ttf]&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\XeTeXlinebreaklocale&lt;/span> &amp;#34;zh&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\begin&lt;/span>&lt;span class="nb">{&lt;/span>document&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\maketitle&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\section&lt;/span>&lt;span class="nb">{&lt;/span>ç°¡ä»‹&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\section&lt;/span>&lt;span class="nb">{&lt;/span>åŽŸå§‹æ•¸æ“š&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\section&lt;/span>&lt;span class="nb">{&lt;/span>æ•¸æ“šåˆ†æž&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\section&lt;/span>&lt;span class="nb">{&lt;/span>èª¤å·®åˆ†æž&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\subsection&lt;/span>&lt;span class="nb">{&lt;/span>ç™¾åˆ†èª¤å·®&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\subsection&lt;/span>&lt;span class="nb">{&lt;/span>èª¤å·®åŽŸå› &lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\section&lt;/span>&lt;span class="nb">{&lt;/span>çµæžœèˆ‡è¨Žè«–&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\end&lt;/span>&lt;span class="nb">{&lt;/span>document&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ExecCmd</title><link>https://blog.simbafs.cc/p/golang/exec-cmd/</link><pubDate>Mon, 18 Oct 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/exec-cmd/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/execCmd.png" alt="Featured image of post ExecCmd" />&lt;h1 id="golang-åŸ·è¡Œå¤–éƒ¨å‘½ä»¤">Golang åŸ·è¡Œå¤–éƒ¨å‘½ä»¤&lt;/h1>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;os/exec&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">checkErr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">panic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pw&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">exec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Command&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;wc&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stdin&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">pw&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">StdinPipe&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">checkErr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Fprintln&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">stdin&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;fjasdfkjsad\njdfaksdfjksdfjkasdfj\ndjfkajsdk&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">output&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">pw&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Output&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">checkErr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">output&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Aconf</title><link>https://blog.simbafs.cc/p/golang/aconf/</link><pubDate>Fri, 24 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/aconf/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/aconf.png" alt="Featured image of post Aconf" />&lt;h1 id="aconf">aconf&lt;/h1>
&lt;p>aconf æ˜¯å€‹å¯ä»¥ç›´æŽ¥å¹«ä½ è§£æ±ºæ‰€æœ‰ã€Œè¨­å®šã€å•é¡Œçš„å¥—ä»¶ï¼Œè¨­å®šå¯ä»¥æœ‰é è¨­ã€å¾žå‘½ä»¤åˆ—åƒæ•¸ã€ç’°å¢ƒè®Šæ•¸å’Œè¨­å®šæª”ï¼Œè¨­å®šæª”é‚„æœ‰å®˜æ–¹æ”¯æ´å››ç¨®æ ¼å¼ï¼ŒdotEnvã€HCLã€tomlã€yaml å’Œ jsonã€‚&lt;br>
è€Œä¸”è¨­å®šæª”é‚„å¯ä»¥æœ‰ä¸åªä¸€å€‹ï¼Œä»–å¯ä»¥æŠŠå¤šå€‹è¨­å®šæª”åˆæˆï¼Œç›¸ç•¶æ–¹ä¾¿&lt;/p>
&lt;h2 id="åŸºæœ¬ä½¿ç”¨">åŸºæœ¬ä½¿ç”¨&lt;/h2>
&lt;h3 id="å®šç¾©-struct">å®šç¾© struct&lt;/h3>
&lt;p>é¦–å…ˆæˆ‘å€‘éœ€è¦ä¸€å€‹ struct ä¾†å®šç¾©æˆ‘å€‘çš„è¨­å®š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">type&lt;/span> &lt;span class="nx">Config&lt;/span> &lt;span class="kd">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Addr&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="s">`default:&amp;#34;:3000&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Title&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="s">`default:&amp;#34;Aconf Testing&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">SysAdmin&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span> &lt;span class="s">`default:&amp;#34;simbafs,peter&amp;#34;`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¼‰å…¥è¨­å®š">è¼‰å…¥è¨­å®š&lt;/h3>
&lt;p>å†ä¾†ï¼Œæˆ‘å€‘å¯ä»¥è¨­å®šè¦å¾žå“ªäº›ä¾†æºè¼‰å…¥è¨­å®šå€¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">loader&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">aconfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">LoaderFor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">aconfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Config&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€™å››å€‹é è¨­éƒ½æ˜¯é—œé–‰çš„ï¼Œå¦‚æžœä½ æƒ³é—œé–‰ä»»ä½•ä¸€å€‹éš¨æ™‚éƒ½å¯ä»¥é—œé–‰ä»–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// SkipDefaults: false,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// SkipFiles: false,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// SkipEnv: false,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// SkipFlags: false,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">EnvPrefix&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;APP&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FlagPrefix&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Files&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s">&amp;#34;~/.config/app.toml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;app.toml&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">FileDecoders&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kd">map&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="nx">aconfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">FileDecoder&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;.toml&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nx">aconfigtoml&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">loader&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Load&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">panic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£ä½ å°±å¯ä»¥ç”¨æª”æ¡ˆã€ç’°å¢ƒè®Šæ•¸å’Œå‘½ä»¤åˆ—åƒæ•¸è¨­å®šäº†ã€‚&lt;/p>
&lt;h4 id="è¨­å®šåç¨±">è¨­å®šåç¨±&lt;/h4>
&lt;p>æˆ‘å€‘åœ¨ struct ä¸­å®šç¾©çš„è¨­å®šåç¨±ï¼Œåœ¨å„å€‹ä¾†æºæœƒæœ‰ä¸€äº›è®ŠåŒ–ï¼Œä¸‹é¢æ˜¯ä¾‹å­&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">struct&lt;/th>
&lt;th style="text-align:left">è¨­å®šæª”&lt;/th>
&lt;th style="text-align:left">ç’°å¢ƒè®Šæ•¸&lt;/th>
&lt;th style="text-align:left">å‘½ä»¤åˆ—åƒæ•¸&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">Addr&lt;/td>
&lt;td style="text-align:left">addr&lt;/td>
&lt;td style="text-align:left">{EnvPrefix}_ADDR&lt;/td>
&lt;td style="text-align:left">{FlagPrefix}{FlagDelimiter}attr&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">SysAdmin&lt;/td>
&lt;td style="text-align:left">sys_admin&lt;/td>
&lt;td style="text-align:left">{EnvPrefix}_SYS_ADMIN&lt;/td>
&lt;td style="text-align:left">{FlagPrefix}{FlagDelimiter}sys_admin&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>é€™é‚Šæœ‰å¦å¤–å¹¾å€‹è¨­å®šï¼Œä»¥ä¸‹æ˜¯ä»–å€‘çš„é è¨­å€¼&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">config&lt;/th>
&lt;th style="text-align:left">default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">EnvPrefix&lt;/td>
&lt;td style="text-align:left">&amp;ldquo;&amp;quot;ï¼ˆæœ€å¥½è‡ªå·±è¨­ï¼Œä¸ç„¶å¯èƒ½é‡è¤‡ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">FlagPrefix&lt;/td>
&lt;td style="text-align:left">&amp;quot;&amp;rdquo; ï¼ˆå¦‚æžœæ²’æœ‰è¨­ï¼ŒFlagDelimiter ä¹Ÿä¸æœƒæœ‰ä½œç”¨ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">FlagDelimiter&lt;/td>
&lt;td style="text-align:left">.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="å¾žå‘½ä»¤åˆ—è¼‰å…¥è¨­å®šæª”">å¾žå‘½ä»¤åˆ—è¼‰å…¥è¨­å®šæª”&lt;/h4>
&lt;p>é è¨­ä½ æ˜¯ä¸è¡Œå¾žå‘½ä»¤åˆ—è¨­å®šä½ è‡ªå·±çš„è¨­å®šæª”è·¯å¾‘ï¼Œä½†æ˜¯ä½ å¯ä»¥é–‹å•Ÿé€™å€‹é¸é …&lt;br>
ç”¨ &lt;code>FileFlag&lt;/code> å¯ä»¥è¨­å®šã€Œè¨­å®šæª”è·¯å¾‘ã€çš„é¸é …&lt;/p>
&lt;h2 id="åƒè€ƒé€£çµ">åƒè€ƒé€£çµ&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/cristalhq/aconfig" target="_blank" rel="noopener"
>https://github.com/cristalhq/aconfig&lt;/a>&lt;br>
&lt;a class="link" href="https://pkg.go.dev/github.com/cristalhq/aconfig" target="_blank" rel="noopener"
>https://pkg.go.dev/github.com/cristalhq/aconfig&lt;/a>&lt;/p></description></item><item><title>Day 21ï¼šå„²å­˜å™¨èˆ‡å‰ªè²¼ç°¿</title><link>https://blog.simbafs.cc/p/ithelp/day21/</link><pubDate>Tue, 21 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day21/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day21.png" alt="Featured image of post Day 21ï¼šå„²å­˜å™¨èˆ‡å‰ªè²¼ç°¿" />&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day21/stackoverflow-meme.png"
loading="lazy"
alt="stackoverflow meme"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">from: &lt;a class="link" href="https://stackoverflow.blog/2021/04/19/how-often-do-people-actually-copy-and-paste-from-stack-overflow-now-we-know/" target="_blank" rel="noopener"
>https://stackoverflow.blog/2021/04/19/how-often-do-people-actually-copy-and-paste-from-stack-overflow-now-we-know/&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>é€™å€‹æ˜¯ä¸€å€‹ æ¢—åœ–ï¼Œå¤§æ„æ˜¯ä½ å¯«ç¨‹å¼ä¸€å®šæœƒç”¨åˆ° CTRL-C å’Œ CTRL-Vã€‚æˆ‘å€‘ä»Šå¤©å°±ä¾†çœ‹çœ‹ vim çš„å‰ªè²¼ç°¿å§ï¼&lt;br>
åœ¨ç”¨å‰ªè²¼ç°¿æ™‚ï¼Œè¤‡è£½çš„ä¾†æºå¯èƒ½æœƒæœ‰å¾ˆå¤šç¨®ï¼Œä»¥æˆ‘å€‘çš„ç’°å¢ƒç‚ºä¾‹ï¼Œå¯èƒ½æœƒç”¨ç³»çµ±å‰ªè²¼ç°¿ã€tmux å’Œ vim æœ¬èº«çš„å‰ªè²¼ç°¿&lt;/p>
&lt;h1 id="ç³»çµ±å‰ªè²¼ç°¿">ç³»çµ±å‰ªè²¼ç°¿&lt;/h1>
&lt;p>åŸºæœ¬ä¸Šå° vim ä¾†èªªç³»çµ±å‰ªè²¼ç°¿å’Œ tmux åœ¨è¤‡è£½è²¼ä¸Šæ˜¯å·®ä¸å¤šçš„ï¼Œåœ¨è¼¸å…¥æ¨¡å¼è²¼ä¸Šå°±å¯ä»¥äº†&lt;br>
ä½†æ˜¯è¦æ³¨æ„å¤šè¡Œçš„ç¨‹å¼ç¢¼è²¼ä¸Šæ™‚ vim æœƒæŠŠç¸®æŽ’æžäº‚ï¼Œæ‰€ä»¥ä½ è¦å˜›ç”¨ &lt;code>&amp;lt;leader&amp;gt;f&lt;/code> é‡æ–°æ•´ç†ç¨‹å¼ç¢¼ï¼Œæˆ–æ˜¯ç”¨å‘½ä»¤ &lt;code>:r!cat&lt;/code>ï¼Œè²¼ä¸Šå¾Œå†æŒ‰ &lt;code>C-d&lt;/code> è²¼åˆ°ç¨‹å¼è£¡é¢ã€‚&lt;br>
&lt;code>:r!cat&lt;/code> é€™å€‹å‘½ä»¤åœ¨ &lt;a class="link" href="../day13" >Day 13&lt;/a> æ™‚æœ‰æŠŠä»–å¯«æˆå¿«æ·éµ &lt;code>&amp;lt;F3&amp;gt;&lt;/code> äº†ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ç›´æŽ¥æŒ‰ &lt;code>&amp;lt;F3&amp;gt; &lt;/code> æœƒæœ‰ä¸€æ¨£çš„æ•ˆæžœ&lt;/p>
&lt;p>å¦å¤–ï¼Œä¸‹é¢æœƒè¬›åˆ°ç”¨ vim å‘½ä»¤å­˜å–ç³»çµ±å‰ªè²¼ç°¿&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">â“ &lt;code>:r!cat&lt;/code> æ˜¯ä»€éº¼æ„æ€ï¼Ÿ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">&lt;code>r&lt;/code> é€™å€‹å‘½ä»¤æ˜¯ã€Œè¼‰å…¥æŸå€‹æª”æ¡ˆä¸¦è²¼åˆ°æ¸¸æ¨™è¡Œä¸‹é¢ã€ï¼Œç”¨æ³•æ˜¯ &lt;code>:r {file}&lt;/code>ã€‚ä½†æ˜¯æˆ‘å€‘é€™è£¡ä¸ç”¨æª”åï¼Œ&lt;code>!cat&lt;/code> åœ¨é€™è£¡çš„æ„æ€æ˜¯ã€Œshell å‘½ä»¤ &lt;code>cat&lt;/code> çš„ stdout é€™å€‹æª”æ¡ˆã€ï¼Œè€ŒåŸ·è¡Œ &lt;code>cat&lt;/code> æ™‚éœ€è¦ stdinï¼Œä¹Ÿå°±æ˜¯ä½ å‰›å‰›è²¼ä¸Šç¨‹å¼ç¢¼çš„åœ°æ–¹ï¼ˆåœ¨ status bar ä¸‹é¢ï¼‰ã€‚é€™å€‹æ–¹æ³•å¯ä»¥ç¹žéŽè‡ªå‹•ç¸®æŽ’ï¼Œå°±ä¸æœƒå‡ºç¾ç¨‹å¼ç¢¼è²¼ä¸Šè¢« vim å¼„äº‚çš„æƒ…å½¢äº†ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="å¾ž-vim-è¤‡è£½">å¾ž vim è¤‡è£½&lt;/h2>
&lt;p>è¤‡è£½åˆ°ç³»çµ±å‰ªè²¼ç°¿å¾ˆç°¡å–®ï¼Œåœ¨é¸å–æ™‚è¨˜çš„æŒ‰ä½ &lt;code>&amp;lt;SHIFT&amp;gt;&lt;/code> å°±è¡Œäº†ï¼Œä½†æ˜¯å› ç‚ºæˆ‘å€‘æœ‰é–‹å•Ÿ vim æ»‘é¼ æ¨¡å¼ï¼Œæ‰€ä»¥ tmux å‰ªè²¼ç°¿å°±ä¸èƒ½è¤‡è£½äº†ï¼ˆæ»‘é¼ è¢« vim æ¶èµ°ï¼‰ï¼ˆé—œæ–¼ tmux å‰ªè²¼ç°¿è«‹çœ‹ &lt;a class="link" href="../day09#%e8%a4%87%e8%a3%bd" >Day 09#è¤‡è£½&lt;/a>ã€‚&lt;/p>
&lt;h1 id="vim-åŸºç¤Žå‰ªè²¼ç°¿">vim åŸºç¤Žå‰ªè²¼ç°¿&lt;/h1>
&lt;p>åœ¨ vim è£¡é¢ï¼Œä½ å¯ç”¨åŸºç¤Žçš„ &lt;code>yy&lt;/code>ã€&lt;code>dd&lt;/code>ã€&lt;code>x&lt;/code> ç­‰æŒ‡ä»¤å°‡æ–‡å­—æ”¾é€²å‰ªè²¼ç°¿ï¼Œæˆ–æ˜¯æ›´é€²éšŽçš„ &lt;code>d4w&lt;/code>ã€&lt;code>y5l&lt;/code> ç­‰ç­‰ã€‚&lt;br>
è²¼ä¸Šçš„è©±æ¯”è¼ƒå–®ç´”ï¼Œå°±åªæœ‰ &lt;code>p&lt;/code> ä¸€å€‹ï¼ˆé‚„æœ‰ &lt;code>P&lt;/code> ï¼‰&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">â“ &lt;code>p&lt;/code> å’Œ &lt;code>P&lt;/code> çš„å·®åˆ¥&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">å°å¯« &lt;code>p&lt;/code> æœƒæŠŠå…§å®¹è²¼åˆ°æ¸¸æ¨™å¾Œï¼Œå¤§å¯« &lt;code>P&lt;/code> æœƒæŠŠå…§å®¹è²¼åˆ°æ¸¸æ¨™å‰&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="vim-é€²éšŽå‰ªè²¼ç°¿">vim é€²éšŽå‰ªè²¼ç°¿&lt;/h1>
&lt;p>åœ¨ vim è£¡é¢æœ‰å€‹æ±è¥¿å«åš registerï¼Œä¸­æ–‡å¤§æ¦‚æ˜¯ã€Œå„²å­˜å™¨ã€ä¹‹é¡žçš„ï¼Œæˆ‘å€‘é€™é‚Šå°±é€™æ¨£å«ä»–ã€‚&lt;br>
é€™å€‹æ±è¥¿å°±æ˜¯ã€Œæœ‰å‘½åçš„ã€å‰ªè²¼ç°¿ï¼ˆåŒ…å«å‰›å‰›ç”¨çš„ã€Œæœªå‘½åçš„ã€å‰ªè²¼ç°¿ï¼‰&lt;br>
é€™å€‹æ±è¥¿å¯ä»¥åˆ†æˆå…©é¡žï¼Œä¸€æ˜¯å¯å¯«çš„ï¼Œå¦ä¸€é¡žæ˜¯æœ‰ç‰¹æ®Šæ„ç¾©çš„å„²å­˜å™¨&lt;/p>
&lt;h2 id="åˆ—å‡ºå„²å­˜å™¨">åˆ—å‡ºå„²å­˜å™¨&lt;/h2>
&lt;p>åœ¨é–‹å§‹ä»‹ç´¹å„²å­˜å™¨ä¹‹å‰ï¼Œæˆ‘å€‘å…ˆä¾†çœ‹çœ‹å¦‚ä½•æŸ¥çœ‹å„²å­˜å™¨ï¼Œé€™æ¨£ä½ åœ¨å­¸ä½¿ç”¨ä»–æ™‚å°±å¯ä»¥ä¸€é‚Šæ“ä½œä¸€é‚Šå°ç…§ã€‚&lt;br>
åˆ—å‡ºå„²å­˜å™¨å…§å®¹çš„å‘½ä»¤æ˜¯ &lt;code>:registers&lt;/code> æˆ–æ˜¯ç¸®å¯« &lt;code>:reg&lt;/code>ï¼Œä»–æœƒåˆ—å‡ºæ‰€æœ‰ç›®å‰å„²å­˜å™¨ä¸­æœ‰çš„å…§å®¹&lt;/p>
&lt;h2 id="å¯«å…¥å¯å¯«çš„çš„å„²å­˜å™¨">å¯«å…¥å¯å¯«çš„çš„å„²å­˜å™¨&lt;/h2>
&lt;p>vim ä¸­å¯å¯«çš„å„²å­˜å™¨ä¸¦ä¸æ˜¯éš¨ä¾¿ä½ å‘½åï¼Œåªæœ‰ 0 ~ 9 å’Œ a - zï¼Œå¦å¤–é€™æ˜¯ä¸åˆ†å¤§å°å¯«ï¼Œæ‰€ä»¥ a ~ z å’Œ A ~ Z æ˜¯ä¸€æ¨£çš„ã€‚&lt;br>
è¦å­˜å…¥å„²å­˜å™¨æ–¹æ³•å¾ˆç°¡å–®ï¼Œåªè¦åœ¨æŒ‡ä»¤ï¼ˆ&lt;code>yy&lt;/code>ã€&lt;code>d4w&lt;/code> ä¹‹é¡žçš„ï¼‰ä¹‹å‰åŠ ä¸Š &lt;code>&amp;quot;x&lt;/code>ï¼Œé€™å€‹ &lt;code>x&lt;/code> ä»£æŒ‡å„²å­˜å™¨ä»£è™Ÿï¼ˆ[0-9a-z]ï¼‰&lt;br>
ä¾‹å¦‚ã€ŒæŠŠæ•´è¡Œå­˜å…¥ &lt;code>g&lt;/code> å„²å­˜å™¨ã€çš„æŒ‡ä»¤å°±æ˜¯ &lt;code>&amp;quot;gyy&lt;/code>ï¼ˆæ³¨æ„æ²’æœ‰å†’è™Ÿï¼Œç›´æŽ¥åœ¨å‘½ä»¤æ¨¡å¼æ‰“ï¼‰ã€‚&lt;/p>
&lt;h2 id="è²¼ä¸Šå¯å¯«çš„çš„å„²å­˜å™¨">è²¼ä¸Šå¯å¯«çš„çš„å„²å­˜å™¨&lt;/h2>
&lt;h3 id="å‘½ä»¤æ¨¡å¼">å‘½ä»¤æ¨¡å¼&lt;/h3>
&lt;p>åœ¨å‘½ä»¤æ¨¡å¼ä¸­ï¼Œå’Œå¯«å…¥æ™‚çš„ç”¨æ³•ä¸€æ¨£ï¼Œåœ¨ &lt;code>p&lt;/code> ä¹‹å‰åŠ ä¸Š &lt;code>&amp;quot;x&lt;/code>&lt;br>
ä¾‹å¦‚ã€ŒæŠŠå„²å­˜å™¨ &lt;code>g&lt;/code> ä¸­çš„å…§å®¹è²¼ä¸Šã€çš„æŒ‡ä»¤å°±æ˜¯ &lt;code>&amp;quot;gp&lt;/code>&lt;/p>
&lt;h3 id="ç·¨è¼¯æ¨¡å¼">ç·¨è¼¯æ¨¡å¼&lt;/h3>
&lt;p>å¦‚æžœä½ ä¸æƒ³ç‚ºäº†è²¼ä¸Šä¸€æ®µå­—åˆ‡æ›åˆ°å‘½ä»¤æ¨¡å¼ï¼ˆå°¤å…¶æ˜¯æ‰“ä¸­æ–‡æ™‚åˆ‡è¼¸å…¥æ³•å¾ˆç—›è‹¦ï¼‰ï¼Œä½ å¯ä»¥ç”¨ &lt;code>&amp;lt;C-r&amp;gt;&lt;/code> åŠ ä¸Šç·¨è™Ÿè²¼ä¸Š&lt;br>
ä¾‹å¦‚ã€ŒæŠŠå„²å­˜å™¨ &lt;code>g&lt;/code> ä¸­çš„å…§å®¹è²¼ä¸Šã€çš„æŒ‡ä»¤å°±æ˜¯ &lt;code>&amp;lt;C-r&amp;gt;g&lt;/code>&lt;/p>
&lt;h2 id="æœ‰ç‰¹æ®Šæ„ç¾©å„²å­˜å™¨">æœ‰ç‰¹æ®Šæ„ç¾©å„²å­˜å™¨&lt;/h2>
&lt;p>ä»¥ä¸‹æˆ‘ç”¨è¡¨æ ¼åˆ—å‡ºæœ‰ç‰¹æ®Šæ„ç¾©çš„å„²å­˜å™¨ï¼Œä»–å€‘ä¹Ÿéƒ½æ˜¯ä¸€å€‹å­—å…ƒä»£è¡¨&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">å„²å­˜å™¨&lt;/th>
&lt;th style="text-align:left">æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">&lt;code>&amp;quot;&lt;/code>&lt;/td>
&lt;td style="text-align:left">s å‘½åå„²å­˜å™¨ï¼ˆé è¨­çš„ï¼Œå¦‚æžœä¸æŒ‡å®šå°±æ˜¯å­˜åˆ°é€™è£¡é¢ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>-&lt;/code>&lt;/td>
&lt;td style="text-align:left">ã€Œå‰ªä¸‹ã€ï¼ˆ &lt;code>d2w&lt;/code>ã€&lt;code>x&lt;/code> ä¹‹é¡žçš„ï¼‰çš„å°‘æ–¼ä¸€è¡Œçš„ï¼ˆä¸åŒ…æ‹¬æ›è¡Œï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>:&lt;/code>&lt;/td>
&lt;td style="text-align:left">ä¸Šæ¬¡åŸ·è¡Œçš„å†’è™Ÿå‘½ä»¤&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>.&lt;/code>&lt;/td>
&lt;td style="text-align:left">ä¸Šæ¬¡è¼¸å…¥æ¨¡å¼è¼¸å…¥çš„æ–‡å­—ï¼ˆå”¯è®€ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>%&lt;/code>&lt;/td>
&lt;td style="text-align:left">ç›®å‰çš„æª”æ¡ˆåç¨±ï¼ˆå”¯è®€ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>#&lt;/code>&lt;/td>
&lt;td style="text-align:left">åœ¨é€™å€‹è¦–çª—ä¸­ä¸Šä¸€å€‹ç·¨è¼¯çš„æ–‡ä»¶çš„æª”æ¡ˆåç¨±ï¼ˆå”¯è®€ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>=&lt;/code>&lt;/td>
&lt;td style="text-align:left">é€™å€‹å«åšã€Œè¡¨é”å¼å„²å­˜å™¨ã€ï¼Œä½†æ˜¯ä»–å…¶å¯¦ä¸æ˜¯ä¸€å€‹å¯å¯«å…¥çš„å„²å­˜å™¨ï¼Œä¸‹é¢æœƒå°ˆé–€ä»‹ç´¹ä»–&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>*&lt;/code>&lt;/td>
&lt;td style="text-align:left">ä½ çš„ã€Œæ»‘é¼ ã€åç™½çš„æ–‡å­—ï¼ˆå…¶ä»–è¦–çª—æˆ–æ˜¯ vim è£¡é¢éƒ½å¯ä»¥ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>+&lt;/code>&lt;/td>
&lt;td style="text-align:left">ä½ çš„ç³»çµ±å‰ªè²¼ç°¿&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>_&lt;/code>&lt;/td>
&lt;td style="text-align:left">é»‘æ´žå„²å­˜å™¨ï¼Œåªé€²ä¸å‡ºï¼Œå¦‚æžœä½ å˜—è©¦è®€å–é€™å€‹å„²å­˜å™¨ä½ ä»€éº¼éƒ½ä¸æœƒå¾—åˆ°ï¼Œé€™å¯ä»¥ç”¨åœ¨å‰ªä¸‹ä¸€æ®µæ–‡å­—ä½†æ˜¯ä¸å½±éŸ¿ä»»ä½•å„²å­˜å™¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>/&lt;/code>&lt;/td>
&lt;td style="text-align:left">ä¸Šæ¬¡ç”¨ &lt;code>/&lt;/code> æœçš„å­—ä¸²&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="è¡¨é”å¼å„²å­˜å™¨">è¡¨é”å¼å„²å­˜å™¨&lt;/h3>
&lt;p>é€™å€‹å„²å­˜å™¨å¾ˆç‰¹åˆ¥ï¼Œå› ç‚ºä»–å¯ä»¥åŸ·è¡Œå‘½ä»¤ï¼Œæˆ–æ˜¯ä½ å¯ä»¥æŠŠä»–ç•¶ä½œè¨ˆç®—æ©Ÿï¼&lt;/p>
&lt;h4 id="è¨ˆç®—æ©Ÿ">è¨ˆç®—æ©Ÿ&lt;/h4>
&lt;p>ç•¶ä½ è¼¸å…¥ &lt;code>&amp;quot;=10+77&amp;lt;enter&amp;gt;p&lt;/code> æ™‚ï¼Œvim æœƒåœ¨ä½ çš„æ¸¸æ¨™å¾Œé¢è²¼ä¸Š &lt;code>87&lt;/code>ï¼Œé€™å€‹å°±æ˜¯ç­‰æ–¼ç¬¦è™Ÿ &lt;code>=&lt;/code> å¾Œé¢çš„è¨ˆç®—å¼è¨ˆç®—å‡ºä¾†çš„çµæžœ&lt;br>
ä½ ä¹Ÿå¯ä»¥åœ¨è¼¸å…¥æ¨¡å¼ç”¨ &lt;code>&amp;lt;C-r&amp;gt;=10+77&amp;lt;enter&amp;gt;&lt;/code> ï¼ˆé€™è£¡ä¸ç”¨æ‰“ &lt;code>p&lt;/code>ï¼‰&lt;br>
æˆ‘æ¸¬è©¦éŽé€™è£¡çš„è¨ˆç®—å¼å¯ä»¥ç”¨çš„å’Œ C/C++ ä¸­å·®ä¸å¤šï¼Œä¸€æ¨£éµå®ˆå››å‰‡é‹ç®—å’Œæ‹¬è™Ÿå„ªå…ˆï¼Œè€Œä¸”å¦‚æžœæ•´æ•¸æ²’æœ‰åŠ ä¸Š &lt;code>.0&lt;/code> åŽ»åšé™¤æ³•æœƒå¾—åˆ°çš„æ˜¯ &lt;code>int / int&lt;/code> çš„çµæžœï¼Œé™¤æ•¸è¢«é™¤æ•¸åªè¦æœ‰ä¸€æ–¹æ˜¯ float å°±å¯ä»¥äº†ï¼Œå¦å¤–ä»–çš„ç²¾åº¦åˆ°å°æ•¸é»žå¾Œå…­ä½ã€‚&lt;/p>
&lt;h4 id="åŸ·è¡Œå‘½ä»¤">åŸ·è¡Œå‘½ä»¤&lt;/h4>
&lt;p>åœ¨ç­‰è™Ÿå¾Œé¢é™¤äº†æŽ¥ä¸Šé‹ç®—å¼ï¼Œä½ ä¹Ÿå¯ä»¥æŽ¥ä¸€å€‹ vim çš„ã€Œå‡½æ•¸ã€ï¼Œç„¶å¾Œå‡½æ•¸çš„å›žå‚³å€¼å°±æœƒè¢«å°åˆ° vim è£¡é¢ã€‚&lt;br>
é€™äº›å‡½æ•¸æœ‰äº›æ˜¯ vim å…§å»ºï¼Œæœ‰äº›æ˜¯å¤–æŽ›åŠ é€²ä¾†çš„ã€‚å…¶ä¸­æœ‰å€‹å…§å»ºå‡½æ•¸ &lt;code>system()&lt;/code>ï¼ŒæŽ¥å—ä¸€å€‹å­—ä¸²ç•¶ä½œåƒæ•¸ï¼Œå›žå‚³é€™å€‹å­—ä¸²æ‹¿åŽ» shell åŸ·è¡Œå¾Œçš„è¼¸å‡ºã€‚&lt;br>
ä¾‹å¦‚æˆ‘æƒ³è²¼ä¸Šç›®å‰ç›®éŒ„æ‰€æœ‰çš„æª”æ¡ˆåç¨±ï¼Œå¯ä»¥é€™æ¨£åšï¼šåœ¨å‘½ä»¤æ¨¡å¼åŸ·è¡Œ &lt;code>&amp;quot;=sysyem('ls -a')&lt;/code> æˆ–æ˜¯åœ¨è¼¸å…¥æ¨¡å¼ &lt;code>&amp;lt;C-r&amp;gt;=sysyem('ls -a')&lt;/code>&lt;br>
é€™æ¨£å°±æœƒæŠŠ &lt;code>ls -a&lt;/code> çš„çµæžœè²¼ä¸Šä¾†äº†ï¼&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day21/vim-expression-reg.gif"
loading="lazy"
alt="vim expression register"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">åˆ†åˆ¥åœ¨å‘½ä»¤æ¨¡å¼å’Œè¼¸å…¥æ¨¡å¼ç¤ºç¯„&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å¦å¤–é€™äº›å‡½æ•¸ä¹Ÿå¯ä»¥ç”¨ &lt;code>:call funcion()&lt;/code> ä¾†åŸ·è¡Œ&lt;/p>
&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>vim çš„ register çœŸçš„éžå¸¸å¥½ç”¨ï¼Œå°¤å…¶æ˜¯åŸºç¤Žçš„é‚£ 36 å€‹å„²å­˜å™¨ï¼Œç›¸è¼ƒæ–¼ç³»çµ±å‰ªè²¼ç°¿åˆæ›´è±å¯Œäº†ï¼&lt;br>
é—œæ–¼å„²å­˜å™¨é‚„æœ‰å¾ˆå¤šç´°ç¯€æ˜¯æˆ‘çš„æ–‡ç« ç„¡æ³•è©³ç´°åˆ—å‡ºä¾†çš„ï¼Œä½ å¯ä»¥ç”¨å‘½ä»¤ &lt;code>:help :reg&lt;/code> çœ‹çœ‹æ›´å¤šå„²å­˜å™¨çš„èªªæ˜Ž&lt;/p></description></item><item><title>Day 20ï¼šåˆ‡æ°´æžœå›‰ï¼vim åˆ‡èž¢å¹•èˆ‡åˆ†é </title><link>https://blog.simbafs.cc/p/ithelp/day20/</link><pubDate>Mon, 20 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day20/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day20.png" alt="Featured image of post Day 20ï¼šåˆ‡æ°´æžœå›‰ï¼vim åˆ‡èž¢å¹•èˆ‡åˆ†é " />&lt;h1 id="åˆ†å‰²èž¢å¹•">åˆ†å‰²èž¢å¹•&lt;/h1>
&lt;p>è¨˜çš„ tmux å¯ä»¥åˆ‡èž¢å¹•å—Žï¼Ÿvim ä¹Ÿå¯ä»¥å–”ï¼&lt;/p>
&lt;h2 id="å‘½ä»¤">å‘½ä»¤&lt;/h2>
&lt;p>æˆ‘å€‘å¿«é€Ÿç”¨è¡¨æ ¼å¸¶éŽå‘½ä»¤&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">å¿«æ·éµ&lt;/th>
&lt;th style="text-align:left">å‘½ä»¤&lt;/th>
&lt;th style="text-align:left">æ•ˆæžœ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">&lt;!-- raw HTML omitted -->s&lt;/td>
&lt;td style="text-align:left">:sp[lit] {file}&lt;/td>
&lt;td style="text-align:left">æ°´å¹³åˆ†å‰²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;!-- raw HTML omitted -->v&lt;/td>
&lt;td style="text-align:left">:vs[plit] {file}&lt;/td>
&lt;td style="text-align:left">åž‚ç›´åˆ†å‰²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;!-- raw HTML omitted -->+&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">æŠŠç›®å‰è¦–çª—æ”¾å¤§ä¸€é»ž&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;!-- raw HTML omitted -->-&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">æŠŠç›®å‰è¦–çª—ç¸®å°ä¸€é»ž&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;!-- raw HTML omitted -->=&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">ç­‰å¤§&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;!-- raw HTML omitted -->c&lt;/td>
&lt;td style="text-align:left">:q&lt;/td>
&lt;td style="text-align:left">é—œæŽ‰ç›®å‰è¦–çª—&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;!-- raw HTML omitted -->o&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">é—œæŽ‰å…¶ä»–è¦–çª—&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;!-- raw HTML omitted -->æ–¹å‘éµ/h/j/k/l/tag&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">åœ¨è¦–çª—é–“ç§»å‹•&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å¦‚æžœä½ åœ¨ &lt;a class="link" href="../day13" >day 13&lt;/a> æœ‰é–‹å•Ÿæ»‘é¼ æ¨¡å¼ï¼Œé‚£ä½ å¯ä»¥ç›´æŽ¥ç”¨æ»‘é¼ æ‹‰å‹•é‚Šæ¡†èª¿æ•´å¤§å°&lt;/p>
&lt;h2 id="vim-åˆ†å‰²è¦–çª—çš„å„ªé»ž">vim åˆ†å‰²è¦–çª—çš„å„ªé»ž&lt;/h2>
&lt;p>èˆ‡ tmux æ¯”èµ·ä¾†ï¼Œæˆ‘æ›´å¸¸ç”¨ tmux åˆ†å‰²è¦–çª—ï¼Œå› ç‚ºå¿«æ·éµæ¯”è¼ƒç›´è¦ºå¥½ç”¨ï¼Œä½†æ˜¯ vim æœ‰å€‹ tmux åšä¸åˆ°çš„å„ªé»ž&lt;br>
å¦‚æžœä½ ç”¨ tmux åˆ†å‰²è¦–çª—ä¸¦é–‹å•ŸåŒä¸€å€‹æª”æ¡ˆï¼Œå°æ–¼ç³»çµ±ä¾†èªªä½ å…¶å¯¦æ˜¯é–‹äº†å…©æ¬¡ï¼Œå…©å€‹çš„æ›´æ”¹äº’ç›¸ä¸ç›¸é—œã€‚&lt;br>
ä½†æ˜¯ vim ä¸ä¸€æ¨£ï¼Œä»–æ˜¯ã€ŒåŒä¸€ä»½æª”æ¡ˆã€ï¼Œä¹Ÿå°±æ˜¯èªªå·¦é‚Šçš„æ”¹å‹•æœƒç«‹åˆ»åŒæ­¥åˆ°å³é‚Š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day20/vim-split-sync.gif"
loading="lazy"
alt="vim split sync"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">å¦‚æžœé–‹å•Ÿä¸€å€‹æª”æ¡ˆï¼Œå·¦é‚Šçš„æ›´æ”¹æœƒç«‹åˆ»åŒæ­¥åˆ°å³é‚Š&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>é€™å€‹ç‰¹æ€§æœ‰å€‹å¥½è™•ï¼Œå¦‚æžœæª”æ¡ˆå¤ªé•·ï¼Œä½ è¦ä¸»è¦è¦ç·¨è¼¯äº†å…©å€‹å€åŸŸæ²’è¾¦æ³•åœ¨åŒä¸€å€‹èž¢å¹•é¡¯ç¤ºï¼Œå°±å¯ä»¥ç”¨ vim çš„åˆ†å‰²ç•«é¢ï¼Œå·¦é‚Šç·¨è¼¯ä¸Šé¢ï¼Œå³é‚Šç·¨è¼¯ä¸‹é¢ã€‚&lt;/p>
&lt;h1 id="åˆ†é ">åˆ†é &lt;/h1>
&lt;p>æ¯”èµ·åˆ‡å‰²èž¢å¹•ï¼Œæˆ‘æ›´å¸¸ç”¨åˆ†é åŠŸèƒ½ã€‚vim æ¯å€‹åˆ†é éƒ½å’Œ tmux ä¸€æ¨£ï¼Œå¯ä»¥éš¨ä¾¿ä½ äº‚åˆ‡ï¼Œä¸æœƒäº’ç›¸å½±éŸ¿ã€‚&lt;/p>
&lt;h2 id="å¿«æ·éµ">å¿«æ·éµ&lt;/h2>
&lt;p>ä¸€æ¨£å¿«é€Ÿçœ‹éŽå‘½ä»¤&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">å¿«æ·éµ&lt;/th>
&lt;th style="text-align:left">å‘½ä»¤&lt;/th>
&lt;th style="text-align:left">æ•ˆæžœ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:left">:tabe {file}&lt;/td>
&lt;td style="text-align:left">é–‹å•Ÿæ–°åˆ†é ä¸¦é–‹å•Ÿæª”æ¡ˆï¼Œå¦‚æžœä¸æŒ‡å®šæª”åæœƒé–‹å•Ÿä¸€å€‹ç©ºç™½æª”æ¡ˆ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">gt&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">ä¸‹ä¸€å€‹åˆ†é &lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">gT&lt;/td>
&lt;td style="text-align:left">&lt;/td>
&lt;td style="text-align:left">ä¸Šä¸€å€‹åˆ†é &lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ä¸€æ¨£ï¼Œå¦‚æžœä½ é–‹å•Ÿäº†æ»‘é¼ æ¨¡å¼ï¼Œä½ å¯ä»¥ç”¨æ»‘é¼ é»žæ“Šåˆ‡æ›åˆ†é ï¼ˆæœ€ä¸Šé¢ï¼‰&lt;/p>
&lt;h2 id="nerdtree">Nerdtree&lt;/h2>
&lt;p>nerdtree æ˜¯æˆ‘é¢åœ¨ &lt;a class="link" href="../day15#%e7%8f%be%e4%bb%a3%e5%8c%96-ide-%e5%bf%85%e8%a3%9d%e6%a8%a1%e7%b5%84" >day 15 #ç¾ä»£åŒ–-ide-å¿…è£æ¨¡çµ„&lt;/a> ä¸­åˆ—å‡ºäº†ç¬¬ä¸‰å€‹æ¨¡çµ„ã€‚ç‚ºä»€éº¼æåˆ°ä»–å‘¢ï¼Ÿå› ç‚ºç•¶ä½ ç”¨ nerdtree ç€è¦½æª”æ¡ˆæ™‚ï¼Œä½ å¯ä»¥ç”¨å‘½ä»¤ï¼ˆå¿«æ·éµï¼‰&lt;code>t&lt;/code> åœ¨æ–°åˆ†é ä¸­é–‹å•Ÿæª”æ¡ˆ&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day20/vim-tab.gif"
loading="lazy"
alt="vim tab"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">ç”¨ nerdtree åœ¨æ–°åˆ†é é–‹å¿ƒæª”æ¡ˆï¼Œæ³¨æ„çœ‹æœ€ä¸Šé¢ï¼Œæ·±ç°è‰²åº•çš„æ˜¯ç¾åœ¨çš„ tab&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Day 19ï¼šè©²æ˜¯æ™‚å€™å‡ç´šä½ çš„å™´å°„å¼•æ“Žå›‰ï¼vim-emmet é‡è¤‡èˆ‡è¿­ä»£</title><link>https://blog.simbafs.cc/p/ithelp/day19/</link><pubDate>Sun, 19 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day19/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day19.png" alt="Featured image of post Day 19ï¼šè©²æ˜¯æ™‚å€™å‡ç´šä½ çš„å™´å°„å¼•æ“Žå›‰ï¼vim-emmet é‡è¤‡èˆ‡è¿­ä»£" />&lt;h2 id="é‡è¤‡">é‡è¤‡&lt;/h2>
&lt;p>å¦‚æžœæƒ³è®“æŸå€‹æ¨™ç±¤/ç¾¤çµ„é‡è¤‡ï¼Œåªè¦ç”¨ä¹˜è™Ÿ &lt;code>*&lt;/code> åŠ ä¸Šæ•¸å­—å°±å¯ä»¥è®“ä»–é‡è¤‡äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">h1.title*5 -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------ (p.artical+br)*3 -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;artical&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;artical&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;artical&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">br&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¿­ä»£">è¿­ä»£&lt;/h2>
&lt;p>åœ¨é‡è¤‡çš„æ™‚å€™ï¼Œä½ å¯èƒ½æœƒæœ‰æŸäº›åœ°æ–¹æ˜¯è¦è¦è®ŠåŒ–çš„ï¼Œä¾‹å¦‚å¾ž id å¾ž 1 é–‹å§‹éžå¢žï¼Œä½ å¯ä»¥ä½¿ç”¨éŒ¢è™Ÿ &lt;code>$&lt;/code> ä»£è¡¨è¦éžå¢žçš„ä½æ•¸&lt;br>
å¦‚æžœä½ ä¸æ˜¯è¦å¾ž 1 é–‹å§‹è¿­ä»£ï¼Œå¯ä»¥ä½¿ç”¨å°è€é¼  &lt;code>@&lt;/code> æŒ‡å®šé–‹å§‹çš„æ•¸å­—&lt;br>
å¦‚æžœè¦åè‘—æ•¸ï¼Œç”¨ &lt;code>@-&lt;/code> å¯ä»¥å€’æ•¸åˆ° 0ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥æŒ‡å®šå€’æ•¸åˆ°å¤šå°‘&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">h1#title$$*12 -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title01&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title02&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title03&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title04&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title05&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title06&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title07&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title08&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title09&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title10&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title11&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title12&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------ h1#$@10*3 -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;10&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;11&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;12&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------ h1#$@-*3 -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------ h1#$@-6*3 -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;7&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;6&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------ h$*6 -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h4&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h4&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h5&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h5&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h6&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h6&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç¯„æœ¬åŒ…åœ">ç¯„æœ¬åŒ…åœ&lt;/h2>
&lt;blockquote>
&lt;p>æˆ‘ä¸ç¢ºå®šé€™å€‹å«ä»€éº¼ï¼Œåæ­£å°±é€™æ¨£å•¦&lt;/p>
&lt;/blockquote>
&lt;p>å‰›å‰›è¬›çš„åŠŸèƒ½éƒ½åªæœ‰ç”¢ç”Ÿç©ºç™½æ¨™ç±¤ï¼Œä¸èƒ½æ‰¹æ¬¡ç”¢ç”Ÿå…§å®¹ï¼Œç¾åœ¨é€™å€‹æ±è¥¿å¯ä»¥å¿«é€ŸæŠŠå…§å®¹å’Œä½ çš„ HTML æ¨™ç±¤çµåˆï¼Œç”¢ç”Ÿç¨‹å¼ç¢¼ï¼&lt;br>
å…ˆå‡è¨­æˆ‘å€‘æœ‰å››è¡Œå…§å®¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Apple
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Book
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Cat
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Dog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘è¦å…ˆç”¨é¸å–æ¨¡å¼æŠŠä»–å€‘åŒ¡èµ·ä¾†ï¼ˆè¦å®Œæ•´çš„åŒ¡å–”ï¼Œæ²’åŒ¡åˆ°çš„åœ°æ–¹ä¸æœƒè¢«è™•ç†åˆ°ï¼‰&lt;br>
ç„¶å¾ŒæŒ‰ä¸‹å¿«æ·éµ &lt;code>&amp;lt;C-y&amp;gt;,&lt;/code>ï¼Œvim åº•ä¸‹æœƒå‡ºç¾ä¸€è¡Œ &lt;code>Tag: &lt;/code>ï¼Œé€™æ™‚å€™ä½ å¯ä»¥è¼¸å…¥ emmet ç¨‹å¼ç¢¼äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">div&amp;gt;h1.alphaBet*&amp;gt;a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¢«ä½ åŒ¡èµ·ä¾†çš„æ–‡å­—å°±æœƒä»¥è¡Œç‚ºå–®ä½æ”¾é€² HTML æ¨™ç±¤è£¡äº†ï¼Œå°±åƒé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;div&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;h1 class=&amp;#34;alphabet&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;&amp;#34;&amp;gt;Apple&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/h1&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;h1 class=&amp;#34;alphabet&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;&amp;#34;&amp;gt;Book&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/h1&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;h1 class=&amp;#34;alphabet&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;&amp;#34;&amp;gt;Cat&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/h1&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;h1 class=&amp;#34;alphabet&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;&amp;#34;&amp;gt;Dog&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/h1&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/div&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡è¦æ³¨æ„ä¸€é»žï¼Œåœ¨ emmet ä¸­è«¦ä¸€å€‹å‡ºç¾æ˜Ÿè™Ÿ &lt;code>*&lt;/code> çš„åœ°æ–¹ä»£è¡¨é€™ä¸‹é¢ï¼ˆåŒ…æ‹¬é€™å±¤ï¼‰çš„æ¨™ç±¤è¦é‡è¤‡&lt;br>
åœ¨å‰›å‰›çš„ä¾‹å­è£¡ï¼Œæ˜Ÿè™Ÿæ‰“åœ¨ &lt;code>h1&lt;/code> é€™å€‹æ¨™ç±¤ä¸Šï¼Œæ‰€ä»¥ &lt;code>h1&lt;/code> ä¹‹å¾Œçš„æ¨™ç±¤ï¼ˆ&lt;code>h1&lt;/code>ã€&lt;code>a&lt;/code>ï¼‰éƒ½æœƒé‡è¤‡ N æ¬¡ï¼ˆ N å–æ±ºæ–¼ä½ åŒ¡äº†å¹¾è¡Œï¼‰ï¼Œä¸¦ä¸”è¦å¡«å……çš„å…§å®¹æœƒæ”¾åœ¨æœ€å¾Œä¸€å±¤æ¨™ç±¤ï¼ˆ&lt;code>a&lt;/code>ï¼‰ä¸­&lt;/p>
&lt;h1 id="çµè«–">çµè«–&lt;/h1>
&lt;p>é€™å…©å¤©æˆ‘è‡ªå·±æ‰“çš„å…§å®¹å¤§æ¦‚åªæœ‰ 1/10 å§ï¼Œå‰©é¤˜çš„éƒ½æ˜¯ emmet ç”¢ç”Ÿçš„ï¼Œemmet çœŸçš„å¤ªå¥½ç”¨äº†ï¼&lt;br>
æœ‰æ²’æœ‰æ„Ÿè¦º emmet æ¯”ä½ æƒ³åƒçš„è¤‡é›œå¤šäº†ï¼Œé‚„æœ‰å¾ˆå¤šèªžæ³•æ²’è¬›åˆ°ï¼Œåƒæ˜¯ css çš„æ‹“å±•ç­‰ç­‰ï¼Œæ›´å¤šç”¨æ³•å¯ä»¥åŽ» emmet çš„ &lt;a class="link" href="https://docs.emmet.io/cheat-sheet/" target="_blank" rel="noopener"
>å®˜ç¶² https://docs.emmet.io/cheat-sheet/&lt;/a> çœ‹çœ‹å–”ï¼ˆå¾ˆå®¹æ˜“çœ‹åˆ°é ­æšˆï¼Œåˆ¥èªªæˆ‘æ²’è­¦å‘Šä½ ï¼‰&lt;/p></description></item><item><title>Day 18ï¼šå¹«ä½ çš„ HTML é–‹ç™¼è£ä¸Šå™´å°„å¼•æ“Žï¼vim-emmet</title><link>https://blog.simbafs.cc/p/ithelp/day18/</link><pubDate>Sat, 18 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day18/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day18.png" alt="Featured image of post Day 18ï¼šå¹«ä½ çš„ HTML é–‹ç™¼è£ä¸Šå™´å°„å¼•æ“Žï¼vim-emmet" />&lt;p>emmet-vim æ˜¯ emmet çš„ vim ç‰ˆæœ¬ï¼ˆé€™å¥å¥½åƒæ˜¯å»¢è©±&lt;/p>
&lt;blockquote>
&lt;p>æ³¨æ„ï¼šemmet-vim ç”¨çš„æ˜¯è‡ªå·±å¯«çš„è€Œä¸æ˜¯ç”¨ emmet.io å®˜æ–¹çš„è§£æžå¼•æ“Ž&lt;/p>
&lt;/blockquote>
&lt;p>emmet-vim æ˜¯ä¸€å¥—å¤–æŽ›ç¨‹å¼ï¼Œä»–å¯ä»¥è§£æžä¸€æ®µå­—ä¸²ï¼Œç„¶å¾Œæ ¹æ“šè¦å‰‡è®Šæˆ htmlï¼Œä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">.tab&amp;gt;(tr#col$&amp;gt;td*3)*4 æœƒè¢«è§£æžæˆ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;tab&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;col1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;col2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;col3&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">tr&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;col4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">td&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">tr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œç”¨ä¸€è¡Œçš„æŒ‡ä»¤å¯ä»¥è®Šæˆ 22 è¡Œçš„ HTMLï¼Œè€Œä¸”é‚„æœƒå¹«ä½ æŽ’ç‰ˆå¥½å–”ï¼Œæœ‰æ²’æœ‰é¦™ï¼&lt;/p>
&lt;h1 id="å®‰è£">å®‰è£&lt;/h1>
&lt;p>åœ¨ &lt;code>~/.config/nvim/plugin.vim&lt;/code> åŠ å…¥ä¸€è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ Plug &amp;#39;mattn/emmet-vim&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œè¨˜å¾—ä¿®æ”¹å¾Œéœ€è¦æ‰“æŒ‡ä»¤ &lt;code>:so % | PlugInstall&lt;/code> å®‰è£&lt;/p>
&lt;h2 id="coc-emmet">coc-emmet&lt;/h2>
&lt;p>coc-emmet æ˜¯å€‹å¯é¸å¯ä¸é¸çš„ coc æ“´å……ï¼Œå¯ä»¥è®“ä½ ä¸ç”¨æŒ‰ emmet-vim çš„å¿«æ·éµã€‚é›–ç„¶é€™å€‹æ“´å……å¹¾ä¹Žå¯ä»¥ä»£æ›¿ emmet-vimï¼Œä½†æ˜¯å› ç‚ºä»–ä¾é  coc.nvimï¼Œæ‰€ä»¥æœ‰æ™‚å€™ä»–æœƒè·³ä¸å‡ºå»ºè­°ï¼Œä¾‹å¦‚å³æ‹¬è™Ÿçµå°¾ï¼š&lt;code>(p&amp;gt;div.title$)&lt;/code>ï¼Œä½ é‚„æ˜¯åªèƒ½æŒ‰ emmet-vim çš„å¿«æ·éµ&lt;br>
é€™å€‹æ“´å……é‚„æœ‰å€‹å•é¡Œï¼Œåƒæ˜¯é€™æ¨£çš„ emmet ç¨‹å¼ç¢¼ &lt;code>(p&amp;gt;div.title$)*6&lt;/code> ç”¨ coc.nvim å±•é–‹å¾Œç”¨ &lt;code>u&lt;/code> é€€å›žï¼Œ&lt;code>*6&lt;/code> å°±ç¥žå¥‡çš„æ¶ˆå¤±äº†ï¼ï¼ˆä¹Ÿè¨±æ˜¯æˆ‘è¨­å®šçš„å•é¡Œï¼Œä½†ä¸æ˜¯ä»€éº¼å¤§å•é¡Œï¼‰&lt;br>
ç¸½è€Œè¨€ä¹‹é€™å€‹æ“´å……ç›¸ç•¶ä¸éŒ¯ï¼Œå¯ä»¥è£ä¸€ä¸‹&lt;/p>
&lt;h2 id="ç”¢ç”Ÿæ¨™ç±¤">ç”¢ç”Ÿæ¨™ç±¤&lt;/h2>
&lt;p>emmet æœ€åŸºæœ¬åŠŸèƒ½æ˜¯å¹«ä½ å¯«è§’æ‹¬è™Ÿï¼Œåƒæ˜¯é€™æ¨£&lt;br>
&lt;code>-&amp;gt;&lt;/code> å·¦é‚Šæ˜¯ emmet ç¨‹å¼ç¢¼ï¼Œå³é‚Šæ˜¯æ ¹æ“šå·¦é‚Šç”¢ç”Ÿå‡ºä¾†çš„ HTML&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">div -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å…§å®¹">å…§å®¹&lt;/h2>
&lt;p>åœ¨æ¨™ç±¤å¾Œé¢åŠ ä¸Šå¤§æ‹¬è™Ÿ &lt;code>{}&lt;/code>ï¼Œå¤§æ‹¬è™Ÿå…§çš„æ–‡å­—å°±æœƒè¢«æ”¾é€²æ¨™ç±¤è£¡é¢&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">p{hello world} -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>hello world&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å±¬æ€§">å±¬æ€§&lt;/h2>
&lt;p>ä½ å¯ä»¥å¹«æ¨™ç±¤åŠ ä¸Šå±¬æ€§ï¼Œåœ¨æ¨™ç±¤å¾Œé¢åŠ ä¸Š &lt;code>[key=value]&lt;/code> å°±å¯ä»¥æŒ‡å®šå±¬æ€§ã€‚&lt;br>
å…¶ä¸­ &lt;code>id&lt;/code> å’Œ &lt;code>class&lt;/code> å› ç‚ºå¤ªå¸¸ç”¨äº†ï¼Œæ‰€ä»¥æœ‰è‡ªå·±å°ˆå±¬çš„ç¸®å¯«ï¼Œåœ¨äº•å­—è™Ÿ &lt;code>#&lt;/code> å¾Œé¢çš„æ˜¯ &lt;code>id&lt;/code>ï¼Œåœ¨é»ž &lt;code>.&lt;/code> å¾Œé¢çš„æ˜¯ &lt;code>class&lt;/code>&lt;br>
è€Œ &lt;code>div&lt;/code> é€™å€‹æ¨™ç±¤å› ç‚ºå¾ˆå¸¸ç”¨ï¼Œæ‰€ä»¥å¦‚æžœç›´æŽ¥ç”¨äº•å­—è™Ÿæˆ–æ˜¯é»žå¯ä»¥ä¸ç”¨å¯« divï¼ˆç¬¬ä¸‰å€‹ç¯„ä¾‹ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">h1[hidden=&amp;#34;hidden&amp;#34;] -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">hidden&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;hidden&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">h1.title -&amp;gt; &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">hi&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">hi&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#username -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">button.bg-blue.round#login -&amp;gt; &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;login&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-blue round&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸¦æŽ’">ä¸¦æŽ’&lt;/h2>
&lt;p>ä½ å¯ä»¥ç”¨åŠ è™Ÿ &lt;code>+&lt;/code> è®“å…©å€‹æ¨™ç±¤ä¸¦æŽ’&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">h1+h2 -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å·¢ç‹€æ¨™ç±¤">å·¢ç‹€æ¨™ç±¤&lt;/h2>
&lt;p>å¤§æ–¼ç¬¦è™Ÿ &lt;code>&amp;gt;&lt;/code> ä»£è¡¨å³å´çš„æ¨™ç±¤åœ¨å·¦å´æ¨™ç±¤çš„è£¡é¢ï¼Œè€Œä¸”ä½ å¯ä»¥ä¸€å±¤å¥—ä¸€å±¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">div&amp;gt;span -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------ div&amp;gt;spam&amp;gt;h1&amp;gt;a -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">spam&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">spam&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------ div.main&amp;gt;h1.bg-green.bold&amp;gt;a -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;main&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-green bold&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç¾¤çµ„">ç¾¤çµ„&lt;/h2>
&lt;p>åœ¨å»ºç«‹å·¢ç‹€æ¨™ç±¤æ™‚ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨å°æ‹¬è™Ÿ &lt;code>()&lt;/code> ä¾†å»ºç«‹ç¾¤çµ„ï¼Œæ‰“ç ´åŽŸæœ¬é‹ç®—å­çš„å„ªå…ˆåº¦&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">div&amp;gt;(h1+h2) -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å‡å…§å®¹ç”¢ç”Ÿ">å‡å…§å®¹ç”¢ç”Ÿ&lt;/h2>
&lt;p>æœ‰ä¸€å€‹é‹ç®—å­åç¨±ç‰¹åˆ¥å¥‡æ€ªï¼Œä»–å¯ä»¥å¹«ä½ ç”¢ç”Ÿå‡å…§å®¹ï¼Œé‚„å¯ä»¥åŠ æ•¸å­—æŒ‡å®šå‡å…§å®¹è¦æœ‰å¹¾å€‹å–®å­—&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">lorem -&amp;gt; Sit elit consectetur ullam eius aliquam repellat! Illo quaerat quisquam minima laboriosam fugit sunt Ex
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">voluptas modi laboriosam commodi optio, sapiente. Quasi perferendis aliquam reprehenderit in praesentium Deserunt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">inventore natus. ------------ p&amp;gt;lorem4 -&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Lorem sunt esse odio?&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>ä»Šå¤©çš„å…§å®¹å·®ä¸å¤šå°±åˆ°é€™è£¡ï¼Œä½†æ˜¯ emmet ç²¾è¯çš„éƒ¨ä»½é‚„æ²’å‡ºä¾†å‘¢ï¼æ˜Žå¤©ä»Šå¤©çš„ç¨‹å¼ç¢¼ä¸€è¡Œå¯ä»¥ç”¢ç”Ÿäº”å…­è¡Œï¼ŒåŠ ä¸Šæ˜Žå¤©çš„é‡è¤‡ã€è¿­ä»£å¾Œå››äº”ç™¾è¡Œéƒ½æ˜¯å° caseï¼ˆå‘ƒï¼Œé€™éº¼é•·æœ‰é»žèª‡å¼µï¼‰&lt;/p></description></item><item><title>Day 17ï¼šcoc.nvim è¨­å®šä¸‹é›†</title><link>https://blog.simbafs.cc/p/ithelp/day17/</link><pubDate>Fri, 17 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day17/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day17.png" alt="Featured image of post Day 17ï¼šcoc.nvim è¨­å®šä¸‹é›†" />&lt;p>ä»Šå¤©çš„æ±è¥¿ç›¸ç•¶å¤šï¼Œåœ¨ &lt;a class="link" href="https://github.com/neoclide/coc.nvim#example-vim-configuration" target="_blank" rel="noopener"
>GitHub README Example&lt;/a> ä¸­é™¤äº†æ˜¨å¤©ä»‹ç´¹éŽå¾—ä»Šå¤©éƒ½æ”¶éŒ„äº†ï¼Œç›´æŽ¥é€²ä¸»é¡Œå§ï¼&lt;br>
å–”ï¼å¦å¤–æœ‰äº›æ±è¥¿æˆ‘çœŸçš„ä¸çŸ¥é“æ˜¯ä»€éº¼æˆ‘æœƒç”¨åŽŸæ–‡å¯«ä¸¦ç”¨ä¸­æ–‡æ‹¬è™Ÿæ‹¬èµ·ä¾†ï¼Œæ­¡è¿ŽçŸ¥é“çš„æœ‹å‹ç•™è¨€å‘Šè¨´æˆ‘&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; è¨­å®šæ–‡å­—ç·¨ç¢¼ï¼ˆæˆ‘æƒ³é€™å€‹ä½ çš„ init.vim/.vimrc éƒ½æ‡‰è©²æœ‰äº†ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">encoding&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">utf&lt;/span>&lt;span class="m">-8&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; å¦‚æžœ hidden æ²’æœ‰è¨­å®šï¼Œã€ŒTextEditã€å¯èƒ½æœƒå¤±æ•—&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; TextEdit ä¹Ÿè¨±æ˜¯å½ˆå‡ºå¼è¼¸å…¥æ¡†å§ï¼Ÿé˜¿ç½&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">hidden&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æœ‰äº›ä¼ºæœå™¨å°æ–¼å‚™ä»½æª”æœƒå‡ºéŒ¯ï¼Œè«‹çœ‹ issue #649&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; https://github.com/neoclide/coc.nvim/issues/649&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">nobackup&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">nowritebackup&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æŠŠä¸‹é¢çš„å‘½ä»¤æ¬„è®Šé«˜ï¼Œå¤šä¸€é»žç©ºé–“&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">cmdheight&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">2&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ä¸å‚³è¨Šæ¯çµ¦ã€Œ|ins-completion-menu|ã€ï¼ˆé€™æˆ‘çœ‹ä¸å¤ªå‡ºä¾†æœ‰ä»€éº¼å·®&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">shortmess&lt;/span>&lt;span class="p">+=&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ä½¿ç”¨ &amp;lt;c-space&amp;gt; è§¸ç™¼è‡ªå‹•å®Œæˆ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="nx">has&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;nvim&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">inoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">refresh&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">inoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">-&lt;/span>@&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">refresh&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">endif&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ç”¨ `[g` å’Œ `]g` è·³åˆ°è¨ºæ–·çš„ä½ç½®ï¼ˆå°±æ˜¯ç¨‹å¼ç¢¼æœ‰å•é¡Œåœ°æ–¹&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; ç”¨å‘½ä»¤ `:CocDiagnostics` åœ¨åˆ†å‰²è¦–çª—åˆ—å‡ºç›®å‰æª”æ¡ˆä¸­æ‰€æœ‰æœ‰å•é¡Œçš„é»ž&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> [&lt;span class="nx">g&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">diagnostic&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">prev&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> ]&lt;span class="nx">g&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">diagnostic&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ç¨‹å¼ç¢¼è½‰è·³ï¼ˆé€™å€‹æˆ‘è¦ºå¾—æœ‰é»žé›£è¨˜ï¼Œè€Œä¸”é€™å››å€‹å¯¦é©—å‡ºä¾†æ•ˆæžœéžå¸¸åƒï¼Œæˆ‘çš„å»ºè­°æ˜¯è©¦éŽå¾Œé¸ä½ è¦ºå¾—é †çœ¼çš„ï¼Œä¸è¦å…¨ä¸Š&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">gd&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">definition&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">gy&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">type&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">definition&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">gi&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">implementation&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">gr&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">references&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ç”¨ Kï¼ˆæ³¨æ„å¤§å¯«ï¼‰é¡¯ç¤ºæ–‡ä»¶åœ¨åˆ†å‰²è¦–çª—&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">K&lt;/span> :&lt;span class="nx">call&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">SID&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">show_documentation&lt;/span>&lt;span class="p">()&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">function&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="nx">s&lt;/span>:&lt;span class="nx">show_documentation&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">(&lt;/span>[&lt;span class="s1">&amp;#39;vim&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;help&amp;#39;&lt;/span>]&lt;span class="p">,&lt;/span> &amp;amp;&lt;span class="nx">filetype&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">&amp;gt;=&lt;/span> &lt;span class="m">0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">execute&lt;/span> &lt;span class="s1">&amp;#39;h &amp;#39;&lt;/span>.&lt;span class="nx">expand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;cword&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="k">elseif&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">coc&lt;/span>#&lt;span class="nx">rpc&lt;/span>#&lt;span class="nx">ready&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">call&lt;/span> &lt;span class="nx">CocActionAsync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;doHover&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="k">else&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">execute&lt;/span> &lt;span class="s1">&amp;#39;!&amp;#39;&lt;/span> . &amp;amp;&lt;span class="nx">keywordprg&lt;/span> . &lt;span class="s2">&amp;#34; &amp;#34;&lt;/span> . &lt;span class="nx">expand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;cword&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="k">endif&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">endfunction&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; çªé¡¯æ¸¸æ¨™ä¸‹çš„ç¬¦è™Ÿï¼ˆé€™æ˜¯æ·¡æ·¡çš„ç°è‰²&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">autocmd&lt;/span> &lt;span class="nx">CursorHold&lt;/span> * &lt;span class="nx">silent&lt;/span> &lt;span class="nx">call&lt;/span> &lt;span class="nx">CocActionAsync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;highlight&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æ•´ç†ç¨‹å¼ç¢¼ï¼Œä½†æ˜¯æˆ‘å€‘åœ¨ Day 15 è£éŽ Chiel92/vim-autoformat äº†ï¼Œcoc çš„ autoformat åœ¨é‡åˆ°ä¸æœƒçš„æƒ…æ³æœƒç›´ç™½çš„å™´éŒ¯æ¯”è¼ƒé†œï¼Œ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; ç›¸è¼ƒä¹‹ä¸‹ vim-autoformat æ¯”è¼ƒå¥½çœ‹ï¼Œæ‰€ä»¥æˆ‘å»ºè­°å…©å€‹é¸ä¸€å€‹ï¼Œä¸è¦éƒ½è£&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">xmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">f&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">selected&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">f&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">selected&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">augroup&lt;/span> &lt;span class="nx">mygroup&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">autocmd&lt;/span>&lt;span class="p">!&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"> &amp;#34; è¨­å®šæŒ‡å®šæª”æ¡ˆçš„ formatter&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">autocmd&lt;/span> &lt;span class="nx">FileType&lt;/span> &lt;span class="nx">typescript&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">json&lt;/span> &lt;span class="nx">setl&lt;/span> &lt;span class="nx">formatexpr&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">CocAction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;formatSelected&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"> &amp;#34; Update signature help on jump placeholder.ï¼ˆé€™å€‹çœŸçš„ä¸æœƒç¿»è­¯&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">autocmd&lt;/span> &lt;span class="nx">User&lt;/span> &lt;span class="nx">CocJumpPlaceholder&lt;/span> &lt;span class="nx">call&lt;/span> &lt;span class="nx">CocActionAsync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;showSignatureHelp&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">augroup&lt;/span> &lt;span class="nx">end&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; å°‡ codeAction æ‡‰ç”¨åˆ°é¸å–çš„å€åŸŸ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; ç¯„ä¾‹ï¼š`&amp;lt;leader&amp;gt;aap` å°æ‡‰ä¸€å€‹æ®µè½ (ap = a paragraphï¼ŒåŒç† aw = a word)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">xmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">codeaction&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">selected&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">codeaction&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">selected&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; å°‡ codeaction æ‡‰ç”¨åˆ°é€™å€‹æª”æ¡ˆ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ac&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">codeaction&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; è‡ªå‹•ä¿®è£œç›®å‰é€™è¡Œï¼ˆé€™è¦ language server æœ‰æä¾›&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">qf&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">fix&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">current&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æ˜ å°„å‡½æ•¸å’Œé¡žåˆ¥ï¼ˆå—Žï¼Ÿæ¸¬è©¦èµ·ä¾†æ€ªæ€ªçš„&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; æ³¨æ„ï¼šéœ€è¦ language server æ”¯æ´ &amp;#39;textDocument.documentSymbol&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">xmap&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">funcobj&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">omap&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">funcobj&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">xmap&lt;/span> &lt;span class="nx">af&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">funcobj&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">omap&lt;/span> &lt;span class="nx">af&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">funcobj&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">xmap&lt;/span> &lt;span class="nx">ic&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">classobj&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">omap&lt;/span> &lt;span class="nx">ic&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">classobj&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">xmap&lt;/span> &lt;span class="nx">ac&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">classobj&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">omap&lt;/span> &lt;span class="nx">ac&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">classobj&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ç”¨ CTRL-S é¸å–æ•´å€‹å‡½æ•¸æˆ–æ˜¯é¡žåˆ¥&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; éœ€è¦ language server æ”¯æ´ &amp;#39;textDocument/selectionRange&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">range&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">select&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">xmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">range&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">select&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æ–°å¢ž `:Format` å‘½ä»¤ï¼Œå’Œ Chiel92/vim-autoformat é¸ä¸€å€‹å°±è¡Œäº†&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">command&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">nargs&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="nx">Format&lt;/span> :&lt;span class="nx">call&lt;/span> &lt;span class="nx">CocAction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;format&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æ–°å¢ž `:Fold` å‘½ä»¤ï¼Œå¯ä»¥æŠ˜ç–Šç›®å‰çš„æª”æ¡ˆï¼ˆæˆ‘æ€Žéº¼æ¸¬è©¦å°±æ˜¯æŠ˜ä¸èµ·ä¾†ï¼Œä¸ç¢ºå®šåˆ°åº•åœ¨å¹¹éº»ï¼Œvim å…§å»ºä¹Ÿæœ‰æŠ˜ç–Šé˜¿ï¼Ÿ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">command&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">nargs&lt;/span>&lt;span class="p">=&lt;/span>? &lt;span class="nx">Fold&lt;/span> :&lt;span class="nx">call&lt;/span> &lt;span class="nx">CocAction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fold&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æ–°å¢ž `:OR` å‘½ä»¤ï¼Œå¯ä»¥æ•´ç†ç›®å‰æª”æ¡ˆå¼•å…¥çš„å‡½å¼åº«ï¼ˆæ¸¬è©¦ Golang æœƒåˆªæŽ‰æ²’ç”¨åˆ°çš„ä½†æ˜¯ nodejs è¦ç”¨ &amp;#39;import&amp;#39; æ‰æœƒç†äººï¼Œç”¨ &amp;#39;require&amp;#39; ä»–æœƒç•¶ä½œæ²’çœ‹åˆ°ä»€éº¼éƒ½ä¸åš&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">command&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">nargs&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="nx">OR&lt;/span> :&lt;span class="nx">call&lt;/span> &lt;span class="nx">CocAction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;runCommand&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;editor.action.organizeImport&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æ·»åŠ  (neo)vim åŽŸç”Ÿçš„ç‹€æ…‹åˆ—æ”¯æ´ï¼ˆä»–æœƒåœ¨æœ€ä¸‹é¢æä¾›ä¸€äº›è¨Šæ¯&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; æ³¨æ„ï¼šç”¨ `:h coc-status` æŒ‡ä»¤çœ‹å¦‚ä½•å’Œå…¶ä»–ç‹€æ…‹åˆ—å¤–æŽ›çµåˆ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; æä¾›ç¯„ä¾‹ï¼šlightline.vim, vim-airline.ï¼ˆå¦‚æžœä½ è¦ç”¨é€™å€‹çš„è©±è«‹å‹™å¿…çœ‹ç¯„ä¾‹ï¼Œä¸ç„¶ä½ çš„å¤–æŽ›ç­‰æ–¼ç™½è£&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">statusline&lt;/span>^&lt;span class="p">=&lt;/span>%{&lt;span class="nx">coc&lt;/span>#&lt;span class="nx">status&lt;/span>&lt;span class="p">()&lt;/span>}%{&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>:&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;coc_current_function&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>}&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; CocList çš„éµç›¤æ˜ å°„ï¼ˆCocList çš„åŠŸèƒ½æ˜¯é¡¯ç¤ºæ‰€æœ‰ XXXï¼Œæˆ‘ç­‰ç­‰å°±åªå¯« XXX çš„éƒ¨ä»½&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; è¨ºæ–·&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">a&lt;/span> :&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">CocList&lt;/span> &lt;span class="nx">diagnostics&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">cr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; æ“´å……&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">e&lt;/span> :&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">CocList&lt;/span> &lt;span class="nx">extensions&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">cr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; å‘½ä»¤&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">c&lt;/span> :&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">CocList&lt;/span> &lt;span class="nx">commands&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">cr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; å¤§ç¶±ï¼ˆå’Œ tag bar çš„åŠŸèƒ½å·®ä¸å¤šï¼Œå°±æ˜¯ä½ å®šç¾©çš„è®Šæ•¸ç‰©ä»¶å‡½æ•¸ç­‰ç­‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">o&lt;/span> :&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">CocList&lt;/span> &lt;span class="nx">outline&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">cr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; åœ¨ workspace ä¸­æ‰¾æŸå€‹è®Šæ•¸ã€å‡½æ•¸ã€ç‰©ä»¶ï¼ˆã€Œç¬¦è™Ÿã€ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">s&lt;/span> :&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">CocList&lt;/span> &lt;span class="p">-&lt;/span>&lt;span class="nx">I&lt;/span> &lt;span class="nx">symbols&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">cr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; åŸ·è¡Œé è¨­çš„ `:CocNext`&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">j&lt;/span> :&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">CocNext&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; åŸ·è¡Œé è¨­çš„ `:CocPrev&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">k&lt;/span> :&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">CocPrev&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; æ‰“é–‹ä¸Šä¸€æ¬¡çš„ `:CocList`ï¼ˆé€™å€‹æŒ‡ä»¤å¯ä»¥åˆ—å‡ºå¾ˆå¤šæ±è¥¿&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">space&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">p&lt;/span> :&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">u&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">CocListResume&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>å‘¼ï½žï¼ç¸½ç®—ç¿»è­¯å®Œäº†ï¼Œæœ‰å¹¾å€‹æˆ‘çœŸçš„çœ‹ä¸å‡ºä¾†åœ¨å¹¹å˜›çš„è¨­å®šç¿»è­¯ä¸å¤ªå¥½è«‹å„ä½è¦‹è«’ã€‚&lt;/p></description></item><item><title>Day 16ï¼šè‡ªå‹•è£œå…¨ï¼coc.nvim</title><link>https://blog.simbafs.cc/p/ithelp/day16/</link><pubDate>Thu, 16 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day16/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day16.png" alt="Featured image of post Day 16ï¼šè‡ªå‹•è£œå…¨ï¼coc.nvim" />&lt;p>ä¸€å€‹å¥½çš„è‡ªå‹•è£œå…¨å·¥å…·å¯ä»¥è®“ä½ å·¥ä½œæ•ˆçŽ‡ç¿»å€ï¼Œä½ ä¸ç”¨å†åŽ»æŸ¥æ–‡ä»¶äº†ï¼Œè‡ªå‹•è£œå…¨ä¸åƒ…å¯ä»¥å‘Šè¨´ä½ é€™è£¡æœ‰ä»€éº¼å‡½æ•¸å¯ä»¥ç”¨ï¼Œé‚„æœƒå‘Šè¨´ä½ åƒæ•¸çš„åž‹æ…‹ã€å‡½æ•¸åŠŸèƒ½çš„èªªæ˜Žï¼Œå¯ä»¥èªªæ˜¯æŠŠæ–‡ä»¶éƒ½å¯«åœ¨ vim è£¡é¢äº†ã€‚&lt;br>
ä»¥å‰æˆ‘ç”¨çš„è‡ªå‹•è£œå…¨æ˜¯ &lt;a class="link" href="https://github.com/ycm-core/YouCompleteMe" target="_blank" rel="noopener"
>You Complete Me(YCM)&lt;/a>ï¼Œç¾åœ¨æˆ‘é¸æ“‡ä½¿ç”¨ &lt;a class="link" href="https://github.com/neoclide/coc.nvim" target="_blank" rel="noopener"
>coc.nvim&lt;/a> åŽŸå› æ˜¯ä»–æä¾›æ›´å¤šçš„è£œå…¨ä¾†æºã€å¤–æŽ›å’Œè¨­å®šï¼Œè€Œä¸”å¯ä»¥ç”¨ nodejs è‡ªè£½å¤–æŽ›ï¼Œæ“šèªªæ‰€æœ‰ç´” JS å¯«çš„ VS code å¤–æŽ›éƒ½å¯ä»¥è£ï¼ˆé€™å€‹æˆ‘æ²’å¯¦é©—éŽï¼Œåªæ˜¯å‚³èžï¼‰ã€‚é—œæ–¼é€™å…©å€‹è‡ªå‹•è£œå…¨å¤–æŽ›çš„æ¯”è¼ƒç¤™æ–¼ç¯‡å¹…è«‹è‡ªè¡Œ Googleã€‚&lt;/p>
&lt;h1 id="å®‰è£">å®‰è£&lt;/h1>
&lt;p>coc.nvim å’Œä¸€èˆ¬çš„ vim å¤–æŽ›ä¸€æ¨£ï¼Œéƒ½æ˜¯ç”¨ vim-plug å®‰è£å°±å¯ä»¥äº†ï¼Œåœ¨ &lt;code>~/.config/nvim/plugin.vim&lt;/code> ä¸­æ–°å¢žä»¥ä¸‹è¨­å®š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;neoclide/coc.nvim&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> {&lt;span class="s1">&amp;#39;branch&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;release&amp;#39;&lt;/span>}&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">so&lt;/span> &lt;span class="p">~&lt;/span>&lt;span class="sr">/.config/&lt;/span>&lt;span class="nx">nvim&lt;/span>/&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">config&lt;/span>.&lt;span class="nx">vim&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚º coc æœ‰å¾ˆå¤šè¨­å®šï¼Œç‚ºäº†é¿å…æª”æ¡ˆå¤ªé›œäº‚æˆ‘æŠŠ coc ç›¸é—œçš„è¨­å®šç§»åˆ°å¦ä¸€å€‹æª”æ¡ˆï¼Œå°±åƒæˆ‘å€‘åœ¨ &lt;a class="link" href="../day14/#%E5%88%87%E5%88%86-vimrc" >å‰å¤©&lt;/a> åšå¾—ä¸€æ¨£&lt;br>
æŽ¥ä¸‹ä¾†å»ºç«‹ &lt;code>~/.config/nvim/coc-config.vim&lt;/code>ï¼Œä¸ç„¶ç­‰ç­‰è¼‰å…¥è¨­å®šæª” vim æœƒå ±éŒ¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:!&lt;/span>&lt;span class="nx">touch&lt;/span> &lt;span class="p">~&lt;/span>&lt;span class="sr">/.config/&lt;/span>&lt;span class="nx">nvim&lt;/span>/&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">config&lt;/span>.&lt;span class="nx">vim&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;code>:! {cmd}&lt;/code> å¯ä»¥åŸ·è¡Œå¤–éƒ¨å‘½ä»¤&lt;/p>
&lt;/blockquote>
&lt;p>æŽ¥ä¸‹ä¾†å­˜æª”å®‰è£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nx">w&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">PlugInstall&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è·‘å®Œå¾Œï¼Œé‡é–‹ vimï¼Œcoc å°±è£å¥½äº†&lt;/p>
&lt;h1 id="lsp-èªžè¨€ä¼ºæœå™¨å”å®š">lsp èªžè¨€ä¼ºæœå™¨å”å®š&lt;/h1>
&lt;p>åœ¨è¬› coc ä¹‹å‰å¿…é ˆå…ˆè¬› Language Server Protocolï¼Œç°¡ç¨± lspï¼Œä¸­æ–‡æ˜¯ã€Œèªžè¨€ä¼ºæœå™¨å”å®šã€ã€‚lsp åšçš„äº‹æ˜¯æä¾›è‡ªå‹•è£œå…¨å’Œ go to defï¼Œèƒ½åšåˆ°é€™å…©å€‹åŠŸèƒ½çš„åŽŸå› æ˜¯å› ç‚º lsp æ‡‚ç¨‹å¼ç¢¼ï¼Œä»–çŸ¥é“ä½ å¯«çš„æ¯å€‹å­—ä»£è¡¨ä»€éº¼ã€‚ç‚ºä»€éº¼ lsp é€™éº¼å¼·å‘¢ï¼Ÿå› ç‚º lsp ä»€éº¼éƒ½ä¸æ‡‚ï¼Œä»–æŠŠæ‰€æœ‰äº‹æƒ…ä¸Ÿçµ¦ language server è™•ç†ï¼Œæ‰€ä»¥åªè¦ä½ æœ‰è£ language serverï¼Œé‚£éº¼ lsp ä»€éº¼èªžè¨€éƒ½æ‡‚ã€‚&lt;br>
é€™éº¼ç¥žå¥‡çš„ lsp å°±æ˜¯å¤§åé¼Žé¼Žçš„ vs code æå‡ºçš„ï¼ˆé›£æ€ªæ˜¯æœ€å¤šäººç”¨çš„ç·¨è¼¯å™¨ï¼‰ï¼Œæˆ‘å€‘æ·±è€• 45 å¹´çš„ vim ç•¶ç„¶è¦è·Ÿä¸Šï¼Œæ‰€ä»¥ coc.nvim å‡ºç¾äº†ï¼Œä»–æ˜¯ä¸€å€‹ vim çš„ language clientï¼Œè€Œé‡é»žæ˜¯éžå¸¸å¥½ç”¨ï¼&lt;/p>
&lt;h1 id="å®‰è£-coc-æ“´å……">å®‰è£ coc æ“´å……&lt;/h1>
&lt;p>å‰›å‰›èªªäº† coc çš„ä¸»è¦åŠŸèƒ½æ˜¯æŠŠæ‰€æœ‰äº‹æƒ…ä¸Ÿçµ¦åˆ¥äººåšï¼Œé‚£éº¼é€™å€‹ã€Œäººã€è¨­å®šè½èµ·ä¾†å°±å¾ˆéº»ç…©ï¼Œæ‰€ä»¥ coc æœ‰å€‹å¥½ä¸»æ„ï¼Œç”¨æ“´å……ï¼ˆ extension ï¼‰è§£æ±ºï¼ä½ åªè¦è£å¥½æ“´å……å·®ä¸å¤šå°±è¨­å®šå¥½ lsp äº†&lt;br>
coc.nvim çš„è‡ªå‹•è£œå…¨é¸å­—ä¾†æºé™¤äº†ç›®å‰æ‰€æœ‰çš„ bufferï¼ˆé–‹å•Ÿçš„æª”æ¡ˆï¼‰ä¹‹å¤–ï¼Œé‚„æœ‰ coc æ“´å……ã€‚&lt;br>
coc æ“´å……å®‰è£å¾ˆç°¡å–®ï¼Œåœ¨ vim è£¡é¢ä¸‹æŒ‡ä»¤ &lt;code>:CocInstall {extension}&lt;/code>ï¼Œé‚£éº¼é€™å€‹æ“´å……çš„åå­—è©²åŽ»å“ªè£¡æ‰¾å‘¢ï¼Ÿä¸€å€‹æ˜¯ &lt;a class="link" href="https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions#implemented-coc-extensions" target="_blank" rel="noopener"
>coc.nvim çš„ GitHub Wiki&lt;/a>ï¼Œå¦ä¸€å€‹æ˜¯åŽ» &lt;a class="link" href="https://npmjs.org" target="_blank" rel="noopener"
>npm&lt;/a> æœå°‹ &lt;code>coc&lt;/code>ï¼Œç¨å¾®éŽæ¿¾ä¸€ä¸‹å¤§éƒ¨åˆ†éƒ½æ˜¯ coc.nvim çš„æ“´å……ã€‚&lt;/p>
&lt;p>å‰›å‰›è¬›çš„å®‰è£æ–¹æ³•æœ‰ä¸€å€‹ç¼ºé»žï¼Œå°±æ˜¯ç•¶ä½ ä»Šå¤©è¦æ¬é›»è…¦æ™‚ä½ è¦å…¨éƒ¨æ‰‹å‹•å†å®‰è£ä¸€æ¬¡ï¼Œé€™æ™‚å€™å°±æœ‰é»žéº»ç…©äº†ã€‚æ‰€ä»¥ä½ å¯ä»¥åœ¨ &lt;code>~/.config/nvim/coc-config.vim&lt;/code> ä¸­å¯«ä¸‹æˆ‘å€‘ç¬¬ä¸€å€‹ coc è¨­å®š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">coc_global_extensions&lt;/span> &lt;span class="p">=&lt;/span> [&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>\ &lt;span class="s1">&amp;#39;coc-extension-1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>\ &lt;span class="s1">&amp;#39;coc-extension-2&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>\ ]&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹è®Šæ•¸å„²å­˜çš„æ˜¯ coc æ“´å……çš„åå­—ï¼ˆå°±æ˜¯ä½ å®‰è£æ™‚ç”¨çš„é‚£å€‹ï¼‰ï¼Œcoc å•Ÿå‹•å¦‚æžœæ²’å®‰è£ä»–å°±æœƒè‡ªå·±åŽ»è£äº†ï¼Œæ‰€ä»¥æ‰‹å‹•å®‰è£å¥½æ“´å……å¾Œè¨˜å¾—åœ¨é€™è£¡å¯«ä¸€ä¸‹ï¼Œç‚ºä»¥å¾Œæ¬é›»è…¦åšæ‰“ç®—&lt;br>
ä½ ä¹Ÿå¯ä»¥ç”¨ &lt;code>:CocList extensions&lt;/code> åˆ—å‡ºç¾åœ¨å®‰è£çš„æ“´å……&lt;br>
è‡³æ–¼è¦è£ä»€éº¼æ“´å……ï¼Œé€™å€‹å°±è¦çœ‹ä½ è¦å¯«ä»€éº¼ç¨‹å¼èªžè¨€äº†ï¼Œè‡ªå·±åŽ»ä¸Šé¢ä»‹ç´¹çš„å…©å€‹åœ°æ–¹æ‰¾ä½ éœ€è¦çš„ï¼Œæˆ‘é€™è£¡å°±ä¸å¤šä»‹ç´¹&lt;/p>
&lt;h1 id="åŸºæœ¬è¨­å®š">åŸºæœ¬è¨­å®š&lt;/h1>
&lt;p>å› ç‚º coc å¯èƒ½æ˜¯ä½ åœ¨å¯«ç¨‹å¼æ™‚æœ€å¸¸ç”¨çš„å¤–æŽ›ï¼Œæ‰€ä»¥ç‚ºäº†é¿å…æœ‰å¿«æ·éµè¡çªï¼Œcoc é è¨­ä¸æœƒæœ‰ä»»ä½•çš„æŒ‰éµç¶å®šï¼Œæ‰€ä»¥ä½ å¿…é ˆè‡ªå·±å¯«å…¨éƒ¨çš„ keymapï¼Œåœ¨ &lt;a class="link" href="https://github.com/neoclide/coc.nvim#example-vim-configuration" target="_blank" rel="noopener"
>coc.nvim çš„ GitHub README.md&lt;/a> æœ‰ç¯„ä¾‹ï¼ŒæŽ¥ä¸‹ä¾†çš„è¨­å®šéƒ½æ˜¯å¾žé€™è£¡é¢æŒ‘å‡ºä¾†çš„ã€‚&lt;br>
ä»¥ä¸‹æ˜¯æˆ‘è¦ºå¾—å¿…é ˆçš„è¨­å®šï¼Œæˆ‘æœƒæŠŠè¨»è§£ç¿»æˆä¸­æ–‡ï¼Œæœ‰äº›åœ¨ç¯„ä¾‹ä¸Šæ¨™æ˜Žã€Œå¯èƒ½ã€ã€ã€ŒæŸäº›æƒ…æ³ã€çš„è¨­å®šæˆ‘ä¸æœƒç´é€²ä¾†ï¼Œç•¶ä½ é‡åˆ°å¥‡æ€ªå•é¡Œæ™‚å†åŽ»çœ‹çœ‹ç¯„ä¾‹å’Œ issue&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; å¤ªé•·çš„æ›´æ–°é–“éš”æœƒå°Žè‡´æ˜Žé¡¯çš„å»¶é²ä¸¦é™ä½Žä½¿ç”¨è€…é«”é©—ï¼ˆé è¨­æ˜¯ 4000 ms = 4s ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">updatetime&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">300&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æ°¸é é¡¯ç¤º signcolumnï¼ˆè¡Œè™Ÿå·¦é‚Šé‚£å€‹ï¼Œé€™æˆ‘ä¸çŸ¥é“æ€Žéº¼ç¿»ï¼‰ï¼Œå¦å‰‡æ¯ç•¶æœ‰è¨ºæ–·å‡ºä¾†æ™‚æ•´å€‹ç¨‹å¼ç¢¼å°±æœƒè¢«å¾€å³ç§»&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="nx">has&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;nvim-0.5.0&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">||&lt;/span> &lt;span class="nx">has&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;patch-8.1.1564&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"> &amp;#34; æ–°çš„ç‰ˆæœ¬å¯ä»¥æŠŠ signcolumn å’Œè¡Œè™Ÿåˆä½µï¼ˆé€™å€‹æˆ‘ç‰ˆæœ¬ä¸å¤ æ²’çœ‹éŽï¼Œæœ‰äººçŸ¥é“æœƒé•·æ€Žæ¨£å¯ä»¥ä¸‹é¢ç•™è¨€å—Žï¼Ÿï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="nx">signcolumn&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">else&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="nx">signcolumn&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">yes&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">endif&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ç”¨ tab éµè§¸ç™¼è‡ªå‹•è£œå…¨&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; æ³¨æ„ï¼šè¼‰å…¥è¨­å®šå¾Œè¨˜å¾—ç”¨å‘½ä»¤ `verbose imap &amp;lt;tab&amp;gt;` ç¢ºå®šé€™æ²’æœ‰è¢«å…¶ä»–å¤–æŽ›è¦†è“‹æŽ‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">inoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">TAB&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> \ &lt;span class="nx">pumvisible&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="s2">&amp;#34;\&amp;lt;C-n&amp;gt;&amp;#34;&lt;/span> :&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> \ &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">SID&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">check_back_space&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="s2">&amp;#34;\&amp;lt;TAB&amp;gt;&amp;#34;&lt;/span> :&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> \ &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">refresh&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">inoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">S&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">TAB&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">pumvisible&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="s2">&amp;#34;\&amp;lt;C-p&amp;gt;&amp;#34;&lt;/span> : &lt;span class="s2">&amp;#34;\&amp;lt;C-h&amp;gt;&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">function&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="nx">s&lt;/span>:&lt;span class="nx">check_back_space&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="nx">abort&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="k">let&lt;/span> &lt;span class="nx">col&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">col&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">-&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">return&lt;/span> &lt;span class="p">!&lt;/span>&lt;span class="nx">col&lt;/span> &lt;span class="p">||&lt;/span> &lt;span class="nx">getline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>[&lt;span class="nx">col&lt;/span> &lt;span class="p">-&lt;/span> &lt;span class="m">1&lt;/span>] &lt;span class="p">=~&lt;/span># &lt;span class="s1">&amp;#39;\s&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">endfunction&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; è®“ enter éµè‡ªå‹•å®Œæˆç¬¬ä¸€å€‹å»ºè­°ä¸¦è®“ coc é€²è¡Œæ ¼å¼åŒ–ï¼ˆä¸ç¢ºå®šå€‹æ ¼å¼åŒ–æŒ‡çš„æ˜¯ä»€éº¼ï¼Œæˆ‘çœ‹ä¸å¤ªå‡ºä¾†ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; enter å¯ä»¥è¢«é‡è¤‡ keymapï¼ˆçœ‹ä¸æ‡‚å°±ç®—äº†ï¼Œæ„æ€æ˜¯ä½ äº‚æžä¸æœƒå‡ºéŒ¯ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">inoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">cr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">pumvisible&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">_select_confirm&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> \: &lt;span class="s2">&amp;#34;\&amp;lt;C-g&amp;gt;u\&amp;lt;CR&amp;gt;\&amp;lt;c-r&amp;gt;=coc#on_enter()\&amp;lt;CR&amp;gt;&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ç”¨ \rn é‡æ–°å‘½åè®Šæ•¸ã€å‡½æ•¸ï¼ˆåŽŸæ–‡å¯«ã€Œç¬¦è™Ÿã€ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">rn&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Plug&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">coc&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">rename&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; é€™å€‹è®“ä½ å¯ä»¥æ²å‹•æµ®å‹•è¦–çª—å’Œè·³å‡ºå¼æ¡†æ¡†ï¼ˆæœ‰æ™‚å€™è‡ªå‹•è£œå…¨çµ¦ä½ çš„æ–‡ä»¶æœƒå¤ªé•·è¶…å‡ºèž¢å¹•ï¼Œå¦‚æžœä½ æƒ³è¦çœ‹ä¸‹é¢çš„å…§å®¹å¿…é ˆè¨­å®šé€™å€‹ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="nx">has&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;nvim-0.4.0&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">||&lt;/span> &lt;span class="nx">has&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;patch-8.2.0750&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">has_scroll&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">scroll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="p">)&lt;/span> : &lt;span class="s2">&amp;#34;\&amp;lt;C-f&amp;gt;&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">has_scroll&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">scroll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="p">)&lt;/span> : &lt;span class="s2">&amp;#34;\&amp;lt;C-b&amp;gt;&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">inoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">has_scroll&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="s2">&amp;#34;\&amp;lt;c-r&amp;gt;=coc#float#scroll(1)\&amp;lt;cr&amp;gt;&amp;#34;&lt;/span> : &lt;span class="s2">&amp;#34;\&amp;lt;Right&amp;gt;&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">inoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">has_scroll&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="s2">&amp;#34;\&amp;lt;c-r&amp;gt;=coc#float#scroll(0)\&amp;lt;cr&amp;gt;&amp;#34;&lt;/span> : &lt;span class="s2">&amp;#34;\&amp;lt;Left&amp;gt;&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">vnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">has_scroll&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">scroll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="p">)&lt;/span> : &lt;span class="s2">&amp;#34;\&amp;lt;C-f&amp;gt;&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &lt;span class="nx">vnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">silent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">nowait&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">expr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">has_scroll&lt;/span>&lt;span class="p">()&lt;/span> ? &lt;span class="nx">coc&lt;/span>#&lt;span class="nx">float&lt;/span>#&lt;span class="nx">scroll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="p">)&lt;/span> : &lt;span class="s2">&amp;#34;\&amp;lt;C-b&amp;gt;&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">endif&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>coc.nvim çš„è¨­å®šçœŸçš„å¾ˆå¤šï¼Œä¸€çœ¼çœ‹ä¸ŠåŽ»æœƒè¦ºå¾—å¾ˆç…©ï¼Œä½†æ˜¯èªçœŸçœ‹å®Œè¨­å®šå¥½å¾Œçš„ vim çœŸçš„æœƒè®“ä½ éŽå¾—éžå¸¸èˆ’æœã€‚&lt;br>
æ˜Žå¤©æ˜¯æˆ‘ä»Šå¤©æ²’æœ‰ä»‹ç´¹åˆ°çš„éƒ¨ä»½ï¼Œå¤§éƒ¨ä»½æ˜¯è¶…é›£è¨˜çš„å¿«æ·éµã€‚ä¸€æ¨£éƒ½æœƒæœ‰å…¨ä¸­æ–‡ç¿»è­¯ï¼ˆä½†æ˜¯æœ‰äº›æˆ‘çœŸçš„æ²’ç”¨éŽï¼Œåªèƒ½ç¡¬è‘—é ­çš®ç¿»è­¯äº†ï¼‰&lt;/p></description></item><item><title>Day 15ï¼švim å¤–æŽ›å¤§é›œç‡´ï¼</title><link>https://blog.simbafs.cc/p/ithelp/day15/</link><pubDate>Wed, 15 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day15/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day15.png" alt="Featured image of post Day 15ï¼švim å¤–æŽ›å¤§é›œç‡´ï¼" />&lt;p>çœ‹åˆ°é€™è£¡ï¼Œä½ å¯èƒ½é‚„æ˜¯å¾ˆç–‘æƒ‘ï¼Œåˆ°åº• vim å¥½ç”¨åœ¨å“ªï¼Ÿå˜¿å˜¿ï¼Œé‚£æ˜¯å› ç‚ºå¼·å¤§çš„å¤–æŽ›é‚„æ²’è£å•¦ï¼ç¶²è·¯ä¸Šæœƒæœ‰ä¸€äº›é…å¥½ä¸€å †å¤–æŽ›çš„ï¼Œåƒæ˜¯ &lt;a class="link" href="spacevim.org" >spaceVim&lt;/a>ï¼Œä»–å€‘çš„ç­–ç•¥å’Œ vs code å¾ˆåƒï¼Œå…ˆå¹«ä½ è£å¥½ä¸€å°å¤–æŽ›ï¼Œè®“ä½ éš¨é–‹åŠç”¨ã€‚é€™æ¨£åšå¥½è™•æ˜¯åˆå­¸è€…æ¯”è¼ƒæ„›ï¼Œä½†æ˜¯å¸¸å¸¸æœƒè£äº†ä¸€å †ç”¨ä¸åˆ°çš„åŠŸèƒ½ï¼Œåè€Œè®“è¼‰å…¥é€Ÿåº¦ã€è¨˜æ†¶é«”ç”¨é‡å¤§å¢žã€‚&lt;br>
æ‰€ä»¥æˆ‘å€‘è‡ªå·±æŒ‘æˆ‘å€‘éœ€è¦çš„å¤–æŽ›è£èµ·ä¾†ï¼Œæ•ˆæžœå®Œå…¨ä¸æœƒè¼¸ vs code é€™äº›ç¬¨é‡çš„ç·¨è¼¯å™¨ï¼&lt;br>
ä»Šå¤©è¦ä»‹ç´¹å¾ˆå¤šæ¨¡çµ„ï¼Œéƒ½æ˜¯æˆ‘é¸å‡ºä¾†è£½ä½œä¸€å€‹ç¾ä»£åŒ– IDE å¿…å‚™çš„æ¨¡çµ„ï¼Œç›¸ç•¶çš„ç²¾è¯ï¼Œä¸€èµ·ä¾†çœ‹çœ‹å§ï¼
è¨˜å¾—ä¿®æ”¹å¾Œéœ€è¦æ‰“æŒ‡ä»¤ &lt;code>:so % | PlugInstall&lt;/code>&lt;/p>
&lt;h1 id="ç¾ä»£åŒ–-ide-å¿…è£æ¨¡çµ„">ç¾ä»£åŒ– IDE å¿…è£æ¨¡çµ„&lt;/h1>
&lt;p>ä»¥ä¸‹çš„å…§å®¹ç›´æŽ¥è²¼åˆ° &lt;code>~/.config/nvim/plugin.vim&lt;/code> è£¡é¢è£æ¨¡çµ„çš„åœ°æ–¹å°±å¯ä»¥äº†ï¼Œèªªæ˜Žé™„åœ¨è£¡é¢äº†&lt;br>
æ³¨æ„ï¼šæˆ‘é€™è£¡æ²’æœ‰åˆ—å‡º Coc.nvimï¼Œå› ç‚ºæˆ‘æŠŠä»–æ‹‰å‡ºä¾†åˆ°å¦å¤–ä¸€ç« äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; å½©è‰²çš„ status bar&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;itchyny/lightline.vim&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; æœ‰é€™å€‹è¨­å®š lightline åœ¨å–®å€‹ vim è¦–çª—ä¸­æ‰æœƒæ­£å¸¸ï¼Œæ²’éŒ¯ï¼vim ä¹Ÿå¯ä»¥åˆ†å‰²è¦–çª—ï¼Œå¾Œå¤©æœƒè¬›&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">laststatus&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">2&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; åœ¨è¡Œè™Ÿå·¦å´æœƒé¡¯ç¤ºé€™è¡Œçš„ git ç‹€æ…‹ï¼Œæ–°å¢žã€åˆªé™¤ã€ä¿®æ”¹ï¼Œè©³ç´°è«‹çœ‹ GitHub README&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;airblade/vim-gitgutter&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æŒ‰ä¸‹ &amp;lt;F5&amp;gt; å¯ä»¥é–‹å•Ÿæª”æ¡ˆæ¨¹ï¼ŒæŒ‰ h æœ‰èªªæ˜Žï¼Œå†ä¸€ä¸‹é—œæŽ‰èªªæ˜Ž&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;scrooloose/nerdtree&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">F5&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> :&lt;span class="nx">NERDTreeToggle&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Exit Vim if NERDTree is the only window left.&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">autocmd&lt;/span> &lt;span class="nx">BufEnter&lt;/span> * &lt;span class="k">if&lt;/span> &lt;span class="nx">tabpagenr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="m">1&lt;/span> &amp;amp;&amp;amp; &lt;span class="nx">winnr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;$&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="m">1&lt;/span> &amp;amp;&amp;amp; &lt;span class="nx">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;b:NERDTree&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &amp;amp;&amp;amp; &lt;span class="nx">b&lt;/span>:&lt;span class="nx">NERDTree&lt;/span>.&lt;span class="nx">isTabTree&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">|&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> \ &lt;span class="nx">quit&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="k">endif&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; è‡ªå‹•æ‹¬è™Ÿ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;jiangmiao/auto-pairs&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; é€™æ˜¯è‡ªè¨‚æ‹¬è™Ÿçš„å¯«æ³•&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">au&lt;/span> &lt;span class="nx">FileType&lt;/span> &lt;span class="nx">ejs&lt;/span> &lt;span class="k">let&lt;/span> &lt;span class="nx">b&lt;/span>:&lt;span class="nx">AutoPairs&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">AutoPairsDefine&lt;/span>&lt;span class="p">(&lt;/span>{&lt;span class="s1">&amp;#39;&amp;lt;%&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;%&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;!--&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;--&amp;gt;&amp;#39;&lt;/span>}&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">au&lt;/span> &lt;span class="nx">FileType&lt;/span> &lt;span class="nx">html&lt;/span> &lt;span class="k">let&lt;/span> &lt;span class="nx">b&lt;/span>:&lt;span class="nx">AutoPairs&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">AutoPairsDefine&lt;/span>&lt;span class="p">(&lt;/span>{&lt;span class="s1">&amp;#39;&amp;lt;!--&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;--&amp;gt;&amp;#39;&lt;/span>}&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ä¹‹å‰è¬›éŽäº†ï¼Œé€™é‚Šé™„ä¸Šä¸€äº›è¨­å®š&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;preservim/nerdcommenter&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">filetype&lt;/span> &lt;span class="nx">plugin&lt;/span> &lt;span class="nx">on&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Add spaces after comment delimiters by default&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">NERDSpaceDelims&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Use compact syntax for prettified multi-line comments&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">NERDCompactSexyComs&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Align line-wise comment delimiters flush left instead of following code indentation&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">NERDDefaultAlign&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;left&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Set a language to use its alternate delimiters by default&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">NERDAltDelims_java&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Add your own custom formats or override the defaults&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">NERDCustomDelimiters&lt;/span> &lt;span class="p">=&lt;/span> { &lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>: { &lt;span class="s1">&amp;#39;left&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;/**&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;right&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;*/&amp;#39;&lt;/span> } }&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">NERDCustomDelimiters&lt;/span> &lt;span class="p">=&lt;/span> { &lt;span class="s1">&amp;#39;ejs&amp;#39;&lt;/span>: { &lt;span class="s1">&amp;#39;left&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;&amp;lt;!--&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;right&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;--&amp;gt;&amp;#39;&lt;/span> } }&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Allow commenting and inverting empty lines (useful when commenting a region)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">NERDCommentEmptyLines&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Enable trimming of trailing whitespace when uncommenting&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">NERDTrimTrailingWhitespace&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Enable NERDCommenterToggle to check all selected lines is commented or not&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">NERDToggleCheckAllLines&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">1&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æŒ‰ &amp;lt;F6&amp;gt; å¯ä»¥å›žæœ”åˆ°é–‹å•Ÿæª”æ¡ˆä»¥ä¾†çš„ä»»ä½•æ­·å²ï¼Œé‚„æœƒæ¨™å‡ºä¿®æ”¹çš„åœ°æ–¹ï¼Œå¾ˆé…·&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;mbbill/undotree&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nnoremap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">F6&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> :&lt;span class="nx">UndotreeToggle&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; &amp;lt;F8&amp;gt; çœ‹çœ‹ä½ è¨­å®šäº†å“ªäº›è®Šæ•¸ã€å‡½æ•¸ï¼Œä¹Ÿå¯ä»¥å¿«é€Ÿè·³è½‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;majutsushi/tagbar&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">F8&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> :&lt;span class="nx">TagbarToggle&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ç”¨ &amp;lt;åæ–œç·š f&amp;gt; å¯ä»¥æ•´ç†ç¨‹å¼ç¢¼ï¼ˆè¦è£ python3 å’Œ pynvimï¼Œè©³ç´°è«‹çœ‹ GitHub ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; $ python3 -m pip install pynvim&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;Chiel92/vim-autoformat&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; é€™è£¡æŒ‡å®šæˆä½ çš„ python3 è·¯å¾‘&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="nx">g&lt;/span>:&lt;span class="nx">python3_host_prog&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="s2">&amp;#34;/usr/bin/python3&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">leader&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">f&lt;/span> :&lt;span class="nx">Autoformat&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; åœ¨ä½ é–‹å•Ÿ markdown æ–‡ä»¶æ™‚æœƒé–‹å•Ÿç¶²é é è¦½ä½ çš„ markdownï¼Œæœ‰é›™èž¢å¹•æˆ–æ˜¯æŠŠç•«é¢è®“ä¸€åŠçµ¦ç€è¦½å™¨æ¯”è¼ƒå¥½ç”¨ï¼ˆéœ€è¦è£ nodejsï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; $ npm -g install instant-markdown-d&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;suan/vim-instant-markdown&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> {&lt;span class="s1">&amp;#39;for&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;markdown&amp;#39;&lt;/span>}&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; å¿«é€Ÿæ•´ç†ç¨‹å¼ç¢¼ï¼Œé€™å€‹å¤–æŽ›çš„åŠŸèƒ½è¶…å¤šï¼Œä½†æ˜¯å› ç‚ºæœ‰ autoformat æ‰€ä»¥æˆ‘åªç”¨æŽ’ md è¡¨æ ¼çš„åŠŸèƒ½ï¼Œä»–å¯ä»¥å¹«ä½ æŠŠåž‚ç›´ç·šå°é½Šï¼Œèˆ’èˆ’æœæœï¼Œè¦æ·±å…¥ä½¿ç”¨è«‹çœ‹ GitHub README&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; å…ˆç”¨é¸å–æ¨¡å¼æŠŠè¡¨æ ¼é¸èµ·ä¾†ï¼ŒæŒ‰å…©ä¸‹åæ–œç·šå°±å¯ä»¥å¾—åˆ°ä¸€å€‹æ¼‚äº®çš„è¡¨æ ¼&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;junegunn/vim-easy-align&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; Align GitHub-flavored Markdown tables&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">au&lt;/span> &lt;span class="nx">FileType&lt;/span> &lt;span class="nx">markdown&lt;/span> &lt;span class="nx">vmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Leader&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">Bslash&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> :&lt;span class="nx">EasyAlign&lt;/span>*&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">Bar&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nx">Enter&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; å¿«é€Ÿå»ºç«‹ html tagï¼Œç”¨æ³•éžå¸¸éˆæ´»ï¼Œæ˜Žå¤©æœƒå°ˆé–€è¬›ä»–çš„ç”¨æ³•&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;mattn/emmet-vim&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æžœå°æŸå€‹æ¨¡çµ„å¥½å¥‡ï¼Œæœ€å¿«çš„æ–¹å¼å°±æ˜¯åŽ» GitHub é é¢çœ‹çœ‹ï¼Œé€šå¸¸ä½œè€…éƒ½æœƒæœ‰å¾ˆè©³ç´°çš„èªªæ˜Žã€‚&lt;/p>
&lt;h1 id="èªžæ³•å¤–æŽ›">èªžæ³•å¤–æŽ›&lt;/h1>
&lt;p>æœ‰äº›æ™‚å€™ vim å°æ–¼æŸäº›ç¨‹å¼èªžè¨€çš„æ”¯æ´ä¸æ˜¯é‚£éº¼å¥½ï¼Œå¸¸æœƒæœ‰èªžæ³•çªé¡¯æœ‰å•é¡Œæˆ–æ˜¯ vim æ ¹æœ¬æ²’æœ‰æ”¯æ´é€™å€‹èªžè¨€çš„èªžæ³•çªé¡¯ã€‚é€™æ™‚å€™è£ä¸€å€‹èªžæ³•å¤–æŽ›å°±å¯ä»¥è®“ vim ç«‹åˆ»å­¸æœƒé€™é–€æ–°èªžè¨€ï¼ˆçœŸå¥½ï¼Œæˆ‘å­¸äº†åå¹´è‹±æ–‡é‚„æ˜¯å­¸ä¸å¥½ï¼‰&lt;br>
èªžæ³•å¤–æŽ›åšå¾—äº‹å…¶å¯¦å°±æ˜¯ä¿®æ­£åœ¨ &lt;a class="link" href="../day12" >ç¬¬ 12 å¤©&lt;/a> æéŽçš„ highlight groupï¼Œè®“ vim å¯ä»¥æ­£ç¢ºçš„åˆ†æžä½ çš„ç¨‹å¼ç¢¼&lt;br>
nvim 0.5 ç‰ˆæœ‰å€‹æ–°åŠŸèƒ½å«åš treesitterï¼Œä»–çš„åŠŸèƒ½å¥½åƒå’Œé€™å€‹æœ‰é—œï¼Œä½†æˆ‘æ²’é‚„ç”¨éŽï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥š&lt;br>
ä»¥ä¸‹æ˜¯æˆ‘ç”¨éŽå¾—èªžæ³•å¤–æŽ›ï¼Œé™¤éžä½ ä¹Ÿå‰›å¥½éœ€è¦ä¸ç„¶å…¶å¯¦ä¸ç”¨å®‰è£ï¼Œå¦‚æžœä½ æƒ³è¦çš„æŸå€‹èªžæ³•å¤–æŽ›ä¸åœ¨é€™è£¡é¢ï¼Œä½ å¯ä»¥ Google æœå°‹ &lt;code>vim + ç¨‹å¼èªžè¨€åç¨± + syntax&lt;/code> é€šå¸¸éƒ½æœƒæŸ¥åˆ°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; docker file&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;ekalinin/Dockerfile.vim&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; js / jsx / ts&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;pangloss/vim-javascript&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;isruslan/vim-es6&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;maxmellon/vim-jsx-pretty&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; fix jsx tag color for vim-jsx-pretty&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">hi&lt;/span> &lt;span class="nx">link&lt;/span> &lt;span class="nx">jsxPunct&lt;/span> &lt;span class="nx">Directory&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">hi&lt;/span> &lt;span class="nx">link&lt;/span> &lt;span class="nx">jsxCloseString&lt;/span> &lt;span class="nx">Directory&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;HerringtonDarkholme/yats.vim&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; css&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; é€™å€‹å¤–æŽ›å¾ˆé…·ï¼Œä»–æœƒæŠŠè¡¨ç¤ºé¡è‰²çš„å­—ä¸²ï¼Œåƒæ˜¯ `black`ã€`#991122` æ¨™ä¸Šä»–å€‘çš„é¡è‰²ï¼Œé›–ç„¶å› ç‚ºçµ‚ç«¯æ©Ÿé¡è‰²æ•¸é‡çš„å•é¡Œå¯èƒ½ä¸æœƒå¾ˆæº–ï¼Œä½†æ˜¯å¯ä»¥è®“ä½ ä¸€çœ¼å°±çœ‹å‡º `#fbcd48` æ˜¯æ©˜é»ƒè‰²&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;ap/vim-css-color&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; c / cpp&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;bfrg/vim-cpp-modern&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; toml&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;cespare/vim-toml&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Day 14ï¼švim-plug</title><link>https://blog.simbafs.cc/p/ithelp/day14/</link><pubDate>Tue, 14 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day14/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day14.png" alt="Featured image of post Day 14ï¼švim-plug" />&lt;p>å‰é¢è¬›éŽäº† zshã€tmux çš„ plugin managerï¼Œvim ä¸€æ¨£æœ‰ plguin managerã€‚è·Ÿå‰é¢å¹¾å€‹ plguin manager å¾ˆåƒï¼Œè¦å®‰è£æ–°çš„å¤–æŽ›åªéœ€è¦åœ¨æŸå€‹åœ°æ–¹åŠ ä¸€è¡Œè¨­å®šå°±å¥½ï¼Œé€™æ¨£ä½œçš„å¥½è™•æ˜¯å“ªå¤©è¦å†å»ºç«‹æ–°çš„ç’°å¢ƒæ™‚åªéœ€è¦æŠŠè¨­å®šæª”å¸¶èµ°ï¼Œè€Œä¸”é›†ä¸­å¼çš„ç®¡ç†å¯ä»¥ä¸€ç›®äº†ç„¶ã€‚&lt;/p>
&lt;h1 id="å®‰è£-vim-plug">å®‰è£ vim-plug&lt;/h1>
&lt;p>è¨˜å¾—æ˜¨å¤©çš„ vimrc æœ€ä¸Šé¢æœ‰ä¸€å€‹å‚™è¨»è§£èµ·ä¾†çš„å€å¡Šå—Žï¼Ÿé€™å°±æ˜¯è¼‰å…¥ vim-plug çš„åœ°æ–¹ï¼Œè£¡é¢å°±æœ‰å®‰è£ vim-plug çš„æŒ‡ä»¤äº†ã€‚è¦æ³¨æ„ä½ ç”¨çš„æ˜¯ neovim é‚„æ˜¯ vimï¼Œé€™å…©å€‹è·¯å¾‘ä¸ä¸€æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># neovim&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sh -c &lt;span class="s1">&amp;#39;curl -fLo &amp;#34;${XDG_DATA_HOME:-$HOME/.local/share}&amp;#34;/nvim/site/autoload/plug.vim --create-dirs \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vim&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sh -c &lt;span class="s1">&amp;#39;curl -fLo &amp;#34;${XDG_DATA_HOME:-$HOME/.local/share}&amp;#34;/nvim/site/autoload/plug.vim --create-dirs \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æŒ‘é¸ä½ çš„ vim ç‰ˆæœ¬ï¼ŒåŸ·è¡Œå®Œå°±å®‰è£å¥½äº†ï¼&lt;/p>
&lt;h1 id="å®‰è£ç¬¬ä¸€å€‹-plugin">å®‰è£ç¬¬ä¸€å€‹ plugin&lt;/h1>
&lt;p>æˆ‘å€‘é€éŽä¸€å€‹ç¯„ä¾‹ä¾†èªªæ˜Žå¦‚ä½•å®‰è£å¤–æŽ›ï¼Œæˆ‘å€‘è¦ä¾†è£çš„ç¬¬ä¸€å€‹å¤–æŽ›æ˜¯ &lt;code>preservim/nerdcommenter&lt;/code>ï¼Œé€™å€‹å¤–æŽ›å¯ä»¥å¿«é€Ÿè¨»è§£ä¸€è¡Œ/ä¸€æ•´æ®µç¨‹å¼ç¢¼ï¼Œé€™æ˜¯æˆ‘è¦ºå¾—æ¯”è‡ªå‹•è£œå…¨ã€èªžæ³•çªé¡¯éƒ½é‚„è¦å¥½ç”¨çš„åŠŸèƒ½ã€‚ç¾åœ¨æˆ‘å€‘ä¾†å®‰è£å§ï¼&lt;/p>
&lt;h2 id="1-ç·¨è¼¯-vimrc">1. ç·¨è¼¯ vimrc&lt;/h2>
&lt;p>æ‰“é–‹ä½ çš„ vimrcï¼ŒæŠŠä»¥ä¸‹å…§å®¹åŠ åœ¨æœ€ä¸‹é¢&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">call plug#begin(&amp;#39;~/.vim/plugged&amp;#39;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">call plug#end()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥å¾Œæ‰€æœ‰ plugin çš„å®‰è£è¨­å®šå°±è¦æ”¾åœ¨é€™å…©è¡Œè£¡é¢&lt;/p>
&lt;h2 id="åŠ ä¸Š-preservimnerdcommenter">åŠ ä¸Š &lt;code>preservim/nerdcommenter&lt;/code>&lt;/h2>
&lt;p>ç¾åœ¨åœ¨å…©å€‹ &lt;code>call&lt;/code> ä¸­é–“æ’å…¥ä»¥ä¸‹é€™è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Plug &amp;#39;preservim/nerdcommenter&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œå­˜æª”ï¼Œé€™æ¨£å°±ç®—è¨­å®šå¥½äº†&lt;/p>
&lt;h2 id="å®‰è£å¥—ä»¶">å®‰è£å¥—ä»¶&lt;/h2>
&lt;p>ç¾åœ¨åœ¨ vim è£¡é¢ä¸‹ä»¥ä¸‹å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">:so %
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">:PlugInstall
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¬¬ä¸€å€‹æ˜¯è®“ vim è¼‰å…¥æ–°å¢žçš„å¤–æŽ›åˆ—è¡¨ï¼Œæˆ–æ˜¯ä½ é‡é–‹ vim ä¹Ÿå¯ä»¥ã€‚å…¶ä¸­ &lt;code>so&lt;/code> æ˜¯ &lt;code>source&lt;/code> çš„ç¸®å¯«&lt;br>
é€™å€‹å‘½ä»¤æœƒè®“ vim-plug æª¢æŸ¥æœ‰æ²’æœ‰æ–°å¢žçš„å¤–æŽ›ï¼Œç„¶å¾Œå®‰è£ã€‚ç­‰å·¦é‚Šçš„è¦–çª—éƒ½è·‘å®Œäº†å°±å¯ä»¥æŒ‰ &lt;code>q&lt;/code> é—œæŽ‰ï¼Œé€™æ™‚å€™é‡é–‹ vim å°±å®‰è£å¥½å¤–æŽ›äº†ï¼&lt;/p>
&lt;h1 id="ä½¿ç”¨-preservimnerdcommenter">ä½¿ç”¨ &lt;code>preservim/nerdcommenter&lt;/code>&lt;/h1>
&lt;p>é€™è£¡ç°¡å–®æ•™ä¸€ä¸‹æ€Žéº¼ä½¿ç”¨é€™å€‹æ–¹ä¾¿çš„å¤–æŽ›
ç”¨ &lt;!-- raw HTML omitted -->\&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->c&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->space&lt;!-- raw HTML omitted --> å¯ä»¥è¨»è§£/å–æ¶ˆè¨»è§£æ¸¸æ¨™æ‰€åœ¨é€™é€™è¡Œã€‚
å¦‚æžœç”¨ &lt;!-- raw HTML omitted -->v&lt;!-- raw HTML omitted --> é¸å–çš„è©±ï¼Œåªè¦æœ‰é¸åˆ°çš„è¡Œï¼ˆä¸è«–æ˜¯å¦å®Œæ•´æ¡†èµ·ï¼‰ï¼Œ&lt;!-- raw HTML omitted -->\&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->c&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->space&lt;!-- raw HTML omitted --> å°±å¯ä»¥ä¸€æ¬¡è¨»è§£/å–æ¶ˆè¨»è§£å¤šè¡Œ&lt;br>
å†æŒ‰çš„æ™‚å€™è¦æ³¨æ„ï¼Œå¦‚æžœæ‰‹æ»‘æ²’æŒ‰åˆ°åæ–œç·šæœƒè®“ vim ä»¥ç‚ºä½ è¦åŸ·è¡Œ &lt;code>c&lt;/code> æŒ‡ä»¤ï¼Œ&lt;!-- raw HTML omitted -->c&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->space&lt;!-- raw HTML omitted --> æœƒæŠŠä¸€å€‹å­—åˆªæŽ‰ä¸¦é€²å…¥ç·¨è¼¯æ¨¡å¼ï¼Œé€™æ™‚å€™ä½ å¯ä»¥é¸æ“‡æ‰‹å‹•æŠŠå­—åŠ å›žåŽ»æˆ–æ˜¯ç”¨ &lt;code>u&lt;/code> undo æŒ‡ä»¤ä¾†å›žå¾©ï¼Œå›žå¾©å¥½äº†ä¹‹å¾Œå†é‡æ–°æŒ‰ä¸€æ¬¡ &lt;!-- raw HTML omitted -->\&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->c&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->space&lt;!-- raw HTML omitted --> å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>preservim/nerdcommenter&lt;/code> çš„ &lt;a class="link" href="https://github.com/preservim/nerdcommenter#default-mappings" target="_blank" rel="noopener"
>github é é¢&lt;/a> æœ‰æ›´å¤šçš„å¿«æ·éµèªªæ˜Žï¼Œé€™é‚Šå°±ä»‹ç´¹æˆ‘æœ€å¸¸ç”¨ä¹Ÿæ˜¯å”¯ä¸€æœ‰åœ¨ç”¨çš„ï¼Œå…¶ä»–å¦‚æžœä½ è¦ºå¾—ä¸éŒ¯å†è‡ªå·±è¨˜å°±å¥½äº†ï¼Œvim çš„å¿«æ·éµ/å‘½ä»¤è²´åœ¨ç²¾ä¸åœ¨å¤šï¼Œå¤šäº†åè€Œå®¹æ˜“å¿˜&lt;/p>
&lt;h1 id="é—œæ–¼å¤–æŽ›çš„è¨­å®š">é—œæ–¼å¤–æŽ›çš„è¨­å®š&lt;/h1>
&lt;p>åœ¨ &lt;code>preservim/nerdcommenter&lt;/code> çš„ README.md ä¸­æåˆ°ï¼Œè¦åŠ ä¸€æ¢è¨­å®š &lt;code>filetype plugin on&lt;/code> æ‰èƒ½ç¢ºä¿åœ¨ä¸åŒç¨‹å¼èªžè¨€ä¸­æ­£å¸¸é‹ä½œï¼Œé‚£é€™è¡Œè¦åŠ åœ¨å“ªè£¡æ¯”è¼ƒå¥½å‘¢ï¼Ÿä»¥ vim çš„è§€é»žä¾†çœ‹ï¼Œvimrc ä¸­ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ï¼Œä½†æ˜¯å¤–æŽ›ä¸€å¤šä½ å°±æœƒç™¼ç¾äº‚æ”¾çš„è©±æœƒä¸å¥½ç®¡ç†ã€‚æˆ‘æŽ¨è–¦ä¸€å€‹åœ°æ–¹â€”â€”å®‰è£å¤–æŽ›çš„ä¸‹é¢ä¸€è¡Œé–‹å§‹ï¼Œé€™æ¨£ä¸åŒçš„å¤–æŽ›çš„è¨­å®šå°±æœƒéƒ½åˆ†é–‹ï¼Œè¬ä¸€å“ªä¸€å¤©è¦ä¿®æ”¹æˆ–æ˜¯ç§»é™¤éƒ½å¾ˆæ¸…æ¥šã€‚&lt;/p>
&lt;h1 id="åˆ‡åˆ†-vimrc">åˆ‡åˆ† vimrc&lt;/h1>
&lt;p>å¤–æŽ›è£å¤šäº† vimrc å°±æœƒè®Šå¾—å¾ˆé•·ï¼Œä¸€å †ä¸é‡è¦ä¸å¸¸ç”¨çš„å¤–æŽ›è¨­å®šæœƒå…¨éƒ¨å¡žåœ¨åŒä¸€å€‹æª”æ¡ˆè£¡é¢ã€‚æˆ‘å€‘å¯ä»¥æ ¹æ“šåŠŸç”¨çš„ä¸åŒåˆ†é–‹æ”¾åœ¨ä¸åŒçš„æª”æ¡ˆï¼Œå¦‚æ­¤ä¸€ä¾†å°±æœƒæ¯”è¼ƒå¥½æ‰¾ç›¸é—œçš„è¨­å®šåœ¨å“ªè£¡&lt;br>
æˆ‘å€‘å…ˆæŠŠ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">call plug#begin(&amp;#39;~/.vim/plugged&amp;#39;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Plug &amp;#39;preservim/nerdcommenter&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">filetype plugin on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">call plug#end()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ®µå‰ªä¸‹ï¼Œæ”¾åˆ°å¦ä¸€å€‹æª”æ¡ˆè£¡é¢ï¼Œç„¶å¾Œåœ¨ vimrc æœ€ä¸‹é¢åŠ ä¸Šä¸€è¡Œ &lt;code>so ~/.config/nvim/plugin.vim&lt;/code> æˆ–æ˜¯ &lt;code>so ~/.vim/plugin.vim&lt;/code>ï¼ˆæ ¹æ“šä½ çš„ vim ä¸åŒè·¯å¾‘ä¸åŒï¼Œå‰é¢ nvim å¾Œé¢ vimï¼‰
ï¼Œä»¥ä¸‹æ˜¯ vim çš„æŒ‰éµæ“ä½œï¼Œè§’æ‹¬è™Ÿä¸­çš„æ˜¯ç‰¹æ®ŠæŒ‰éµ&lt;br>
å…ˆç”¨ &lt;code>S-v&lt;/code> æŠŠè¦å‰ªä¸‹çš„æ®µè½é¸èµ·ä¾†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-mysql" data-lang="mysql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">doso&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">~/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">nvim&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">plguin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">vim&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">esc&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">enter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">é€™è£¡&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">vimrc&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">çš„æ“ä½œå°±çµæŸäº†ï¼Œ&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ˜¯å‰ªä¸‹ï¼Œ&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ˜¯ã€Œåœ¨æ–°å¢žä¸€è¡Œä¸¦é€²å…¥ç·¨è¼¯æ¨¡å¼ã€ï¼Œä¹‹å¾Œåˆ°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">esc&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">ä¹‹å‰çš„å°±æ˜¯æ–°å¢žçš„å…§å®¹ï¼Œæœ€å¾Œå†å„²å­˜&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">~/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">nvim&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">plugin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">vim&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">enter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">enter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="err">åœ¨é€™è£¡ç”¨&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">é–‹å•Ÿæª”æ¡ˆï¼Œ&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è²¼ä¸Šå‰›å‰›å‰ªä¸‹çš„å…§å®¹ï¼Œ&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">å­˜æª”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹å¾Œä½ è¦å¤–æŽ›ç›¸é—œçš„è¨­å®šå°±ä¸æ˜¯åœ¨ vimrc äº†ï¼Œè€Œæ˜¯åœ¨ plugin.nvim è£¡é¢ï¼Œè¨˜å¾—å¦‚æžœè¦å‚™ä»½çš„è©±è¦æŠŠé€™å€‹æª”æ¡ˆä¹Ÿå‚™ä»½åˆ°å–”&lt;/p>
&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>ä»Šå¤©çš„å…§å®¹ç©¿æ’äº†ä¸€äº› vim çš„æŒ‡ä»¤ï¼Œå¦‚æžœå¾ˆé›£ç†è§£çš„è©±å»ºè­°ä½ è¦ä¸€å€‹å­—æ¯ä¸€å€‹å­—æ¯æ‹†é–‹çœ‹ï¼Œç‚ºä»€éº¼å‘¢ï¼Ÿä¾‹å¦‚ &lt;code>ddo&lt;/code> é€™å€‹æŒ‡ä»¤ï¼Œä½ ä»¥ç‚ºå¯èƒ½æ˜¯è¦ã€Œåšï¼ˆdoï¼‰ã€ä»€éº¼äº‹ï¼Œå…¶å¯¦é€™æ˜¯ &lt;code>dd&lt;/code> å’Œ &lt;code>o&lt;/code> ä¸€èµ·å¯«ï¼Œæ„æ€æ˜¯ã€Œå‰ªä¸‹ä¸€è¡Œã€å†ã€Œæ–°å¢žä¸€è¡Œä¸¦é€²å…¥ç·¨è¼¯æ¨¡å¼ã€ã€‚&lt;/p></description></item><item><title>Day 13ï¼švim è¨­å®šæª”</title><link>https://blog.simbafs.cc/p/ithelp/day13/</link><pubDate>Mon, 13 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day13/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day13.png" alt="Featured image of post Day 13ï¼švim è¨­å®šæª”" />&lt;p>vim åœ¨å•Ÿå‹•æ™‚ï¼Œéƒ½æœƒåŽ»&lt;strong>åŸ·è¡Œä½ çš„è¨­å®šæª”&lt;/strong>ï¼Œé€™å€‹æª”æ¡ˆ&lt;strong>æ ¹æ“šä½ çš„ vim è»Ÿé«”ä¸åŒè€Œæ”¹è®Š&lt;/strong>ï¼Œå¦‚æžœæ˜¯ä¸€èˆ¬çš„ vimï¼Œé‚£ä»–æœƒåŽ»è®€ &lt;code>~/.vimrc&lt;/code>ï¼Œå¦‚æžœæ˜¯ neovim(nvim)ï¼Œä»–æœƒåŽ»æ‰¾ &lt;code>~/.config/nvim/init.vim&lt;/code>ã€‚åœ¨æŽ¥ä¸‹ä¾†çš„æ–‡ç« ä¸­éƒ½ä»¥ &lt;code>vimrc&lt;/code> ä»£æŒ‡ã€‚&lt;br>
&lt;code>vimrc&lt;/code> å…§å®¹æ˜¯ vimscriptï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰çš„å†’è™Ÿå‘½ä»¤&lt;strong>åŽ»æŽ‰å†’è™Ÿä¹‹å¾Œçš„å…§å®¹&lt;/strong>ï¼Œä¾‹å¦‚æœ‰å€‹å‘½ä»¤æ˜¯ &lt;code>:set nu&lt;/code>ï¼Œé€™å€‹å‘½ä»¤å¯ä»¥é–‹å•Ÿè¡Œè™Ÿé¡¯ç¤ºï¼Œå¦‚æžœè¦å¯«åœ¨ &lt;code>vimrc&lt;/code> è£¡é¢ï¼Œå°±è¦å¯«æˆ &lt;code>set nu&lt;/code>ã€‚&lt;/p>
&lt;h1 id="vimrc">vimrc&lt;/h1>
&lt;p>é€šå¸¸æˆ‘å€‘æœƒåœ¨ &lt;code>vimrc&lt;/code> ä¸­è¨­å®šé—œæ–¼ vim çš„&lt;strong>å¤–è§€&lt;/strong>ã€&lt;strong>è¡Œç‚º&lt;/strong>ã€&lt;strong>è¼‰å…¥å¤–æŽ›&lt;/strong>ç­‰ç­‰ï¼ŒæŽ¥ä¸‹ä¾†æ˜¯æˆ‘ç”¨å¤šå¹´çš„ vimrc çš„å…§å®¹ï¼Œæˆ‘æœƒä¸€å€‹ä¸€å€‹ç”¨è¨»è§£è§£èªªä»–å€‘çš„ç”¨è™•(é›™å¼•è™Ÿ &lt;code>&amp;quot;&lt;/code> é–‹é ­æ˜¯ vimscript çš„è¨»è§£)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; æ‰“é–‹èªžæ³•çªé¡¯&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">syntax&lt;/span> &lt;span class="nx">on&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; load plguin&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; install vim-plug:&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; sh -c &amp;#39;curl -fLo &amp;#34;${XDG_DATA_HOME:-$HOME/.local/share}&amp;#34;/nvim/site/autoload/plug.vim --create-dirs \&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; é€™å€‹æ˜¯æ˜Žå¤©çš„æ±è¥¿ï¼Œå…ˆè¨»è§£æŽ‰ï¼Œæ‰ä¸æœƒå‡ºéŒ¯&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; so ~/.config/nvim/plugin.vim&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; 256 è‰²&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">t_Co&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">256&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; è§£æ±ºå’Œ tmux è¡çªï¼Œhttps://vi.stackexchange.com/questions/238/tmux-is-changing-part-of-the-background-in-vim&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">t_ut&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; é¸ä¸€å€‹ä½ å–œæ­¡çš„ colorschema&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; available color schema&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; blue darkblue default delek desert elflord evening industry koehler&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; morning murphy pablo peachpuff ron shine slate torte zellner&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">colorscheme&lt;/span> &lt;span class="nx">koehler&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; é›œé …è¨­å®šï¼Œè©³ç´°è§£èªªè«‹ç”¨ `:help &amp;lt;opeion&amp;gt;`ï¼Œä¾‹å¦‚ `:help showcmd`&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">showcmd&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">nu&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">tabstop&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">4&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">shiftwidth&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">4&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">autoindent&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">nowrap&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">incsearch&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">autoindent&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">cindent&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">smartindent&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">cursorline&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; make lightline work in single screen&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; https://github.com/itchyny/lightline.vim/issues/71#issuecomment-47859569&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">laststatus&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">2&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; é–‹å•Ÿæ»‘é¼ åŠŸèƒ½ï¼Œå°åˆå­¸è€…ä¾†èªªéžå¸¸å¥½ç”¨&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">set&lt;/span> &lt;span class="nx">mouse&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; markdown&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; å¦‚æžœæ˜¯æª”æ¡ˆé¡žåž‹æ˜¯ markdown æˆ– textï¼Œæ‰“é–‹æ–‡å­—æŠ˜ç–Šï¼ˆè¶…å‡ºèž¢å¹•å¯¬åº¦æœƒæŠ˜åˆ°ä¸‹ä¸€è¡Œï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; au çš„èªžæ³•ç­‰ç­‰æœƒè¬›&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">au&lt;/span> &lt;span class="nx">FileType&lt;/span> &lt;span class="nx">markdown&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="nx">wrap&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">au&lt;/span> &lt;span class="nx">FileType&lt;/span> &lt;span class="nx">text&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="nx">wrap&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ejs&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; ä¸åŠ é€™å€‹çš„è©± ejs çš„èªžæ³•çªé¡¯æœƒå¾ˆå¥‡æ€ªï¼Œé †ä¾¿é™„å¸¶ä¸€å€‹ ft, filetype çš„å‘&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; https://vi.stackexchange.com/questions/16341/what-is-the-difference-between-set-ft-and-setfiletype&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">au&lt;/span> &lt;span class="nx">BufNew&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">BufNewFile&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">BufRead&lt;/span> *.&lt;span class="nx">ejs&lt;/span> :&lt;span class="nx">set&lt;/span> &lt;span class="nx">filetype&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">ejs&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">au&lt;/span> &lt;span class="nx">FileType&lt;/span> &lt;span class="nx">ejs&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="nx">syntax&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; ts&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; é€™åªæ˜¯å› ç‚ºæˆ‘æ¯”è¼ƒå–œæ­¡ vim å° javascript çš„é…è‰²ï¼Œtypesript çš„æˆ‘è¦ºå¾—å¾ˆé†œï¼Œæ‰€ä»¥å¼·åˆ¶ vim ç”¨ javascript çš„é…è‰²&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; au å°±æ˜¯ autocmd çš„ç¸®å¯«å•¦ï¼ï¼ˆvim å¹¾ä¹Žæ¯å€‹è¶…éŽä¸‰å€‹å­—çš„å‘½ä»¤ã€é¸é …éƒ½æœ‰ç¸®å¯«ï¼Œå¯«ç¨‹å¼çš„äººéƒ½å¾ˆæ‡¶XDï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">autocmd&lt;/span> &lt;span class="nx">BufNewFile&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">BufRead&lt;/span> *.&lt;span class="nx">ts&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="nx">syntax&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">javascript&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; yaml&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; yaml æ©Ÿè»Šçš„ç©ºæ ¼é™åˆ¶ï¼Œé€™æ¨£åœ¨å¯« yaml æª”æ™‚æ¯”è¼ƒæ–¹ä¾¿&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">autocmd&lt;/span> &lt;span class="nx">FileType&lt;/span> &lt;span class="nx">yaml&lt;/span> &lt;span class="nx">setlocal&lt;/span> &lt;span class="nx">ts&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">2&lt;/span> &lt;span class="nx">sts&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">2&lt;/span> &lt;span class="nx">sw&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">2&lt;/span> &lt;span class="nx">expandtab&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; hotkey&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; é€™é‚Šæ˜¯è‡ªè¨‚å¿«æ·éµï¼Œèªžæ³•ç­‰ç­‰æœƒè¬›ï¼Œé€™é‚Šåªèªªæ˜Žç”¨æ³•&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; åœ¨å‘½ä»¤æ¨¡å¼æŒ‰ &amp;lt;tab&amp;gt; æœƒæŠŠæ•´è¡Œå­—å‘å³ç§»ä¸€å€‹ tabã€‚&amp;lt;S-tab&amp;gt; æœƒç§»å›žä¾†&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">map&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">tab&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> :&lt;span class="nx">s&lt;/span>&lt;span class="sr">/^/&lt;/span>\&lt;span class="nx">t&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">map&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">S&lt;/span>&lt;span class="p">-&lt;/span>&lt;span class="nx">tab&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> :&lt;span class="nx">s&lt;/span>&lt;span class="sr">/^\t/&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; å¦‚æžœè¦å¾žç³»çµ±å‰ªè²¼ç°¿è²¼ä¸Šå¤šè¡Œç¨‹å¼ç¢¼ï¼Œå»ºè­°é€™æ¨£ç”¨ï¼Œæ‰ä¸æœƒè¢« vim çš„è‡ªå‹•ç¸®æŽ’é›·åˆ°ï¼ˆä½ è©¦è©¦å°±çŸ¥é“æ˜¯ä»€éº¼å•é¡Œï¼Œå¾ˆè¨ŽåŽ­ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">F3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> :&lt;span class="nx">r&lt;/span>&lt;span class="p">!&lt;/span> &lt;span class="nx">cat&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; åˆ‡æ›è¡Œè™Ÿï¼Œåœ¨è¤‡è£½åˆ°ç³»çµ±éµè²¼ç°¿æ™‚å¾ˆå¥½ç”¨ï¼Œé€™æ¨£å°±ä¸æœƒè¤‡è£½åˆ°è¡Œè™Ÿ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">F7&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> :&lt;span class="nx">set&lt;/span> &lt;span class="nx">invnumber&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; æ¸…é™¤æœå°‹çµæžœçš„èªžæ³•çªé¡¯&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="nx">cs&lt;/span> :&lt;span class="nx">noh&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nx">CR&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; alias&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; å†’è™Ÿå‘½ä»¤çš„åˆ¥åï¼Œèªžæ³•ç­‰ç­‰æœƒè¬›&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; å¸¸ç”¨å°±çŸ¥é“ç‚ºä»€éº¼è¦è¨­é€™å€‹ï¼ˆæŒ‰å†’è™Ÿæ™‚è¦æŒ‰ &amp;lt;shift&amp;gt;ï¼Œç„¶å¾Œä¸‹ä¸€å€‹å­—å°±å¾ˆå¸¸è®Šå¤§å¯«ï¼Œç°¡ç¨±æ‰‹æ®˜ï¼‰&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">command&lt;/span> &lt;span class="nx">W&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">command&lt;/span> &lt;span class="nx">Q&lt;/span> &lt;span class="nx">q&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">command&lt;/span> &lt;span class="nx">Wq&lt;/span> &lt;span class="nx">wq&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">command&lt;/span> &lt;span class="nx">WQ&lt;/span> &lt;span class="nx">wq&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;#34; fix bg color error in Pmenu&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; é€™å€‹åªæ˜¯é¡¯ç¤ºå•é¡Œï¼Œæœ‰æ™‚å€™èƒŒæ™¯è‰²å’Œå‰æ™¯è‰²ä¸€æ¨£ä½ å°±çœ‹ä¸åˆ°å­—äº†ï¼Œæ‰€ä»¥è¦è‡ªå·±æŠŠä»–æ›æŽ‰ï¼Œèªžæ³•ç­‰ç­‰æœƒè¬›&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c">&amp;#34; https://vi.stackexchange.com/questions/23328/change-color-of-coc-suggestion-box&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">hi&lt;/span> &lt;span class="nx">Pmenu&lt;/span> &lt;span class="nx">ctermbg&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">black&lt;/span> &lt;span class="nx">ctermfg&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">white&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">hi&lt;/span> &lt;span class="nx">Ignore&lt;/span> &lt;span class="nx">ctermbg&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">black&lt;/span> &lt;span class="nx">ctermfg&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">lightblue&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="command">command&lt;/h2>
&lt;p>æˆ‘å€‘å¾žæœ€ç°¡å–®çš„å‘½ä»¤åˆ¥åè¬›èµ·ï¼Œé€™å€‹å‘½ä»¤å¯ä»¥ç¸®å¯«æˆ &lt;code>com&lt;/code>&lt;br>
é€™å€‹å‘½ä»¤å¯ä»¥å®šç¾© &lt;strong>ã€Œä½¿ç”¨è€…è‡ªè¨‚å‘½ä»¤ã€&lt;/strong>&lt;br>
ä½¿ç”¨è€…è‡ªè¨‚å‘½ä»¤ä¸€å®šè¦æ˜¯&lt;strong>å¤§å¯«&lt;/strong>é–‹é ­&lt;/p>
&lt;h3 id="åˆ—å‡ºå‘½ä»¤">åˆ—å‡ºå‘½ä»¤&lt;/h3>
&lt;p>&lt;code>:verbose com [cmd]&lt;/code>
é€™å€‹å¯ä»¥åˆ—å‡ºç¬¦åˆ &lt;code>[cmd]&lt;/code> çš„ä½¿ç”¨è€…è‡ªè¨‚å‘½ä»¤ï¼Œé‚„æœ‰&lt;strong>æœ€å¾Œå®šç¾©çš„ä½ç½®&lt;/strong>&lt;/p>
&lt;h3 id="å®šç¾©æ–°çš„ä½¿ç”¨è€…è‡ªè¨‚å‘½ä»¤">å®šç¾©æ–°çš„ä½¿ç”¨è€…è‡ªè¨‚å‘½ä»¤&lt;/h3>
&lt;p>&lt;code>:commmand {cmd} {rep}&lt;/code>
é€™å€‹æœƒè¨­å®š &lt;code>{cmd}&lt;/code> çš„åˆ¥å &lt;code>{rep}&lt;/code>&lt;/p>
&lt;h2 id="autocmd">autocmd&lt;/h2>
&lt;p>autocmd æ˜¯åœ¨æŸç¨®é¡žåž‹çš„æª”æ¡ˆè¼‰å…¥æ™‚è‡ªå‹•åŸ·è¡Œå‘½ä»¤ç”¨çš„ï¼Œå¯ä»¥ç¸®å¯«æˆ &lt;code>au&lt;/code>&lt;br>
au çš„ä½¿ç”¨å ´æ™¯é€šå¸¸æ˜¯æŸå€‹é¡žåž‹çš„èªžæ³•çªé¡¯æœƒå‡ºå•é¡Œã€æƒ³è¦æ ¹æ“šæª”æ¡ˆé¡žåž‹å¥—ç”¨ä¸åŒè¨­å®šï¼Œç°¡å–®çš„èªžæ³•å¦‚ä¸‹&lt;br>
&lt;code>au [æ¢ä»¶] [...å‘½ä»¤]&lt;/code>&lt;br>
æ¢ä»¶é€šå¸¸é•·é€™æ¨£ï¼Œ &lt;code>FileType javascript&lt;/code>&lt;br>
å‘½ä»¤å°±æ˜¯å†’è™Ÿå‘½ä»¤é™¤äº†å†’è™Ÿçš„éƒ¨ä»½&lt;/p>
&lt;h2 id="map">map&lt;/h2>
&lt;p>map çš„åŠŸèƒ½æ˜¯å®šç¾©ä¸æ˜¯å†’è™Ÿé–‹é ­çš„å‘½ä»¤ï¼ˆåƒæ˜¯ &lt;code>dd&lt;/code> é€™ç¨®ï¼Œåœ¨å‰å¹¾ç¯‡æ–‡ç« ä¸­ç¨±ç‚ºå¿«æ·éµï¼‰ï¼Œmap åˆæ ¹æ“šä½œç”¨çš„æ¨¡å¼åˆ†ç‚º &lt;code>nmap&lt;/code>ã€&lt;code>vmap&lt;/code>ã€&lt;code>imap&lt;/code> ç­‰ç­‰éžå¸¸å¤šç¨®ï¼ˆ&lt;code>:help map&lt;/code> æœƒåˆ—å‡ºæ‰€æœ‰ map ï¼‰ã€‚å…¶ä¸­æœ€å¸¸ç”¨çš„æ˜¯ &lt;code>map&lt;/code>ã€&lt;code>nmap&lt;/code>ã€&lt;code>imap&lt;/code>ï¼Œé€™ä¸‰å€‹åˆ†åˆ¥ä»£è¡¨åœ¨ã€Œé™¤äº†ç·¨è¼¯æ¨¡å¼ä¸­ä½œç”¨ã€ã€ã€Œå‘½ä»¤æ¨¡å¼ï¼ˆ n ï¼‰ä½œç”¨ã€ã€ã€Œåœ¨ç·¨è¼¯æ¨¡å¼ä½œç”¨ï¼ˆ i ï¼‰ã€ã€‚&lt;br>
å„ç¨® map &lt;strong>ç”¨æ³•éƒ½ä¸€æ¨£ï¼Œå·®åˆ¥åªåœ¨ä½œç”¨æ¨¡å¼ä¸åŒ&lt;/strong>&lt;/p>
&lt;h3 id="åˆ—å‡º-map">åˆ—å‡º map&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">nmap&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">imap&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®šç¾©-map">å®šç¾© map&lt;/h3>
&lt;p>&lt;code>map {å¿«æ·éµ} {å‘½ä»¤}&lt;/code>&lt;br>
{å¿«æ·éµ} æ˜¯ vim çš„æŒ‰éµçµ„åˆï¼Œå…¶ä¸­ &lt;code>imap&lt;/code> ç”¨çš„å¤§å¤šéƒ½è¦åŠ  &lt;!-- raw HTML omitted --> æˆ–æ˜¯ &lt;!-- raw HTML omitted -->ï¼Œå¦å‰‡æœƒæ²’ç”¨
{å‘½ä»¤} æ˜¯ vim çš„å‘½ä»¤ï¼Œæ³¨æ„é€™è£¡è¬›çš„æ˜¯ã€Œå»£ç¾©çš„å‘½ä»¤ã€ï¼Œä¹Ÿå°±æ˜¯åŒ…æ‹¬å†’è™Ÿå’Œéžå†’è™Ÿå‘½ä»¤ï¼Œæ‰€ä»¥å¦‚æžœæ˜¯å†’è™Ÿå‘½ä»¤ä½ å¿…é ˆåŠ ä¸Šå†’è™Ÿå’Œ enter éµæ‰æœƒåŸ·è¡Œ&lt;br>
ps: map çµ¦æˆ‘çš„æ„Ÿè¦ºæœ‰é»žåƒã€Œç•¶ä½ æŒ‰ä¸‹ {å¿«æ·éµ} æ™‚ï¼Œvim æœƒè‡ªå‹•å¹«ä½ æ‰“ {å‘½ä»¤}&lt;/p>
&lt;h4 id="å¿«æ·éµ">å¿«æ·éµ&lt;/h4>
&lt;p>å¿«æ·éµå¯ä»¥æ˜¯ä¸åªä¸€å€‹æŒ‰éµï¼Œå¯ä»¥åƒæ˜¯ä»¥ä¸‹å¹¾å€‹ç¯„ä¾‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;leader&amp;gt;f
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;C-y&amp;gt;k
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ggk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æžœä¸€å€‹æŒ‰éµå¯ä»¥æ‰“å‡ºä¾†ï¼Œåƒæ˜¯&lt;code>a&lt;/code>ã€&lt;code>b&lt;/code>ã€&lt;code>c&lt;/code>ã€&lt;code>0&lt;/code>ã€&lt;code>1&lt;/code>ã€&lt;code>2&lt;/code>ã€&lt;code>+&lt;/code>ã€&lt;code>=&lt;/code>ï¼Œå°±ä¸ç”¨è§’æ‹¬è™Ÿ &lt;code>&amp;lt;&amp;gt;&lt;/code>&lt;br>
å¦‚æžœæ˜¯æŽ§åˆ¶æŒ‰éµæˆ–æ˜¯å’ŒæŽ§åˆ¶æŒ‰éµä¸€èµ·æŒ‰ï¼Œå°±è¦åŠ ä¸Šæ‹¬è™Ÿï¼Œä¾‹å¦‚ &lt;code>&amp;lt;C-y&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;leader&amp;gt;&lt;/code>ï¼Œå…¶ä¸­æ˜¯æŒ‡ &lt;!-- raw HTML omitted --> æ˜¯åæ–œç·š
æ›´å¤šé€™ç¨®æŒ‰éµçš„èªªæ˜Žå¯ä»¥åƒè€ƒ &lt;code>:help key-notation&lt;/code>&lt;/p>
&lt;h4 id="å‘½ä»¤">å‘½ä»¤&lt;/h4>
&lt;p>é€™é‚Šçš„å‘½ä»¤å› ç‚ºæ˜¯å»£ç¾©çš„å‘½ä»¤ï¼Œæ‰€ä»¥å¦‚æžœä½ æƒ³è¦å¹«æŸå€‹å¿«æ·éµåŠ ä¸Šåˆ¥åä¹Ÿæ˜¯å¯ä»¥çš„&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">nmap&lt;/span> &lt;span class="nx">copy&lt;/span> &lt;span class="nx">yy&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nx">nmap&lt;/span> &lt;span class="nx">paste&lt;/span> &lt;span class="nx">p&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å—¯&amp;hellip;&amp;hellip;é€™å¯èƒ½åªåœ¨å¿«æ·éµå¾ˆå¸¸å‡ºç¾ä½†æ˜¯è¤‡é›œæ™‚æ¯”è¼ƒå¥½ç”¨&lt;br>
æ‰¯é äº†ï¼Œå›žåˆ°æ­£é¡Œã€‚å¦‚æžœä½ çš„å‘½ä»¤æ˜¯å†’è™Ÿå‘½ä»¤çš„è©±ï¼Œä½ å¿…é ˆè¦åŠ ä¸Šå†’è™Ÿå’Œ enterï¼Œä¸ç„¶ä½ åœ¨æ‰“å®Œå¿«æ·éµä¹‹å¾Œé‚„è¦è‡ªå·±æŒ‰ enterï¼Œæ‰€ä»¥è¨˜çš„åœ¨å‘½ä»¤æœ€å¾Œé¢åŠ ä¸Š &lt;code>&amp;lt;CR&amp;gt;&lt;/code> ï¼Œé€™å€‹ä»£è¡¨çš„æ˜¯ enter éµï¼Œ&lt;!-- raw HTML omitted --> ä¹Ÿå¯ä»¥&lt;/p></description></item><item><title>Day 12ï¼švim é…è‰²æ–¹æ¡ˆ</title><link>https://blog.simbafs.cc/p/ithelp/day12/</link><pubDate>Sun, 12 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day12/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day12.png" alt="Featured image of post Day 12ï¼švim é…è‰²æ–¹æ¡ˆ" />&lt;p>ä¿—è©±èªªäººè¦è¡£è£ï¼Œä½›è¦é‡‘è£ï¼Œæˆ‘å€‘çš„ vim ä¹Ÿå¾—è¦æœ‰&lt;strong>æ¼‚äº®çš„å¤–è§€&lt;/strong>ã€‚ä»Šå¤©å°±è®“æˆ‘å€‘ä¾†çœ‹çœ‹å¦‚ä½•&lt;del>èª¿æ•™&lt;/del>èª¿æ•´ vim çš„å¤–è§€å§ï¼&lt;/p>
&lt;h1 id="highlight-group">Highlight group&lt;/h1>
&lt;p>highlight groupï¼ˆä»¥ä¸‹ç°¡ç¨± hg ï¼‰æ˜¯ vim ä¸­çš„ä¸€å€‹æ¦‚å¿µï¼Œä»–æœƒå°æ‡‰åˆ° vim ç•«é¢ä¸­çš„&lt;strong>ä¸€æ®µå€å¡Š&lt;/strong>ï¼Œå¯èƒ½æ˜¯&lt;strong>ä¸€æ®µæ–‡å­—&lt;/strong>ï¼Œä¹Ÿå¯èƒ½æ˜¯åº•ä¸‹çš„ status bar æˆ–æ˜¯å·¦å´çš„è¡Œè™Ÿã€‚æ¯ä¸€å€‹ hg éƒ½å¯ä»¥&lt;strong>è¨­å®šæ¨£å¼&lt;/strong>ï¼ŒåŒ…æ‹¬&lt;strong>å‰æ™¯è‰²&lt;/strong>ã€&lt;strong>èƒŒæ™¯è‰²&lt;/strong>ã€&lt;strong>åç™½&lt;/strong>ã€&lt;strong>åŠ åº•ç·š&lt;/strong>ç­‰ç­‰ï¼Œä½ å¯ä»¥ç”¨ &lt;code>:so $VIMRUNTIME/syntax/hitest.vim&lt;/code> å‘½ä»¤æŸ¥çœ‹&lt;strong>æ‰€æœ‰çš„ hg åå­—&lt;/strong>ï¼Œä»–å€‘çš„æ¨£å¼ä¹Ÿæœƒç›´æŽ¥é¡¯ç¤ºå‡ºä¾†ã€‚&lt;br>
å¦‚æžœæƒ³çœ‹æŸå€‹ hg çš„&lt;strong>èªªæ˜Ž&lt;/strong>çš„è©±ï¼ˆå¿…é ˆæ˜¯å…§å»ºçš„æ‰æœ‰ï¼‰ï¼Œå¯ä»¥ç”¨ &lt;code>:help hl-hgName&lt;/code> ä¾†&lt;strong>æŸ¥è©¢èªªæ˜Ž&lt;/strong>ï¼Œä¾‹å¦‚ &lt;code>CursorLine&lt;/code> å°±å¯ä»¥ç”¨ &lt;code>:help hl-CursorLine&lt;/code> ä¾†çœ‹èªªæ˜Ž&lt;/p>
&lt;h1 id="highlight">Highlight&lt;/h1>
&lt;p>ç”¨ &lt;code>:highlight&lt;/code> æˆ–æ˜¯ç¸®å¯« &lt;code>:hi&lt;/code> å¯ä»¥è¨­å®šç‰¹å®š hg çš„æ¨£å¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">hi&lt;/span> &lt;span class="nx">hgName&lt;/span> &lt;span class="nx">arg&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="nx">arg&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nx">value&lt;/span>......&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>hgName å°±æ˜¯ä½ ç”¨ &lt;code>:so $VIMRUNTIME/syntax/hitest.vim&lt;/code> æŸ¥å‡ºä¾†çš„åå­—ï¼Œè€Œ arg å¸¸è¦‹çš„æœ‰å‰æ™¯è‰² &lt;code>ctermfg&lt;/code>ã€èƒŒæ™¯è‰² &lt;code>ctermbg&lt;/code> å’Œ æ¨£å¼ &lt;code>cterm&lt;/code>&lt;/p>
&lt;h2 id="color">Color&lt;/h2>
&lt;p>&lt;code>ctermbg&lt;/code> å’Œ &lt;code>ctermfg&lt;/code> å¾Œé¢æŽ¥çš„å€¼æœƒ&lt;strong>æ ¹æ“šä½ çš„çµ‚ç«¯æ©Ÿæ”¯æ´çš„é¡è‰²ä¸åŒ&lt;/strong>è€Œæœ‰è®ŠåŒ–ï¼Œå…¶ä¸­ 8 è‰²å’Œ 16 è‰²çš„çµ‚ç«¯æ©Ÿéƒ½å¯ä»¥ç”¨ 0 ~ 8 / 0 ~ 16 é€™æ¨£çš„æ–¹å¼ä¾†è¡¨ç¤ºé¡è‰²ï¼ˆæ•¸å­—ä»£è¡¨çš„é¡è‰²è¦çœ‹çµ‚ç«¯æ©Ÿè¨­å®šï¼‰ï¼Œvim help æä¾›äº†ä¸€å€‹å°ç…§è¡¨å¯ä»¥åƒè€ƒå„å€‹æ•¸å­—ä»£è¡¨çš„é¡è‰²&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">NR-16 NR-8 COLOR NAME ~
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">0 0 Black
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1 4 DarkBlue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2 2 DarkGreen
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">3 6 DarkCyan
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">4 1 DarkRed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">5 5 DarkMagenta
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">6 3 Brown, DarkYellow
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">7 7 LightGray, LightGrey, Gray, Grey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">8 0* DarkGray, DarkGrey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">9 4* Blue, LightBlue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">10 2* Green, LightGreen
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">11 6* Cyan, LightCyan
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">12 1* Red, LightRed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">13 5* Magenta, LightMagenta
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">14 3* Yellow, LightYellow
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">15 7* White
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¬¬ä¸€æ¬„æ˜¯ 16 è‰²ï¼Œç¬¬äºŒæ¬„æ˜¯ 8 è‰²ï¼Œç¬¬ä¸‰æ¬„æ˜¯é¡è‰²åå­—ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ç”¨æ•¸å­—ç”¨é¡è‰²åå­—ï¼ˆä¸åˆ†å¤§å°å¯«ï¼‰&lt;/p>
&lt;p>å¦‚æžœä½ çš„çµ‚ç«¯æ©Ÿæ”¯æ´ 256 è‰²ï¼ˆé€šå¸¸ç¾åœ¨çš„çµ‚ç«¯æ©Ÿéƒ½æœƒæœ‰ï¼‰ï¼Œé‚£å°±æ›´å¥½çŽ©äº†ï¼Œå› ç‚ºä½ å¯ä»¥ç”¨é€™éº¼å¤šç¨®é¡è‰²ï¼&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day12/256-color.png"
loading="lazy"
alt="256 color"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">256 è‰²è¡¨ï¼ˆå¡«çš„æ˜¯å‰é¢çš„æ•¸å­—ï¼ˆ0-255ï¼‰ä¸æ˜¯ hex è‰²ç¢¼&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="cterm">cterm&lt;/h2>
&lt;p>é€šå¸¸æ–‡å­—ä¸æœƒåªæœ‰é¡è‰²ï¼Œé‚„å¯ä»¥æœ‰åŠ ç²—ã€åº•ç·šç­‰ç­‰æ¨£å¼ï¼Œvim ç¸½å…±æä¾›äº†é€™äº›&lt;strong>æ¨£å¼&lt;/strong>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">æ¨£å¼åç¨±&lt;/th>
&lt;th style="text-align:left">èªªæ˜Ž&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">bold&lt;/td>
&lt;td style="text-align:left">ç²—é«”&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">underline&lt;/td>
&lt;td style="text-align:left">åº•ç·š&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">undercurl&lt;/td>
&lt;td style="text-align:left">æ²æ²çš„åº•ç·šï¼Œå¦‚æžœä½ çš„çµ‚ç«¯æ©Ÿä¸æ”¯æ´çš„è©±æœƒæ”¹ç”¨åº•ç·šä»£æ›¿&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">reverse&lt;/td>
&lt;td style="text-align:left">åç™½&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">inverse&lt;/td>
&lt;td style="text-align:left">åç™½&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">italic&lt;/td>
&lt;td style="text-align:left">æ–œé«”ï¼ˆè¦å­—åž‹æœ‰æ”¯æ´ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">standout&lt;/td>
&lt;td style="text-align:left">ç¿»è­¯æ˜¯ã€Œçªå‡ºã€ï¼Œä½†æ˜¯æˆ‘ç”¨èµ·ä¾†å’Œ &lt;code>reverse&lt;/code>ã€&lt;code>inverse&lt;/code> æ•ˆæžœä¸€æ¨£ï¼Œæœ‰äººçŸ¥é“å·®åœ¨å“ªå—Žï¼Ÿ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">strikethrough&lt;/td>
&lt;td style="text-align:left">ç¿»è­¯æ˜¯ã€Œåˆªé™¤ç·šã€ä½†æ˜¯æˆ‘è©¦ä¸å‡ºä¾†ï¼Œä¹Ÿè¨±æ˜¯å­—é«”çš„é—œä¿‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">NONE&lt;/td>
&lt;td style="text-align:left">æ¸…é™¤æ¨£å¼è¨­å®š&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å¦‚æžœä½ éœ€è¦å¤šç¨®æ¨£å¼æ··åˆï¼Œä¾‹å¦‚åº•ç·š + åç™½ï¼Œä½ å¯ä»¥ç”¨é€—è™Ÿ &lt;code>,&lt;/code> ä¾†ä¸²èµ·å¤šçš„æ¨£å¼ï¼Œ&lt;code>cterm=underline,reverse&lt;/code>ï¼Œæ³¨æ„ä¸èƒ½æœ‰ç©ºç™½ï¼Œä¸ç„¶æœƒè·³éŒ¯èª¤ã€‚&lt;/p>
&lt;p>æœ‰äº†é€™äº›ï¼Œä½ å°±å¯ä»¥è‡ªè¨‚ vim ä¸­ä»»ä½•ä¸€å€‹éƒ¨ä»½çš„æ¨£å¼äº†ï¼Œä¾‹å¦‚ hg CursorLine ä»£è¡¨çš„&lt;strong>æ˜¯æ¸¸æ¨™æ‰€åœ¨è¡Œ&lt;/strong>ï¼Œæˆ‘å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æ”¹è®Šä»–çš„æ¨£å¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nx">hi&lt;/span> &lt;span class="nx">CursorLine&lt;/span> &lt;span class="nx">ctermbg&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">240&lt;/span> &lt;span class="nx">ctermfg&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="m">195&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day12/customed-cursorLine.png"
loading="lazy"
alt="Customized CursorLine"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">è‡ªè¨‚çš„æ¸¸æ¨™è¡Œ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="colorschema">colorschema&lt;/h1>
&lt;p>æ‰€è¬‚çš„ colorschema å…¶å¯¦å°±æ˜¯ä¸€å †çš„ &lt;code>hi&lt;/code> æŒ‡ä»¤å¯«åœ¨ä¸€å€‹æª”æ¡ˆè£¡é¢ï¼Œç„¶å¾Œçµ¦ä»–ä¸€å€‹åå­—ï¼Œvim å…§å»ºäº†å¾ˆå¤š colorschemaï¼Œæ”¾åœ¨ &lt;code>$VIMRUNTIME/colors&lt;/code> ç›®éŒ„ä¸‹ã€‚ä½ å¯ä»¥ç”¨å‘½ä»¤ &lt;code>:echo $VIMRUNTIME&lt;/code> ä¾†å–å¾— &lt;code>$VIMRUNTIME&lt;/code> çš„å€¼ï¼Œå› ç‚º&lt;strong>ç³»çµ±ç’°å¢ƒè®Šæ•¸å¯èƒ½ä¸æœƒæœ‰ä»–&lt;/strong>ï¼ˆæˆ‘çš„å°±æ²’æœ‰ï¼‰ã€‚
é™¤äº†åŽ»ç¶²è·¯ä¸Šä¸‹è¼‰åˆ¥äººè¨­è¨ˆå¥½çš„ colorschemaï¼Œ ä½ ä¹Ÿå¯ä»¥åƒè€ƒ &lt;code>$VIMRUNTIME/colors&lt;/code> ä¸‹çš„æª”æ¡ˆå½¢å¼ä¾†è£½ä½œè‡ªå·±çš„ colorschemaï¼Œæˆ–æ˜¯ Google æœå°‹ &lt;code>vim colorschemes generator&lt;/code> å°±å¯ä»¥åœ¨ç¶²è·¯ä¸Šæ‰¾åˆ°å¾ˆå¤šæ–¹ä¾¿ä½ è£½ä½œ colorschemes çš„å·¥å…·&lt;/p></description></item><item><title>Day 11ï¼šæ‰¹æ¬¡ä¿®æ”¹ï¼ï¼</title><link>https://blog.simbafs.cc/p/ithelp/day11/</link><pubDate>Sat, 11 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day11/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day11.png" alt="Featured image of post Day 11ï¼šæ‰¹æ¬¡ä¿®æ”¹ï¼ï¼" />&lt;p>æ˜¨å¤©é«”é©—äº†ä¸€äº›å¿«æ·éµå’Œå‘½ä»¤ï¼Œä»Šå¤©è¦è¬›çš„æ˜¯åœ¨ vim ä¸­ä¹Ÿå¾ˆå¸¸ç”¨çš„&lt;strong>æœå°‹èˆ‡å–ä»£&lt;/strong>&lt;/p>
&lt;h1 id="æœå°‹èˆ‡å–ä»£">æœå°‹èˆ‡å–ä»£&lt;/h1>
&lt;p>vim çš„æœå°‹èˆ‡å–ä»£æ˜¯ç”±å‘½ä»¤ &lt;code>s&lt;/code> é”æˆçš„ï¼Œå‘½ä»¤æ ¼å¼é•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">:[ç¯„åœä¿®é£¾å­—]s/abcd/efgh/[æ——æ¨™]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ &lt;code>abcd&lt;/code> æ˜¯ &lt;a class="link" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener"
>æ­£è¦è¡¨é”å¼&lt;/a>ï¼ˆregular expressionï¼Œç¸®å¯« regexï¼Œåœ¨ä¸­åœ‹å¸¸å¯«æˆã€Œæ­£å‰‡ã€ï¼‰ï¼Œregex é™¤äº†åœ¨ vim å¯ä»¥ç”¨ä¹‹å¤–ï¼Œå¹¾ä¹Žæ‰€æœ‰ç¨‹å¼èªžè¨€éƒ½å¯ä»¥ç”¨ï¼Œé‚„æœ‰ &lt;code>grep&lt;/code>ã€&lt;code>sed&lt;/code> ç­‰ linux æŒ‡ä»¤ä¹Ÿéƒ½æ˜¯ä½¿ç”¨ regexï¼Œé—œæ–¼ regex çš„ç”¨æ³•åœ¨é€™è£¡å°±ä¸å¤šæäº†ï¼Œ&lt;a class="link" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener"
>MDN&lt;/a> ä¸Šæœ‰å¾ˆå®Œæ•´çš„è§£é‡‹&lt;br>
ä½ æ‡‰è©²æœ‰æ³¨æ„åˆ°ä¸Šé¢çš„å‘½ä»¤æ ¼å¼è£¡é¢é™¤äº†æ­£è¦è¡¨é”å¼ä¹‹å¤–é‚„æœ‰ã€Œç¯„åœä¿®é£¾å­—ã€å’Œã€Œæ——æ¨™ã€ï¼Œé€™å°±æ˜¯æŽ¥ä¸‹ä¾†é€™æ®µçš„é‡é»žå•¦ï¼&lt;/p>
&lt;h2 id="ç¯„åœä¿®é£¾å­—">ç¯„åœä¿®é£¾å­—&lt;/h2>
&lt;p>é€™å€‹æ±è¥¿ä¹Ÿä¸åªæ˜¯æœå°‹èˆ‡å–ä»£å¯ä»¥ç”¨ï¼Œåªè¦ä½ è¦ºå¾—éœ€è¦&lt;strong>é™åˆ¶æŸå€‹æŒ‡ä»¤çš„ä½œç”¨ç¯„åœ&lt;/strong>éƒ½å¯ä»¥ç”¨æ¨£çš„é‚è¼¯æŽ¥ä¸‹åŽ»&lt;br>
ç¯„åœä¿®é£¾&lt;strong>å¯å¯«å¯ä¸å¯«&lt;/strong>ï¼Œå¦‚æžœä¸å¯«çš„è©±æœå°‹èˆ‡å–ä»£å°±åªæœƒ&lt;strong>åœ¨æ¸¸æ¨™åœ¨çš„é‚£ä¸€è¡Œèµ·ä½œç”¨&lt;/strong>ï¼ŒåŠ ä¸Šç™¾åˆ†æ¯”ç¬¦è™Ÿ &lt;code>%&lt;/code> ä»£è¡¨ä½œç”¨ç¯„åœæ˜¯&lt;strong>æ•´ä»½æ–‡ä»¶&lt;/strong>ï¼Œä¹Ÿå¯ä»¥&lt;strong>åŠ ä¸Šè¡Œè™Ÿ&lt;/strong>ä»£è¡¨åªä½œç”¨åœ¨æŸä¸€è¡Œï¼Œå¦‚æžœæ˜¯å…©å€‹è¡Œè™Ÿä¸­é–“ä»¥&lt;strong>é€—è™Ÿ&lt;/strong>éš”é–‹ï¼Œä»£è¡¨æ˜¯ä½œç”¨åœ¨é€™å…©å€‹è¡Œè™Ÿä¹‹é–“&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day11/vim-replace.gif"
loading="lazy"
alt="vim replace"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">ç¯„åœä¿®é£¾å­—ç¯„ä¾‹&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="ç¯„åœé¸å–">ç¯„åœé¸å–&lt;/h3>
&lt;p>å‰›å‰›çš„ç¯„ä¾‹ä¸­æœ‰å‡ºç¾ç”¨è¡Œè™Ÿä½œç¯„åœé¸å–ï¼Œå…¶å¯¦ç¯„åœé¸å–é‚„æœ‰ä¸€å€‹&lt;strong>æ›´ç°¡å–®&lt;/strong>çš„æ–¹å¼ â€”â€”ã€Œé¸å–æ¨¡å¼ã€ã€‚é¸å–æ¨¡å¼å’Œç·¨è¼¯æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼æ˜¯åŒç­‰åœ°ä½çš„æ±è¥¿ï¼Œé€²å…¥é¸å–æ¨¡å¼çš„å¿«æ·éµæœ‰ä¸‹åˆ—å¹¾å€‹ï¼ˆä¸€æ¨£è¦é€²åˆ°å‘½ä»¤æ¨¡å¼æ‰èƒ½é€²é¸å–æ¨¡å¼ï¼‰&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">å¿«æ·éµ&lt;/th>
&lt;th style="text-align:left">èªªæ˜Ž&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">v&lt;/td>
&lt;td style="text-align:left">ä¸€èˆ¬é¸å–ï¼Œä»¥ã€Œå­—ã€ç‚ºå–®ä½&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">S-v(å¤§å¯« v )&lt;/td>
&lt;td style="text-align:left">ä¸€èˆ¬é¸å–ï¼Œä»¥ã€Œè¡Œã€ç‚ºå–®ä½&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">C-v&lt;/td>
&lt;td style="text-align:left">åž‚ç›´é¸å–ï¼Œé€™å€‹æ¯”è¼ƒä¸å¸¸ç”¨ï¼Œä½†æ˜¯éœ€è¦çš„æ™‚å€™è »å¥½ç”¨çš„&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>é¸å–å¾Œä¸€æ¨£å¯ä»¥æ‰“æŒ‡ä»¤å’Œå¿«æ·éµï¼Œä½†æ˜¯é€™äº›å°±åªæœƒä½œç”¨åœ¨é¸å–çš„ç¯„åœå…§ï¼Œå¸¸å¸¸æ­é…çš„æœ‰ &lt;code>d&lt;/code>ï¼ˆå‰ªä¸‹ï¼‰ã€&lt;code>y&lt;/code>ï¼ˆè¤‡è£½ï¼‰ã€&lt;code>:s&lt;/code>ï¼ˆæœå°‹èˆ‡å–ä»£ï¼‰&lt;br>
å†æŠŠä¸€å€‹ç¯„åœé¸å–èµ·ä¾†å¾Œï¼Œå¦‚æžœæ˜¯å¿«æ·éµå°±ç›´æŽ¥æŒ‰ï¼Œå¦‚æžœæ˜¯å‘½ä»¤çš„è©±æŒ‰ä¸‹å†’è™Ÿ &lt;code>:&lt;/code>ï¼Œå¹³å¸¸åªæœ‰å†’è™Ÿçš„å‘½ä»¤è¡Œæœƒå…ˆå‡ºç¾ &lt;code>:'&amp;lt;,'&amp;gt;&lt;/code>ï¼Œé€™ä¸²æ±æ±ä»£è¡¨çš„å°±æ˜¯&lt;strong>é€™ä¸€å€‹ç¯„åœçš„ç¯„åœä¿®é£¾å­—&lt;/strong>ï¼Œä¸ç”¨åˆªæŽ‰ï¼Œç›´æ‰“æŒ‡ä»¤å°±å¯ä»¥äº†&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/../img/day11/vim-selsect.gif"
loading="lazy"
alt="vim select"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">é¸å–çµåˆæŒ‡ä»¤èˆ‡å¿«æ·éµ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="æ——æ¨™">æ——æ¨™&lt;/h2>
&lt;p>æ——æ¨™é€™å€‹æ±è¥¿ä¸»è¦æ˜¯åœ¨æŽ§åˆ¶æœå°‹çš„è¡Œç‚ºï¼Œä¾‹å¦‚&lt;strong>å…¨éƒ¨å–ä»£&lt;/strong>ã€&lt;strong>å–ä»£å‰å…ˆå•ä¸€ä¸‹&lt;/strong>ä¹‹é¡žçš„ï¼Œå¤šå€‹æ——æ¨™å¯ä»¥çµ„åˆï¼Œ&lt;strong>ä¸ç®¡é †åº&lt;/strong>ï¼Œä¸‹é¢æ˜¯å¹¾å€‹å¯èƒ½æœƒç”¨åˆ°çš„æ——æ¨™&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">æ——æ¨™&lt;/th>
&lt;th style="text-align:left">èªªæ˜Ž&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">g&lt;/td>
&lt;td style="text-align:left">æ•´è¡Œæœå°‹ï¼Œå¦‚æžœä¸åŠ çš„è©±åªæœƒå–ä»£ç¬¬ä¸€å€‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">c&lt;/td>
&lt;td style="text-align:left">åœ¨å–ä»£å‰å…ˆç¢ºèª&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">i&lt;/td>
&lt;td style="text-align:left">å¿½ç•¥å¤§å°å¯«&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/../img/day11/vim-replace-flag.gif"
loading="lazy"
alt="vim replace flag"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">æ——æ¨™ç¯„ä¾‹&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>é€™å…©å¤©è¬›çš„å¤§éƒ¨ä»½æ˜¯æ“ä½œæ€§è³ªçš„æ±è¥¿ï¼Œ&lt;strong>ä¸éœ€è¦ä¸€æ¬¡å…¨éƒ¨è¨˜èµ·ä¾†&lt;/strong>ï¼Œç”¨çš„å¤šäº†è‡ªç„¶æœƒè¨˜å¾—ï¼Œç¾åœ¨åªéœ€è¦&lt;strong>å…ˆæœ‰å€‹å°è±¡å°±å¯ä»¥äº†&lt;/strong>ã€‚å…¶å¯¦ vim å¾ˆå¤šæ“ä½œã€å¿«æ·éµéƒ½å¾ˆç›´è¦ºï¼Œä¸å¦¨è‡ªå·±å¤šè©¦è©¦çœ‹åŠ äº† &lt;!-- raw HTML omitted -->Shift&lt;!-- raw HTML omitted -->ã€&lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted --> ä¹‹å¾ŒåŽŸæœ¬çš„å¿«æ·éµæœƒæœ‰ä»€éº¼è®ŠåŒ–&lt;br>
vim çš„æ“ä½œé‚„æœ‰å¾ˆå¤šæŠ€å·§ï¼Œå¦‚æžœæœ‰èˆˆè¶£ä¸å¦¨åŽ»çœ‹çœ‹ vim çš„æ–‡ä»¶ï¼ˆç”¨å‘½ä»¤ &lt;code>:help&lt;/code> ï¼‰ä¸­ç›¸é—œç« ç¯€ï¼ˆå¤§æ¦‚æ˜¯ usr_03~04 å·¦å³ï¼‰çš„ä»‹ç´¹ï¼Œä½ æœƒå° vim æœ‰éžå¸¸å…¨é¢çš„èªè­˜ã€‚é›–ç„¶æ–‡ä»¶æ˜¯è‹±æ–‡å¯«çš„ï¼Œä½†æ˜¯ä¸¦æ²’æœ‰å¤ªé›£çš„å–®å­—ï¼Œå¤§æ¦‚åœ‹ä¸­ç¨‹åº¦å°±å¯ä»¥çœ‹äº†&lt;/p></description></item><item><title>Day 10ï¼šæ–°æ‰‹æ®ºï¼Œèª°ä¾†æ•™æˆ‘é›¢é–‹ vim é˜¿ï½žï½ž</title><link>https://blog.simbafs.cc/p/ithelp/day10/</link><pubDate>Fri, 10 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day10/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day10.png" alt="Featured image of post Day 10ï¼šæ–°æ‰‹æ®ºï¼Œèª°ä¾†æ•™æˆ‘é›¢é–‹ vim é˜¿ï½žï½ž" />&lt;p>å‰é¢ 9 å¤©éƒ½åœ¨ä»‹ç´¹æ“ä½œç’°å¢ƒï¼Œä»Šå¤©çµ‚æ–¼è¦é€²åˆ°&lt;strong>ç·¨è¼¯å™¨&lt;/strong>å•¦ï¼æˆ‘é¸ç”¨çš„ç·¨è¼¯å™¨æ˜¯ nvimï¼Œä½†æ˜¯å¦‚æžœä½ è¦ç”¨ vim 8 ä¹Ÿæ˜¯å¯ä»¥ï¼Œå› ç‚ºé€™å…©è€…ä¹‹é–“å¹¾ä¹Ž&lt;strong>æ²’ä»€éº¼å·®åˆ¥&lt;/strong>ï¼Œåªæ˜¯ä½ è¦æ³¨æ„é€™å…©è€…çš„&lt;strong>è¨­å®šæª”ä½ç½®&lt;/strong>ä¸åŒï¼Œç›®éŒ„éœ€è¦ä½ &lt;strong>è‡ªå·±è½‰æ›&lt;/strong>ã€‚å”¯ä¸€ä¸åŒçš„é»žå¤§æ¦‚æ˜¯ nvim å…§å»ºæ”¯æ´ç”¨ &lt;strong>lua&lt;/strong>ï¼ˆä¸€ç¨®ç¨‹å¼èªžè¨€ï¼‰å¯«å¤–æŽ›ï¼Œvim 8 åªèƒ½ç”¨ &lt;strong>vimscript&lt;/strong>ã€‚é—œæ–¼å…©è€…ä¹‹é–“çš„æ„›æ¨æƒ…ä»‡è«‹åƒè€ƒ&lt;a class="link" href="https://jdhao.github.io/2020/01/12/vim_nvim_history_development/" target="_blank" rel="noopener"
>é€™è£¡ï¼Œä»–è¬›çš„éžå¸¸è©³ç´°&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>æŽ¥ä¸‹ä¾†çš„æ–‡ç« å¯èƒ½æœƒå‡ºç¾ vimã€nvim æ··ç”¨ï¼Œä½†æ˜¯ä»–å€‘éƒ½æ˜¯æŒ‡ neovimï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘ç”¨çš„é€™å€‹ç·¨è¼¯å™¨ï¼Œä¸ç”¨ç‰¹åˆ¥è·‘åŽ»è£å…©å¥—è»Ÿé«”&lt;/p>
&lt;/blockquote>
&lt;h1 id="å®‰è£-nvim">å®‰è£ nvim&lt;/h1>
&lt;p>åŸºæœ¬ä¸Šä½ çš„é›»è…¦çš„å¥—ä»¶ç®¡ç†å™¨è£¡é¢æ‡‰è©²éƒ½æœ‰ nvim äº†ï¼Œä½†æ˜¯ä»–çš„åå­—å¯èƒ½ä¸æ˜¯ nvimï¼Œä¾‹å¦‚ apt å°±æ˜¯ &lt;code>neovim&lt;/code>ï¼Œå¦‚æžœä½ çš„å¥—ä»¶ç®¡ç†å™¨æ²’æœ‰æ”¶éŒ„ nvim æˆ–æ˜¯ä½ ä¸çŸ¥é“è©²æ€Žéº¼è¾¦çš„è©±ï¼Œå¯ä»¥çœ‹çœ‹&lt;a class="link" href="https://github.com/neovim/neovim/wiki/Installing-Neovim" target="_blank" rel="noopener"
>é€™å€‹æ–‡ç« &lt;/a> å¹¾ä¹Ž&lt;strong>æ‰€æœ‰ä½œæ¥­ç³»çµ±&lt;/strong>ä»–éƒ½æœ‰ä»‹ç´¹æ€Žéº¼å®‰è£äº†ï¼Œç•¶ç„¶ä»–ä¹Ÿæœ‰æ•™ä½ å¦‚ä½•&lt;strong>è‡ªå·± build&lt;/strong>ã€‚&lt;/p>
&lt;h1 id="æ“ä½œ">æ“ä½œ&lt;/h1>
&lt;p>vim çš„å‰èº«â€”â€” vi èª•ç”Ÿæ–¼&lt;strong>å¹¾ä¹Žæ²’æœ‰åœ–å½¢åŒ–ç•Œé¢&lt;/strong>çš„æ™‚å€™ï¼Œé‚£æ™‚å€™ä¹Ÿæ²’æœ‰æ»‘é¼ ï¼Œæ‰€ä»¥æ‰€æœ‰çš„æ“ä½œéƒ½&lt;strong>å¿…é ˆåœ¨éµç›¤ä¸Šé”æˆ&lt;/strong>ï¼Œä»Šå¤©å°±ä¾†èªè­˜ä¸€äº›ç°¡å–®çš„å‘½ä»¤å§ï¼&lt;/p>
&lt;h2 id="é›¢é–‹-vim">é›¢é–‹ vim&lt;/h2>
&lt;p>ç‚ºä»€éº¼è¦åœ¨é‚„æ²’é€²å…¥ vim ä¹‹å‰å°±æ•™å¦‚ä½•é›¢é–‹å‘¢ï¼Ÿ å› ç‚ºå¹¾ä¹Žæ‰€æœ‰åˆå­¸è€…éƒ½æœƒæœ‰é€™å€‹ç–‘å•ï¼Œ&lt;strong>è¦æ€Žéº¼é›¢é–‹ vim å•¦ï¼ï¼&lt;/strong> é€™é‚Šæˆ‘æä¾›ä¸€å€‹å¿…å‹çš„æ–¹æ³•ï¼Œä¸è«–ä½ åœ¨ vim åšäº†ä»€éº¼æ“ä½œï¼Œ&lt;!-- raw HTML omitted -->ESC&lt;!-- raw HTML omitted --> ç‹‚æŒ‰å€‹ &lt;del>100 æ¬¡&lt;/del>&lt;strong>ä¸‰åˆ°å››æ¬¡&lt;/strong>ï¼Œç„¶å¾Œè¼¸å…¥ &lt;!-- raw HTML omitted -->:&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->q&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->!&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->ENTER&lt;!-- raw HTML omitted --> å°±æœƒé›¢é–‹äº†ã€‚&lt;/p>
&lt;h2 id="å‘½ä»¤æ¨¡å¼ç·¨è¼¯æ¨¡å¼">å‘½ä»¤æ¨¡å¼ï¼Ÿç·¨è¼¯æ¨¡å¼ï¼Ÿ&lt;/h2>
&lt;p>vim çš„ã€Œæ¨¡å¼ã€ä¹Ÿæ˜¯è®“åˆå­¸è€…å¾ˆå›°æ“¾çš„æ±è¥¿ä¹‹ä¸€ï¼Œä¸‹é¢ç”¨ä¸€å¼µåœ–ä¾†è§£é‡‹ä»–å€‘çš„é—œä¿‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day10/vim-mode.png"
loading="lazy"
alt="vim mode"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">vim æ¨¡å¼åˆ‡æ› (From: &lt;a class="link" href="https://gitbook.tw/chapters/command-line/vim-introduction.html" target="_blank" rel="noopener"
>é«˜è¦‹é¾â€”â€”è¶…ç°¡æ˜Ž Vim æ“ä½œä»‹ç´¹&lt;/a>)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>é€šå¸¸ Normal Mode ä¸­æ–‡æ˜¯ &lt;strong>ã€Œå‘½ä»¤æ¨¡å¼ã€&lt;/strong> ï¼Œé¡§åæ€ç¾©é€™å€‹æ¨¡å¼ä¸‹ä½ å¯ä»¥&lt;strong>æ‰“å‘½ä»¤&lt;/strong>ï¼ŒInsert Mode çš„ä¸­æ–‡æ˜¯ &lt;strong>ã€Œç·¨è¼¯æ¨¡å¼ã€&lt;/strong> ï¼Œåœ¨é€™å€‹æ¨¡å¼ä½ å¯ä»¥ç·¨è¼¯ä½ çš„æª”æ¡ˆã€‚&lt;/p>
&lt;blockquote>
&lt;p>å¾žå‘½ä»¤æ¨¡å¼åˆ‡å›žç·¨è¼¯æ¨¡å¼çš„å‘½ä»¤ä¸åª &lt;!-- raw HTML omitted -->i&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->o&lt;!-- raw HTML omitted --> é€™ä¸‰å€‹ï¼Œé‚„æœ‰å¾ˆå¤šï¼Œä½†é€™æ˜¯æœ€å¸¸è¦‹çš„ä¸‰å€‹ï¼Œå…¶ä»–çš„æœƒåœ¨ä¹‹å¾Œä»‹ç´¹&lt;/p>
&lt;/blockquote>
&lt;h2 id="å‘½ä»¤">å‘½ä»¤&lt;/h2>
&lt;blockquote>
&lt;p>æ³¨æ„ï¼šæˆ‘çš„ç”¨è©žå¯èƒ½å’Œä½ çœ‹åˆ°å…¶ä»–æ–‡ç« ä¸å¤ªä¸€æ¨£ï¼Œé€™è£¡æˆ‘çš„ã€Œå‘½ä»¤ã€æŒ‡çš„æ˜¯ vim ä¸­å†’è™Ÿé–‹é ­çš„å‘½ä»¤ï¼Œå…¶ä»–çš„å‰‡è¢«æˆ‘æ­¸é¡žåˆ°ã€Œå¿«æ·éµã€ä½†æ˜¯å…¶å¯¦å° vim ä¾†èªªä»–å€‘éƒ½æ˜¯å‘½ä»¤ï¼ˆæ–‡ä»¶ä¸­éƒ½æ˜¯ command ï¼‰&lt;/p>
&lt;/blockquote>
&lt;p>å¦‚æžœä½ æƒ³æ‰“æŸå€‹ vim å‘½ä»¤ï¼Œä¾‹å¦‚èªªã€Œå„²å­˜ä¸¦é›¢é–‹ã€ï¼Œä½ éœ€è¦å…ˆåˆ° &lt;strong>ã€Œå‘½ä»¤æ¨¡å¼ã€&lt;/strong> ï¼Œç„¶å¾ŒæŒ‰ä¸‹ &lt;!-- raw HTML omitted -->:&lt;!-- raw HTML omitted -->ï¼Œèž¢å¹•ä¸‹é¢å°±æœƒæœ‰&lt;strong>ä¸€è¡Œç©ºè¡Œ&lt;/strong>ï¼Œä½ å¯ä»¥&lt;strong>åœ¨é€™è£¡æ‰“å‘½ä»¤&lt;/strong>ï¼Œä¹Ÿå¯æŒ‰&lt;!-- raw HTML omitted -->ä¸Š&lt;!-- raw HTML omitted -->ã€&lt;!-- raw HTML omitted -->ä¸‹&lt;!-- raw HTML omitted --> ç€è¦½ä»¥å‰æ‰“éŽçš„å‘½ä»¤ã€‚å¸¸ç”¨çš„å‘½ä»¤æœ‰å„²å­˜ã€é›¢é–‹ã€æœå°‹èˆ‡å–ä»£ã€é–‹å•Ÿæª”æ¡ˆç­‰ç­‰ï¼Œé€™è£¡æˆ‘åˆ—å‡ºå¹¾å€‹å’Œæª”æ¡ˆæ“ä½œæœ‰é—œçš„å‘½ä»¤&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">å‘½ä»¤&lt;/th>
&lt;th style="text-align:left">èªªæ˜Ž&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">:w [filename]&lt;/td>
&lt;td style="text-align:left">å„²å­˜&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">:q&lt;/td>
&lt;td style="text-align:left">é›¢é–‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">:q!&lt;/td>
&lt;td style="text-align:left">å¼·åˆ¶é›¢é–‹ä¸å„²å­˜ï¼ˆå¦‚æžœæœ‰æ›´å‹•æª”æ¡ˆä½†åªç”¨ &lt;code>:q&lt;/code> çš„è©±æœƒè·³å‡ºéŒ¯èª¤è¨Šæ¯ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">:wq&lt;/td>
&lt;td style="text-align:left">å„²å­˜ä¸¦é›¢é–‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">:e [filename]&lt;/td>
&lt;td style="text-align:left">é–‹å•ŸæŸå€‹æª”æ¡ˆ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">:{number}&lt;/td>
&lt;td style="text-align:left">è·³æŽ‰ç¬¬å¹¾è¡Œ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">:! {cmd}&lt;/td>
&lt;td style="text-align:left">åŸ·è¡Œ shell å‘½ä»¤&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>æ³¨æ„ç¬¬ä¸‰å€‹å’Œæœ€å¾Œä¸€å€‹ï¼Œé›–ç„¶éƒ½æœ‰é©šå˜†è™Ÿï¼Œä½†æ˜¯ç¬¬ä¸‰å€‹çš„é©šå˜†è™Ÿåœ¨&lt;strong>æœ€å¾Œé¢&lt;/strong>ï¼ŒåŸ·è¡Œ shell å‘½ä»¤çš„é©šå˜†è™Ÿåœ¨&lt;strong>æœ€å‰é¢&lt;/strong>ã€‚ç¬¬ä¸‰å€‹çš„é©šå˜†è™Ÿè¡¨ç¤º &lt;strong>ã€Œå¼·åˆ¶ã€&lt;/strong> ã€ &lt;strong>ã€Œå¿½ç•¥è­¦å‘Šã€&lt;/strong> ï¼Œæ­é…å…¶ä»–å‘½ä»¤å¯ä»¥é”åˆ°ä»¥ä¸‹æ•ˆæžœ&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">å‘½ä»¤&lt;/th>
&lt;th style="text-align:left">èªªæ˜Ž&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">:w [filename]&lt;/td>
&lt;td style="text-align:left">å¼·åˆ¶å­˜æª”ï¼Œæœ‰æ™‚å€™æœƒé‡åˆ°æª”æ¡ˆåœ¨é–‹å•Ÿ vim é€”ä¸­è¢«å…¶ä»–ç¨‹å¼ä¿®æ”¹æˆ–æ˜¯æ¬Šé™å•é¡Œï¼Œç”¨ &lt;code>:w!&lt;/code> å¯ä»¥å¼·åˆ¶è¦†è“‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">:e [filename]&lt;/td>
&lt;td style="text-align:left">ä¸ç®¡ç¾åœ¨é€™å€‹æª”æ¡ˆæœ‰æ²’æœ‰ä¿®æ”¹ï¼Œç›´æŽ¥å¾žç¡¬ç¢Ÿè¼‰å…¥å¦ä¸€å€‹æª”æ¡ˆ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="å¿«æ·éµ">å¿«æ·éµ&lt;/h2>
&lt;p>å’Œ tmux ä¸€æ¨£ï¼Œvim ä¹Ÿå¯ä»¥æŠŠ&lt;strong>æŸå€‹æŒ‰éµå°æ‡‰åˆ°å‘½ä»¤&lt;/strong>ï¼Œé€™æ¨£å°±ä¸ç”¨å¸¸å¸¸æ‰“ä¸€å †æŒ‡ä»¤äº†ã€‚&lt;br>
è¦æ³¨æ„ï¼Œvim å¯ä»¥æŒ‡å®šå¿«æ·éµç”Ÿæ•ˆçš„æ¨¡å¼ï¼Œæ‰€ä»¥å¦‚æžœåœ¨ç·¨è¼¯æ¨¡å¼ä¸èƒ½ç”¨ï¼Œé‚£å¯èƒ½è¦åˆ‡æ›åˆ°æŒ‡ä»¤æ¨¡å¼ã€‚&lt;br>
ä»¥ä¸‹çš„å¿«æ·éµéƒ½æ˜¯åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ç”¨çš„å–”ï¼Œå¸¸ç”¨çš„å¿«æ·éµæœ‰&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">å¿«æ·éµ&lt;/th>
&lt;th style="text-align:left">èªªæ˜Ž&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">yy&lt;/td>
&lt;td style="text-align:left">è¤‡è£½ä¸€è¡Œ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">dd&lt;/td>
&lt;td style="text-align:left">å‰ªä¸‹ä¸€è¡Œ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">x&lt;/td>
&lt;td style="text-align:left">å‰ªä¸‹ä¸€å€‹å­—&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">p&lt;/td>
&lt;td style="text-align:left">è²¼ä¸Šå‰ªè²¼ç°¿çš„å…§å®¹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">v&lt;/td>
&lt;td style="text-align:left">é¸å–ï¼ˆä¹‹å¾Œå¯ä»¥è¤‡è£½ã€å‰ªä¸‹ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">.&lt;/td>
&lt;td style="text-align:left">é‡è¤‡åŸ·è¡Œå‰›å‰›åŸ·è¡ŒéŽçš„æŒ‡ä»¤&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">u&lt;/td>
&lt;td style="text-align:left">å›žå¾©ï¼ˆ undo ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;code>&amp;lt;C-r&amp;gt;&lt;/code>&lt;/td>
&lt;td style="text-align:left">é‡åšï¼ˆ redoï¼Œé‡åš undo å–æ¶ˆçš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯èªªè¦å…ˆ u ä¹‹å¾Œæ‰èƒ½ r ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">åˆ†éš”ç·š&lt;/td>
&lt;td style="text-align:left">æŽ¥ä¸‹ä¾†çš„å¿«æ·éµçœ‹çœ‹å°±å¥½ï¼Œä½ å¯ä»¥ç”¨æ–¹å‘éµè§£æ±º&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">h&lt;/td>
&lt;td style="text-align:left">å·¦ç§»&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">j&lt;/td>
&lt;td style="text-align:left">ä¸‹ç§»&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">k&lt;/td>
&lt;td style="text-align:left">ä¸Šç§»&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">l&lt;/td>
&lt;td style="text-align:left">å³ç§»&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">gg&lt;/td>
&lt;td style="text-align:left">ç§»è‡³æª”æ¡ˆé–‹é ­&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">G&lt;/td>
&lt;td style="text-align:left">ç§»è‡³æª”æ¡ˆçµå°¾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">^&lt;/td>
&lt;td style="text-align:left">ç§»è‡³è¡Œé ­&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">$&lt;/td>
&lt;td style="text-align:left">ç§»è‡³è¡Œå°¾&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>&lt;code>&amp;lt;C-r&amp;gt;&lt;/code> çš„æ„æ€æ˜¯ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->+&lt;!-- raw HTML omitted -->r&lt;!-- raw HTML omitted -->ï¼Œé€™æ˜¯ vim å¸¸è¦‹çš„è¡¨ç¤ºæ³•ï¼Œä»¥å¾Œé‚„æœƒçœ‹åˆ°&lt;/p>
&lt;/blockquote>
&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>vim çš„å‘½ä»¤ï¼ˆå¿«æ·éµï¼‰å…¶å¯¦æ˜¯å€‹éžå¸¸é«˜æ·±çš„å­¸å•ï¼Œæˆ‘çš„æ–‡ç« å¯èƒ½æ²’è¾¦æ³•è¬›çš„éžå¸¸è©³ç´°ï¼Œä½ å¯ä»¥åŽ»æ‰¾å…¶ä»–æ•™å­¸ï¼Œæˆ–æ˜¯åœ¨ vim ä¸­ç”¨æŒ‡ä»¤ &lt;code>:help&lt;/code> çœ‹å®˜æ–¹çš„æ•™å­¸&lt;/p></description></item><item><title>Day 09ï¼šä»Šå¤©åˆæƒ³ä¸å‡ºæ¨™é¡Œäº†ï¼tmux plugin å’Œ mouse mode</title><link>https://blog.simbafs.cc/p/ithelp/day09/</link><pubDate>Thu, 09 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day09/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day09.png" alt="Featured image of post Day 09ï¼šä»Šå¤©åˆæƒ³ä¸å‡ºæ¨™é¡Œäº†ï¼tmux plugin å’Œ mouse mode" />&lt;p>tmux æœ¬èº«å·²ç¶“æ˜¯å€‹éžå¸¸&lt;strong>å®Œå–„&lt;/strong>çš„è»Ÿé«”äº†ï¼Œå› æ­¤æˆ‘åªé¸äº†ä¸€å€‹å¤–æŽ›ï¼Œ&lt;a class="link" href="https://github.com/tmux-plugins/tmux-resurrect" target="_blank" rel="noopener"
>tmux-resurrect&lt;/a> é€™å€‹å¤–æŽ›è®“ä½ å¯ä»¥&lt;strong>å„²å­˜ç›®å‰çš„ tmux ç‰ˆé¢é…ç½®&lt;/strong>ï¼ˆåˆ†é ã€èž¢å¹•åˆ‡å‰²ã€åç¨±ç­‰ç­‰ï¼‰ï¼Œåœ¨ä¸‹æ¬¡å•Ÿå‹•æ™‚å¾©åŽŸï¼Œé€™å€‹åŠŸèƒ½åœ¨é–‹ç™¼å°ˆæ¡ˆè¦åˆ‡åˆ†ç·¨è¼¯ã€ç·¨è­¯ã€æ¸¬è©¦ç‰ˆé¢æ™‚å¾ˆå¥½ç”¨ï¼Œ&lt;strong>ä¸éœ€è¦æ¯æ¬¡é–‹æ©Ÿéƒ½é‡æ–°åˆ‡ç‰ˆé¢&lt;/strong>&lt;/p>
&lt;h1 id="å®‰è£">å®‰è£&lt;/h1>
&lt;p>æˆ‘å€‘ä¹‹å‰å·²ç¶“&lt;a class="link" href="" >å®‰è£éŽ tmp&lt;/a> äº†ï¼Œç¾åœ¨æˆ‘å€‘åªéœ€è¦åœ¨ &lt;code>~/.tmux.conf&lt;/code> ä¸­æ–°å¢žä¸€è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ set -g @plugin &amp;#39;tmux-plugins/tmux-resurrect&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æŽ¥ä¸‹ä¾†åŸ·è¡Œ &lt;code>tmux source ~/.tmux.conf&lt;/code> è¼‰å…¥æœ€æ–°çš„è¨­å®šæª”ï¼Œå†ä¾†ç”¨å¿«æ·éµ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->i&lt;!-- raw HTML omitted --> å®‰è£&lt;/p>
&lt;h1 id="ä½¿ç”¨">ä½¿ç”¨&lt;/h1>
&lt;p>åˆ‡å¥½ç‰ˆé¢å¾Œï¼ŒæŒ‰ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->s&lt;!-- raw HTML omitted --> ï¼ˆsaveï¼‰&lt;strong>å„²å­˜&lt;/strong>ç›®å‰ç‹€æ…‹ï¼Œé™¤äº†ç‰ˆé¢é…ç½®ï¼Œæ¯å€‹ session çš„å·¥ä½œè·¯å¾‘ä¹Ÿæœƒå„²å­˜ï¼Œvim é–‹å•Ÿçš„æª”æ¡ˆä¸‹æ¬¡é–‹å•Ÿæœ‰æ©Ÿæœƒæœƒå¹«ä½ é–‹ï¼Œä½†æ˜¯å¯èƒ½æœƒé‡åˆ°&lt;strong>æš«å­˜æª”&lt;/strong>çš„å•é¡Œï¼Œæ‰€ä»¥æˆ‘å»ºè­°æ˜¯å„²å­˜ç‹€æ…‹æ™‚æŠŠ vim é—œæŽ‰&lt;br>
ä¸‹æ¬¡è¦ä½¿ç”¨æ™‚ï¼Œç”¨ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->r&lt;!-- raw HTML omitted --> ï¼ˆrestoreï¼‰æ¢å¾©&lt;/p>
&lt;h1 id="æ›´å¤šå¤–æŽ›">æ›´å¤šå¤–æŽ›&lt;/h1>
&lt;p>åœ¨ &lt;a class="link" href="https://github.com/tmux-plugins/list" target="_blank" rel="noopener"
>https://github.com/tmux-plugins/list&lt;/a> æœ‰&lt;strong>æ›´å¤šå¤–æŽ›&lt;/strong>ï¼Œä¸»è¦å…§å®¹åŒ…æ‹¬&lt;strong>ç³»çµ±è³‡è¨Šé¡¯ç¤º&lt;/strong>ã€&lt;strong>è¤‡è£½è²¼ä¸Š&lt;/strong>ã€&lt;strong>æœå°‹&lt;/strong>ï¼Œæˆ‘å€‹äººè¦ºå¾—æ²’æœ‰é‡è¦åˆ°é ˆè¦ç‰¹åˆ¥æå‡ºä¾†ä»‹ç´¹ï¼Œå°±ä¸ä¸€ä¸€ä»‹ç´¹&lt;/p>
&lt;hr>
&lt;h1 id="æ›´å¤š-tmux">æ›´å¤š tmux&lt;/h1>
&lt;p>å¯«å®Œä»Šå¤©çš„å…§å®¹å¾Œæˆ‘ç™¼ç¾ï¼Œå…§å®¹å¥½åƒæœ‰é»žå°‘ï¼Œæ–¼æ˜¯å°±è£œå……äº†ä¸€äº› tmux çš„æ±è¥¿&lt;/p>
&lt;h2 id="åˆ—å‡ºæ‰€æœ‰å¿«æ·éµ">åˆ—å‡ºæ‰€æœ‰å¿«æ·éµ&lt;/h2>
&lt;p>tmux çš„å¿«æ·éžå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯æœ‰æ™‚å€™çœŸçš„æƒ³ä¸èµ·ä¾†æŸå€‹åŠŸèƒ½æ€Žéº¼æŒ‰ï¼Œé€™æ™‚å€™ä½ å¯ä»¥ç”¨ &lt;code>tmux list-kyes&lt;/code> æˆ–æ˜¯æ¯”è¼ƒçŸ­çš„ &lt;code>tmux lsk&lt;/code> çœ‹çœ‹ä»€éº¼æŒ‰éµå°æ‡‰åˆ°ä»€éº¼åŠŸèƒ½ã€‚&lt;br>
æœ‰æ™‚å€™é€²ä¾†çœ‹çœ‹æœ‰ä»€éº¼æ–¹ä¾¿çš„å¿«æ·éµè‡ªå·±é‚„ä¸çŸ¥é“ä¹ŸæŒºå¥½çŽ©çš„&lt;/p>
&lt;h2 id="æ»‘é¼ æŽ§åˆ¶">æ»‘é¼ æŽ§åˆ¶&lt;/h2>
&lt;p>ä¸çŸ¥é“æ˜¨å¤©çš„å„ç¨® tmux ç§»å‹•ã€èª¿æ•´å¤§å°çš„å¿«æ·éµæœ‰æ²’æœ‰åš‡åˆ°ä½ ã€‚tmux å…¶å¯¦é‚„æœ‰æä¾›ä¸€å€‹æ›´ç°¡å–®çš„æ“ä½œæ–¹å¼ï¼Œå¦‚æžœä½ çš„çµ‚ç«¯æ©Ÿæœ‰&lt;strong>æ”¯æ´æ»‘é¼ &lt;/strong>çš„è©±ï¼ˆåƒæ˜¯æˆ‘ç”¨çš„ gnome-terminal å°±æœ‰æä¾›ï¼‰ä½ å¯ä»¥åœ¨ &lt;code>~/.tmux.conf&lt;/code> ä¸­åŠ ä¸Šä¸€è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ set -g mouse on
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œé‡æ–°é–‹å•Ÿ tmuxï¼Œé€™æ™‚å€™ä½ å°±å¯ä»¥ç”¨&lt;strong>æ»‘é¼ æ›é &lt;/strong>ã€&lt;strong>åˆ‡æ›åˆ†å‰²ç•«é¢&lt;/strong>ã€&lt;strong>èª¿æ•´å¤§å°&lt;/strong>ç­‰ç­‰æ“ä½œï¼Œåœ¨ä¸åŒçš„åœ°æ–¹æŒ‰å³éµé‚„æœƒæœ‰ä¸åŒçš„åŠŸèƒ½å‘¦ï¼&lt;br>
ä½†æ˜¯è¦æ³¨æ„ï¼Œå¦‚æžœæ‰“é–‹é€™å€‹åŠŸèƒ½ï¼Œåœ¨ vim è£¡é¢å°±ä¸èƒ½ç”¨æ»¾è¼ªæ²å‹•æ–‡ä»¶ï¼Œå› ç‚ºæ»¾è¼ªæ²å‹•é€™å€‹äº‹ä»¶è¢« tmuxã€ŒåŠ«æŒã€äº†ï¼ˆé™¤éžä½ åœ¨ vim ä¹Ÿé–‹å•Ÿæ»‘é¼ åŠŸèƒ½ï¼‰&lt;/p>
&lt;h2 id="è¤‡è£½">è¤‡è£½&lt;/h2>
&lt;p>å¦‚æžœä½ æœ‰é–‹å•Ÿæ»‘é¼ åŠŸèƒ½çš„è©±ï¼Œä½ å¯ä»¥å¿«é€Ÿçš„æ“ä½œä¸€å€‹å¹³å¸¸ä¸å¤ªç”¨çš„åŠŸèƒ½â€”â€”&lt;strong>å‰ªè²¼ç°¿&lt;/strong>&lt;br>
tmux æœ‰è‡ªå·±å…§éƒ¨çš„å‰ªè²¼ç°¿ï¼Œä¸å’Œ vimã€ä½œæ¥­ç³»çµ±å…±ç”¨&lt;br>
å¦‚æžœä½ è¦å¾žçµ‚ç«¯æ©Ÿè¤‡è£½æ–‡å­—ï¼Œåªéœ€è¦&lt;strong>æŒ‰ä½å·¦éµ&lt;/strong>ã€&lt;strong>æ‹–ç§»&lt;/strong>ã€&lt;strong>æ”¾é–‹&lt;/strong>ï¼Œå°±æœƒè‡ªå‹•è¤‡è£½äº†&lt;br>
è€Œè²¼ä¸Šçš„å¿«æ·éµæ˜¯ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->]&lt;!-- raw HTML omitted -->&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day09/tmux-copy-paste.gif"
loading="lazy"
alt="tmux copy paste"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">è¤‡è£½è²¼ä¸Š&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>é€™å€‹å‰ªè²¼ç°¿å’Œ vim çš„å‰ªè²¼ç°¿ï¼ˆåˆ° vim çš„ç« ç¯€æœƒä»‹ç´¹ï¼‰ä½ å¯ä»¥äº¤æ›¿ä½¿ç”¨ï¼Œåœ¨å‘½ä»¤æ¨¡å¼ï¼ˆNORMALï¼‰æ™‚ç”¨ vim å°±ä¸ç”¨åˆ‡å›žç·¨è¼¯æ¨¡å¼ï¼Œåœ¨ç·¨è¼¯æ¨¡å¼ï¼ˆINSERTã€REPLACEï¼‰æ™‚ç”¨ tmux å¯ä»¥ç”¨ç”¨åˆ‡åˆ°å‘½ä»¤æ¨¡å¼ï¼ˆé€™è£¡çœ‹ä¸æ‡‚æ²’é—œä¿‚ï¼Œæˆ‘å€‘æœƒåœ¨è¬›åˆ° vim å‰ªè²¼ç°¿æ™‚å†è¬›ä¸€æ¬¡ï¼‰&lt;/p>
&lt;h2 id="ç³»çµ±å‰ªè²¼ç°¿">ç³»çµ±å‰ªè²¼ç°¿&lt;/h2>
&lt;p>å¦‚æžœä½ é–‹å•Ÿäº†æ»‘é¼ åŠŸèƒ½ï¼Œå¯æ˜¯ä½ åˆæƒ³è¦ç”¨ç³»çµ±å‰ªè²¼ç°¿ï¼Œä½ åªéœ€è¦åœ¨é¸å–æ–‡å­—æ™‚å£“è‘— &lt;!-- raw HTML omitted -->SHIFT&lt;!-- raw HTML omitted --> å°±å¯ä»¥&lt;strong>æš«æ™‚æŠ‘åˆ¶&lt;/strong> tmux çš„æ»‘é¼ åŠŸèƒ½ï¼ŒæŠŠæ–‡å­—è¤‡è£½åˆ°ç³»çµ±å‰ªè²¼ç°¿&lt;/p>
&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>tmux æ˜¯ä¸€å€‹&lt;strong>åŠŸèƒ½ç°¡å–®&lt;/strong>ä½†æ˜¯å¼·å¤§çš„è»Ÿé«”ï¼Œå› æ­¤ä»–çš„å¤–æŽ›æ˜Žé¡¯æ¯” zsh å°‘å¾ˆå¤šï¼ˆå’Œ vim ç›¸æ¯”å¯ä»¥èªªä¸€å€‹å¤–æŽ›éƒ½æ²’è£ XDï¼‰ï¼Œä½†æ˜¯æœ‰ä¸€äº›å»¶ä¼¸è‡ª tmux çš„è»Ÿé«”ï¼Œä¾‹å¦‚ &lt;a class="link" href="https://tmate.io/" target="_blank" rel="noopener"
>tmate&lt;/a>ï¼Œå ªç¨± terminal ä¸­çš„ teamviewerï¼Œè€Œä¸”æ˜¯å…è²»çš„ï¼&lt;br>
æ˜Žå¤©é–‹å§‹æœƒé€²å…¥ç´”â€§ CLI æ•´åˆå¼é–‹ç™¼ç’°å¢ƒçš„æ ¸å¿ƒâ€”â€” &lt;strong>nvim&lt;/strong>ï¼Œæ•¬è«‹æœŸå¾…&lt;/p></description></item><item><title>Day 08ï¼šå…«çˆªç« é­šä¹‹ tmux å¿«æ·éµ</title><link>https://blog.simbafs.cc/p/ithelp/day08/</link><pubDate>Wed, 08 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day08/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day08.png" alt="Featured image of post Day 08ï¼šå…«çˆªç« é­šä¹‹ tmux å¿«æ·éµ" />&lt;p>tmux æœ‰è¨±å¤šçš„&lt;strong>å¿«æ·éµ&lt;/strong>ä¾†æŽ§åˆ¶èž¢å¹•ï¼Œä¸è«–æ˜¯åˆ†å‰²ã€ç§»å‹•éƒ½å¯ä»¥è¼•é¬†å®Œæˆ&lt;/p>
&lt;h1 id="åˆ†å‰²ç•«é¢">åˆ†å‰²ç•«é¢&lt;/h1>
&lt;p>&lt;strong>åž‚ç›´åˆ†å‰²ç•«é¢&lt;/strong>çš„å¿«æ·éµæ˜¯ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->%&lt;!-- raw HTML omitted -->ï¼Œ&lt;strong>æ°´å¹³åˆ†å‰²&lt;/strong>çš„å¿«æ·éµæ˜¯ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->|&lt;!-- raw HTML omitted -->(pipeï¼Œshift + enter ä¸Šé¢é‚£å€‹)ã€‚æŒ‰ä¸‹åŽ»ç•«é¢å°±æœƒä»¥ä¸­é–“åˆ†é–‹ï¼Œå…©é‚Šéƒ½æ˜¯&lt;strong>ç¨ç«‹çš„&lt;/strong>ï¼Œå³ä½¿ä¸€é‚Šåœ¨ç·¨è­¯å¡ä½äº†ï¼Œå¦ä¸€é‚Šçš„ç·¨è¼¯å™¨é‚„æ˜¯å¯ä»¥æ­£å¸¸æ“ä½œçš„&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day08/tmux-split.gif"
loading="lazy"
alt="tmux split"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">åˆ†å‰²ç•«é¢ï¼Œä¸€é‚Šç·¨è¼¯ï¼Œä¸€é‚Šç·¨è­¯ï¼Œå¦ä¸€é‚ŠåŸ·è¡Œ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="åœ¨åˆ†å‰²ç•«é¢ä¸­ç§»å‹•">åœ¨åˆ†å‰²ç•«é¢ä¸­ç§»å‹•&lt;/h1>
&lt;p>ç¾åœ¨ä½ ç•«é¢åˆ†å‰²å¥½äº†ï¼Œè¦æ€Žéº¼ç§»å‹•å‘¢ï¼Ÿéžå¸¸ç›´è¦ºï¼Œ&lt;strong>å¾€ä¸Šå°±æ˜¯ä¸Šï¼Œå¾€å³å°±æ˜¯å³&lt;/strong>ã€‚&lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->æ–¹å‘éµ&lt;!-- raw HTML omitted -->&lt;br>
ä½ ä¹Ÿå¯ä»¥ç”¨ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->tab&lt;!-- raw HTML omitted --> æŒ‰ç…§é †åºç§»å‹•ï¼Œ&lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->SHIFT&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->tab&lt;!-- raw HTML omitted --> åå‘ç§»å‹•&lt;br>
è¨˜å¾—ï¼ŒæŒ‰æ–¹å‘éµæ™‚ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted --> è¦æ”¾é–‹ï¼Œä¸ç„¶å°±æœƒè®ŠæŽ¥ä¸‹ä¾†è¦ä»‹ç´¹çš„å¿«æ·éµ&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day08/tmux-move.gif"
loading="lazy"
alt="tmux move"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">åœ¨åˆ†å‰²ç•«é¢ä¸­ç§»å‹•&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="èª¿æ•´åˆ†å‰²å¤§å°">èª¿æ•´åˆ†å‰²å¤§å°&lt;/h1>
&lt;p>æœ‰æ™‚å€™æˆ‘å€‘ä¸ä¸€å®šæ˜¯è¦åˆ†æˆä¸€åŠï¼Œä¾‹å¦‚ä¸‹é¢äº”è¡Œï¼Œä¸Šé¢æ»¿ç‰ˆã€‚é€™æ™‚å€™ä½ å¯ä»¥ç”¨ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->æ–¹å‘éµ&lt;!-- raw HTML omitted --> èª¿æ•´å¤§å°&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day08/tmux-resize.gif"
loading="lazy"
alt="tmux resize"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">èª¿æ•´å¤§å°&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="æ–°å¢žåˆ†é ">æ–°å¢žåˆ†é &lt;/h1>
&lt;p>ä½ æœ‰æ²’æœ‰ç™¼ç¾çµ‚ç«¯æ©Ÿæœ€ä¸‹é¢é‚£è¡Œï¼Ÿé‚£å€‹æ˜¯ tmux çš„&lt;strong>åˆ†é &lt;/strong>ï¼Œç”¨ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->c&lt;!-- raw HTML omitted --> å°±å¯ä»¥æ–°å¢žä¸€å€‹åˆ†é ï¼Œæ–°å¢žé †åºæœƒ&lt;strong>å¾ž 0 é–‹å§‹æ‰¾ç©ºçš„è£œ&lt;/strong>ä¸Š&lt;br>
ç¯„ä¾‹å’Œåˆ†é ç§»å‹•ä¸€èµ·&lt;/p>
&lt;h1 id="åˆ†é ç§»å‹•">åˆ†é ç§»å‹•&lt;/h1>
&lt;p>åœ¨å¤šå€‹åˆ†é ä¸­ï¼Œä½ å¯ä»¥ç”¨ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> ç§»å‹•åˆ°ä¸Šä¸€æ¬¡ä½¿ç”¨çš„åˆ†é ï¼Œæˆ–æ˜¯ç”¨ &lt;!-- raw HTML omitted -->CTRL&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> + &lt;!-- raw HTML omitted -->æ•¸å­—éµ&lt;!-- raw HTML omitted --> ç§»å‹•åˆ°ç‰¹å®š ID çš„åˆ†é ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day08/tmux-win-move.gif"
loading="lazy"
alt="tmux win move"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">æ–°å¢žåˆ†é ã€åœ¨åˆ†é é–“ç§»å‹•&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="çµè«–">çµè«–&lt;/h1>
&lt;p>ä»Šå¤©çš„å…§å®¹æ¯”è¼ƒåæ“ä½œï¼Œè‡ªå·±å¤šè©¦è©¦å°±æœƒç†Ÿæ‚‰äº†ã€‚æŽŒæ¡ tmux ä¹‹å¾Œä½ æœƒç™¼ç¾ä½ æ ¹æœ¬ä¸éœ€è¦é–‹ä¸€å †çµ‚ç«¯æ©Ÿè¦–çª—ï¼Œ&lt;strong>ä¸€å€‹&lt;/strong>å°±å¤ ç”¨äº†ã€‚&lt;/p></description></item><item><title>Day 07ï¼šæ•´åˆ tmux å’Œ zsh</title><link>https://blog.simbafs.cc/p/ithelp/day07/</link><pubDate>Tue, 07 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day07/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day07.png" alt="Featured image of post Day 07ï¼šæ•´åˆ tmux å’Œ zsh" />&lt;p>æ˜¨å¤©çš„çµå°¾æåˆ°è¦æ•´åˆ tmux å’Œ zsh ä¸æ˜¯åœ¨ &lt;code>~/.zshrc&lt;/code> çµå°¾åŸ·è¡Œ &lt;code>tmux&lt;/code> é€™éº¼ç°¡å–®ï¼Œä»Šå¤©å°±è®“æˆ‘å€‘çœ‹çœ‹æœƒé‡åˆ°ä»€éº¼å•é¡Œå§ï¼&lt;/p>
&lt;h1 id="ç›´æŽ¥åŸ·è¡Œ-tmux">ç›´æŽ¥åŸ·è¡Œ tmux&lt;/h1>
&lt;p>åœ¨æ­£å¼é–‹å§‹å‰ï¼Œå…ˆè®“æˆ‘å€‘çœ‹çœ‹&lt;strong>ç›´æŽ¥&lt;/strong>åœ¨ &lt;code>~/.zshrc&lt;/code> å¾Œé¢åŸ·è¡Œ &lt;code>tmux&lt;/code> æœƒç™¼ç”Ÿä»€éº¼éŒ¯èª¤&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day07/tmux-1.gif"
loading="lazy"
alt="tmux 1"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">ç›´æŽ¥åŸ·è¡Œ &lt;code>tmux&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å—¯ï¼ŒéŒ¯èª¤è¨Šæ¯èªªè¦ unset $TMUX é‚£æˆ‘å€‘å°±ç…§ä½œå§ï¼&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day07/tmux-reproduce.gif"
loading="lazy"
alt="tmux reproduce"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">åŠ ä¸Š unset TMUXï¼Œå—¯ï¼Œçˆ†ç‚¸äº†ï¼&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="åˆ†æžå•é¡Œ">åˆ†æžå•é¡Œ&lt;/h1>
&lt;p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æžœç›´æŽ¥åŸ·è¡Œ &lt;code>tmux&lt;/code> çš„è©±ç¸½æ˜¯æœƒè·³å‡ºä¸€å€‹éŒ¯èª¤ &lt;code>sessions should be nested with care, unset $TMUX to force&lt;/code>ï¼Œé€™æ®µè¨Šæ¯å‘Šè¨´æˆ‘å€‘ï¼Œä¸èƒ½å»ºç«‹&lt;strong>å·¢ç‹€&lt;/strong> tmuxï¼Œé™¤éžå°‡ $TMUX ç’°å¢ƒè®Šæ•¸ç§»é™¤ã€‚æ¬¸ï¼Ÿæˆ‘å€‘ä¸æ˜¯åªåŸ·è¡Œä¸€æ¬¡ tmux å—Žï¼Ÿç‚ºä»€éº¼æœƒä»–èªªæˆ‘å€‘å»ºç«‹å·¢ç‹€ tmuxï¼Ÿæˆ‘å€‘ä¾†çœ‹çœ‹ç™»å…¥ä¹‹å¾Œç™¼ç”Ÿäº†ä»€éº¼äº‹ï¼š&lt;/p>
&lt;ol>
&lt;li>åŸ·è¡Œ zshï¼ˆå› ç‚ºæˆ‘å€‘çš„ &lt;strong>default shell&lt;/strong> æ˜¯ zshï¼‰&lt;/li>
&lt;li>zsh åŸ·è¡Œ &lt;code>~/.zshrc&lt;/code>ï¼Œåˆå§‹åŒ–çµ‚ç«¯æ©Ÿå¾ŒåŸ·è¡Œ &lt;code>tmux&lt;/code>&lt;/li>
&lt;li>tmux é–‹å•Ÿäº†&lt;strong>æ–°çš„ session&lt;/strong>ï¼Œ&lt;strong>åŸ·è¡Œ default shell&lt;/strong>&lt;/li>
&lt;li>&lt;code>~/.zshrc&lt;/code> åˆè¢«åŸ·è¡Œä¸€æ¬¡ï¼Œ&lt;code>tmux&lt;/code> è¢«åŸ·è¡Œ&lt;strong>ç¬¬äºŒæ¬¡&lt;/strong>&lt;/li>
&lt;li>å¦‚æžœä½ æ²’æœ‰ unset TMUXï¼Œé‚£ tmux å°±æœƒ&lt;strong>åœä¸‹ä¾†ä¸¦å°å‡ºéŒ¯èª¤è¨Šæ¯&lt;/strong>ï¼Œä½ ç¸½å…±å¾—åˆ°å…©å±¤ tmux&lt;br>
å¦‚æžœä½  unset TMUXï¼Œå°±æ˜¯å‘Šè¨´ tmux ä¸ç®¡å·¢ç‹€é™åˆ¶ï¼Œå°±æœƒå›žåˆ°ç¬¬ä¸‰æ­¥ï¼Œ&lt;strong>ä½ ç­‰è¶Šä¹…æœƒå¾—åˆ°è¶Šå¤š tmux&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>çœ‹ä¾†å•é¡Œåœ¨æ–¼ tmux å’Œ zsh åŸ·è¡Œçš„è¿´åœˆåœä¸ä¸‹ä¾†ï¼Œé‚£æˆ‘å€‘å°±åœ¨åŸ·è¡Œ tmux ä¹‹å‰ä½œå€‹&lt;strong>æ¢ä»¶åˆ¤æ–·&lt;/strong>ï¼Œ$TMUX ç‚ºç©ºå†åŸ·è¡Œ &lt;code>tmux&lt;/code> å¥½äº†&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">â“ &amp;gt; $TMUX æ˜¯ä»€éº¼&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">$TMUX æ˜¯ä¸€å€‹ç’°å¢ƒè®Šæ•¸ï¼Œæ˜¯ä¸€å€‹ç”±ä¸‰å€‹éƒ¨ä»½ä¸²èµ·ä¾†ã€ä»¥é€—è™Ÿåˆ†é–‹çš„å­—ä¸²ï¼Œç¬¬ä¸€éƒ¨ä»½æ˜¯ tmux çš„ unix socket è·¯å¾‘ï¼Œç¬¬äºŒéƒ¨ä»½æ˜¯ tmux çš„ pidï¼Œæœ€å¾Œæ˜¯ç›®å‰ tmux window çš„ç·¨è™Ÿï¼ˆå·¦ä¸‹è§’é‚£å€‹æ•¸å­—ï¼‰ã€‚é€™å€‹ç’°å¢ƒè®Šæ•¸åªæœ‰åœ¨ tmux è£¡é¢çš„ session æœƒè¨­å®šï¼Œæ‰€ä»¥å¯ä»¥ç•¶ä½œ tmux æ˜¯å¦å•Ÿå‹•çš„æª¢æŸ¥&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="åˆæ­¥ä¿®æ”¹">åˆæ­¥ä¿®æ”¹&lt;/h1>
&lt;p>æˆ‘å€‘åœ¨ &lt;code>~/.zshrc&lt;/code> ä¸­åŸ·è¡Œ &lt;code>tmux&lt;/code> çš„é‚£è¡Œåšä¸€äº›ä¿®æ”¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ if [[ -z $TMUX ]];then
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span>tmux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ fi
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æç¤ºï¼š&lt;code>-z $TMUX&lt;/code> å’Œ &lt;code>$TMUX == &amp;quot;&amp;quot;&lt;/code> æ•ˆæžœæ˜¯ä¸€æ¨£çš„&lt;/p>
&lt;/blockquote>
&lt;p>æŽ¥ä¸‹ä¾†æˆ‘å€‘çœ‹çœ‹é€™æ¨£ä¿®æ”¹æ•ˆæžœå¦‚ä½•&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day07/tmux-2.gif"
loading="lazy"
alt="tmux 2"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">å…ˆæª¢æŸ¥ $TMUX å†åŸ·è¡Œ &lt;code>tmux&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å¯ä»¥çœ‹åˆ°ï¼Œå·¢ç‹€ tmux çš„ç®—æ˜¯å•é¡Œè§£æ±ºäº†ï¼Œä½†æ˜¯ä½ æœƒç™¼ç¾é›¢é–‹ tmux ä¹‹å¾Œé‚„æ˜¯ä¸€å€‹å®Œæ•´çš„ zshï¼Œä½†æ˜¯é€™æ™‚å€™ä½ å·²ç¶“çµæŸå·¥ä½œäº†ï¼Œ&lt;strong>ä¸éœ€è¦å†ä¸€å€‹ shell&lt;/strong>ï¼Œä½ å¸Œæœ›é—œæŽ‰ tmux ä¹‹å¾Œæ‡‰æ”¹é—œæŽ‰çµ‚ç«¯æ©Ÿè¦–çª—çš„ï¼Œé€™åˆè¦æ€Žéº¼è¾¦å‘¢ï¼Ÿ&lt;/p>
&lt;h1 id="é—œæŽ‰å¤šé¤˜çš„-zsh">é—œæŽ‰å¤šé¤˜çš„ zsh&lt;/h1>
&lt;blockquote>
&lt;p>é¡Œå¤–è©±ï¼Œå¾žé€™è£¡é–‹å§‹å°±æ˜¯å€‹äººé¾œæ¯›ï¼Œæƒ³è¦æŠŠä½¿ç”¨é«”é©—èª¿æ•´åˆ°æœ€å¥½&lt;/p>
&lt;/blockquote>
&lt;p>é€™è£¡ä»‹ç´¹ä¸€å€‹å…§å»ºæŒ‡ä»¤ &lt;code>exec&lt;/code>ï¼Œé€™å€‹æŒ‡ä»¤æœƒæŠŠç•¶ä½œçš„ shell &lt;strong>ç”¨å¾Œé¢çš„åŸ·è¡Œæª”æ›¿æ›æŽ‰&lt;/strong>ã€‚ä¾‹å¦‚æˆ‘å€‘ç¾åœ¨çš„ shell æ˜¯ zshï¼ŒåŸ·è¡Œ &lt;code>exec ssh bbsu@ptt.cc&lt;/code> ä¹‹å¾Œï¼Œæˆ‘å€‘çš„ shell å°±æœƒæ›æˆ ssh äº†ã€‚é€™æœ‰ä»€éº¼å¥½è™•ï¼Ÿç°¡å–®ä¾†èªªå°±æ˜¯&lt;strong>é›¢é–‹é€™å€‹æŒ‡ä»¤å¾Œå°±æœƒé›¢é–‹çµ‚ç«¯æ©Ÿ&lt;/strong>ï¼Œä¸æœƒå†å›žåˆ°åŽŸæœ¬çš„ shellã€‚é€™å€‹æ•ˆæžœå‰›å¥½å’Œæˆ‘å€‘çš„éœ€æ±‚æ˜¯ä¸€æ¨£çš„ï¼Œæ‰€ä»¥è¦è§£æ±ºå¤šé¤˜çš„ zshï¼Œå°±åªéœ€è¦åœ¨ &lt;code>tmux&lt;/code> å‰é¢åŠ ä¸Š &lt;code>exec&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">if [[ -z $TMUX ]];then
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- tmux
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+ exec tmux
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span>fi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">â“ &amp;gt; &lt;code>exec cmd&lt;/code> å’Œ &lt;code>cmd; exit&lt;/code> æœ‰ä»€éº¼ä¸ä¸€æ¨£&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">é€™å…©å€‹å¯«æ³•éƒ½æœƒæœ‰ä¸€æ¨£çš„æ•ˆæžœ â€”â€” çµæŸ cmd å¾Œé›¢é–‹ï¼Œä½†æ˜¯ä»–å€‘é”æˆçš„åŽŸå› ä¸åŒï¼Œè©³ç´°æ•˜è¿°åœ¨ &lt;a class="link" href="https://stackoverflow.com/questions/8874596/difference-between-exec-and-exit-in-bash" target="_blank" rel="noopener"
>stackover flow&lt;/a> æœ‰ç›¸é—œè¨Žè«–ï¼Œæœ‰èˆˆè¶£å¯ä»¥çœ‹çœ‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">ä½ æœ‰å¯ä»¥ç”¨ &lt;code>htop&lt;/code> ä¹‹é¡žçš„å·¥å…·çœ‹çœ‹ process çš„çµæ§‹ï¼Œä½ å°±æœƒçŸ¥é“ &lt;code>exec&lt;/code> å’Œ &lt;code>exit&lt;/code> å·®åˆ¥åœ¨å“ªäº†&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="æ”¹é€²-zshrc">æ”¹é€² &lt;code>~/.zshrc&lt;/code>&lt;/h1>
&lt;p>æˆ‘å€‘å›žé ­çœ‹çœ‹ç›®å‰çš„ shell å•Ÿå‹•æµç¨‹ï¼Œä½ æœƒç™¼ç¾é›–ç„¶æˆ‘å€‘ä¸æœƒå›žåˆ°æœ€åˆçš„ zshï¼Œä½†æ˜¯ä»–å»åšäº†ä¸€å †&lt;strong>ç„¡æ„ç¾©çš„&lt;/strong>åˆå§‹åŒ–ã€å¤–æŽ›è¼‰å…¥ï¼Œæˆ‘å€‘å¯ä»¥å°‡é€™æ®µè¨­å®š&lt;strong>ç´å…¥ if&lt;/strong> è£¡é¢ï¼Œéœ€è¦æ™‚æ‰åŸ·è¡Œï¼Œå¦‚æžœåªæ˜¯è¦å•Ÿå‹• tmux å°±ä¸å¿…èµ°ä¸€éè¨­å®š plugin ä¹‹é¡žçš„æµç¨‹ï¼Œæ”¹é€²å¾Œçš„ &lt;code>~/.zshrc&lt;/code> å¤§æ¦‚é•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> -z &lt;span class="nv">$$&lt;/span>TMUX &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exec&lt;/span> tmux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># init zsh ......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†è¼‰å…¥é€Ÿåº¦å’Œè¨˜æ†¶é«”ç”¨é‡éƒ½æœƒæœ‰ä¸€å’ªå’ªçš„æ¸›å°‘&lt;/p>
&lt;h1 id="é¸æ“‡æ€§åŸ·è¡Œ-tmux">é¸æ“‡æ€§åŸ·è¡Œ tmux&lt;/h1>
&lt;p>æœ‰æ™‚å€™ä½ å¯èƒ½æœƒ&lt;strong>ä¸æƒ³å•Ÿå‹• tmux&lt;/strong>ï¼Œä¾‹å¦‚ ssh åˆ°é ç«¯ä¸»æ©Ÿï¼Œåœ¨é ç«¯ä¸»æ©Ÿä¸Šå•Ÿå‹• tmux è€Œä¸æ˜¯åœ¨æœ¬æ©Ÿä¸Šå•Ÿå‹•ï¼ˆåœ¨æœ¬æ©Ÿä¸Šå•Ÿå‹•çš„è©±è¦é–‹å¾ˆå¤š ssh é€£ç·šï¼Œåœ¨é ç«¯å•Ÿå‹•åªè¦é€£ç·šä¸€æ¬¡ï¼‰ï¼Œé€™æ™‚å€™å°±è¦æœ‰&lt;strong>ä¸€å€‹æ©Ÿåˆ¶å¯ä»¥æŠŠä¸»æ©Ÿä¸Šçš„ tmux é—œæŽ‰&lt;/strong>ï¼Œå›žåˆ°åŽŸæœ¬çš„ shellï¼Œé”æˆæ–¹æ³•æœ‰å¾ˆå¤šï¼Œé€™è£¡æˆ‘ä»‹ç´¹ä¸€å€‹æˆ‘è¦ºå¾—æœ€å„ªé›…çš„æ–¹æ³•ï¼Œåœ¨ &lt;code>~/.zshrc&lt;/code> ä¸­ tmux å•Ÿå‹•åˆ¤æ–·ä¸ŠåŠ ä¸Šä»¥ä¸‹æ¢ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- if [[ -z $TMUX ]]; then
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+ if [[ -z $TMUX ]] &amp;amp;&amp;amp; [[ ! -f $HOME/.notmux ]]; then
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ™‚å€™ tmux å•Ÿå‹•æ¢ä»¶å°±è®Šæˆã€Œtmux é‚„æ²’å•Ÿå‹•ã€ä¸”ã€Œ&lt;code>~/.notmux&lt;/code> ä¸å­˜åœ¨ã€ï¼Œåœ¨é€™è£¡æˆ‘å€‘æŠŠ &lt;code>~/.notmux&lt;/code> é€™å€‹æª”æ¡ˆç•¶ä½œä¸€å€‹é–‹é—œï¼Œå¦‚æžœé€™å€‹æª”æ¡ˆå­˜åœ¨ tmux å°±ä¸æœƒå•Ÿå‹•ã€‚&lt;/p>
&lt;p>å¦‚æžœä½ æƒ³å•Ÿå‹•ä¸€å€‹æ²’æœ‰ tmux çš„çµ‚ç«¯æ©Ÿï¼Œå…ˆå»ºç«‹ &lt;code>~/.notmux&lt;/code> æª”æ¡ˆ &lt;code>touch ~/.notmux&lt;/code>ï¼Œç„¶å¾Œé–‹å•Ÿæ–°çš„çµ‚ç«¯æ©Ÿ&lt;/p>
&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>ä»Šå¤©çš„å…§å®¹æ¯”è¼ƒé›œï¼Œä¿®æ”¹çš„éƒ¨ä»½ä¹Ÿæ¯”è¼ƒé›¶æ•£ï¼Œä¸‹é¢æ˜¯ç›®å‰ &lt;code>~/.zshrc&lt;/code> çš„å…§å®¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> -z &lt;span class="nv">$TMUX&lt;/span> &lt;span class="o">]]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="o">[[&lt;/span> ! -f &lt;span class="nv">$HOME&lt;/span>/.notmux &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exec&lt;/span> tmux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">source&lt;/span> ~/.zplug/init.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># plugins&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> zplug &lt;span class="s1">&amp;#39;romkatv/powerlevel10k&amp;#39;&lt;/span>, as:theme, depth:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> zplug &lt;span class="s1">&amp;#39;zsh-users/zsh-autosuggestions&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> zplug &lt;span class="s1">&amp;#39;marlonrichert/zsh-autocomplete&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> zplug &lt;span class="s1">&amp;#39;hlissner/zsh-autopair&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> ! zplug check --verbose&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">printf&lt;/span> &lt;span class="s2">&amp;#34;Install? [y/N]: &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">read&lt;/span> -q&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo&lt;span class="p">;&lt;/span> zplug install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> zplug load
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Initialization code that may require console input (password prompts, [y/n]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># confirmations, etc.) must go above this block; everything else may go below.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> -r &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">XDG_CACHE_HOME&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="p">/.cache&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/p10k-instant-prompt-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="p">(%)&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="p">%n&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">.zsh&amp;#34;&lt;/span> &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">source&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">XDG_CACHE_HOME&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="p">/.cache&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/p10k-instant-prompt-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="p">(%)&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="p">%n&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">.zsh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">[[&lt;/span> ! -f ~/.p10k.zsh &lt;span class="o">]]&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nb">source&lt;/span> ~/.p10k.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> -z &lt;span class="nv">$TMUX&lt;/span> &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tmux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Day 06ï¼šèž¢å¹•åˆ‡å…«æ®µï¼å¤šé–‹ç¥žå™¨ tmux</title><link>https://blog.simbafs.cc/p/ithelp/day06/</link><pubDate>Mon, 06 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day06/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day06.png" alt="Featured image of post Day 06ï¼šèž¢å¹•åˆ‡å…«æ®µï¼å¤šé–‹ç¥žå™¨ tmux" />&lt;p>ä»Šå¤©èµ·è¦ä»‹ç´¹çš„æ˜¯ tmuxï¼Œé€™æ˜¯ä¸€å€‹çµ‚ç«¯æ©Ÿçš„ &lt;strong>session ç®¡ç†å™¨&lt;/strong>ï¼Œä»€éº¼æ˜¯ session å‘¢ï¼Ÿä½ å¯ä»¥æŠŠ session ç†è§£ç‚ºä¸€å€‹&lt;strong>çµ‚ç«¯æ©Ÿ&lt;/strong>ï¼ˆç•«é¢ï¼‰å’Œ&lt;strong>ä¸»æ©Ÿ&lt;/strong> ï¼ˆä½ çš„é›»è…¦ï¼‰çš„é€£ç·šï¼Œtmux åšçš„äº‹å°±æ˜¯æŠŠä¸€å€‹çµ‚ç«¯æ©Ÿ&lt;strong>åˆ‡åˆ†æˆå¤šå€‹çµ‚ç«¯æ©Ÿ&lt;/strong>ï¼Œç™½è©±èªªå°±æ˜¯&lt;strong>å¤šé–‹ç¥žå™¨&lt;/strong>å•¦ï¼é€™æ¨£ä½ å°±å¯ä»¥å·¦é‚Šç·¨è¼¯ç¨‹å¼ã€å³é‚Šçœ‹åŸ·è¡Œçµæžœï¼ˆå¦‚åœ–ï¼‰ã€‚è€Œä¸”ä¸€åˆ‡æ“ä½œéƒ½åœ¨&lt;strong>ä¸€å€‹&lt;/strong>çµ‚ç«¯æ©Ÿè¦–çª—è£¡é¢ï¼Œé€™æ„å‘³è‘—å³ä½¿ä½ åœ¨&lt;strong>æ²’æœ‰åœ–å½¢ç•Œé¢&lt;/strong>çš„ç´”æ–‡å­—æ¨¡å¼ï¼ˆåƒæ˜¯ single user modeã€ssh é€£ç·šï¼‰ä¹Ÿå¯ä»¥äº«å—å¦‚åŒåœ–å½¢ç•Œé¢çš„ä¾¿åˆ©ï¼&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day06/tmuxDemo.gif"
loading="lazy"
alt="tmux demo"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">tmux demo&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="å®‰è£">å®‰è£&lt;/h1>
&lt;h2 id="debianubuntu">debian/ubuntu&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ apt install tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="macos">macOS&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ brew install tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å…¶ä»–-or-è‡ªå·±ç·¨è­¯">å…¶ä»– or è‡ªå·±ç·¨è­¯&lt;/h2>
&lt;p>å…¶ä»–å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://github.com/tmux/tmux/wiki/Installing" target="_blank" rel="noopener"
>https://github.com/tmux/tmux/wiki/Installing&lt;/a> çš„èªªæ˜Ž&lt;/p>
&lt;h1 id="config">config&lt;/h1>
&lt;p>tmux å•Ÿå‹•æ™‚æœƒåŽ»è®€å– &lt;code>~/.tmux.conf&lt;/code> é€™å€‹æª”æ¡ˆï¼Œæ‰€ä»¥çš„è¨­å®šæª”éƒ½æ”¾åœ¨é€™ï¼Œåœ¨é€™è£¡ï¼Œæˆ‘æŽ¨è–¦ä¸€å€‹æˆ‘ç”¨å¾ˆå¤šå¹´çš„è¨­å®šæª”ï¼Œ&lt;a class="link" href="https://gist.github.com/simbafs/e06a1763c1967ce3f4b5ef643db5e0b3" target="_blank" rel="noopener"
>é»žæ“Šé€™è£¡ä¸‹è¼‰&lt;/a>ï¼Œæˆ–æ˜¯åŸ·è¡Œä»¥ä¸‹å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">curl https://gist.githubusercontent.com/simbafs/e06a1763c1967ce3f4b5ef643db5e0b3/raw/2f28c62d01f419a390bfc0e66a974985bacdefa5/.tmux.conf &amp;gt; ~/.tmux.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹æª”æ¡ˆæ˜¯æˆ‘å¾ž&lt;strong>ç¶²è·¯&lt;/strong>ä¸Šæ‰¾åˆ°çš„ï¼Œå¾Œä¾†æœ‰åŠ ä¸€äº›è‡ªå·±çš„æ±è¥¿ï¼ŒæŠŠæª”æ¡ˆä¸‹è¼‰ä¸‹ä¾†ä¸¦å­˜åˆ° &lt;code>~/.tmux.conf&lt;/code> è£¡é¢ï¼Œé—œæ–¼æ¯ä¸€è¡Œçš„ç”¨é€”éƒ½æœ‰ç”¨è¨»è§£æ¨™ç¤ºï¼Œä¸»è¦å¹¾å€‹æ”¹è®Šæœ‰ä»¥ä¸‹å¹¾é»žï¼š&lt;/p>
&lt;ul>
&lt;li>æŠŠå‰ç½®æŒ‰éµï¼ˆprefixï¼‰å¾ž &lt;!-- raw HTML omitted -->Ctrl&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->b&lt;!-- raw HTML omitted --> æ”¹æˆ &lt;!-- raw HTML omitted -->Ctrl&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->a&lt;!-- raw HTML omitted --> (ç¬¬ 16 ~ 19 è¡Œï¼Œä¸å–œæ­¡çš„è©±å¯ä»¥æ‹¿æŽ‰)ï¼Œä½ ä¹Ÿå¯ä»¥æ”¹æˆå…¶ä»–æŒ‰éµ&lt;/li>
&lt;li>åº•éƒ¨ status bar è®Šæˆå½©è‰²ï¼Œä¸å†æ˜¯å–®èª¿çš„ç¶ è‰²&lt;/li>
&lt;li>ä¸€äº›å¿«æ·éµç¶å®š&lt;/li>
&lt;/ul>
&lt;h1 id="å•Ÿå‹•">å•Ÿå‹•&lt;/h1>
&lt;p>æš«æ™‚æˆ‘å€‘ä¸åŠ å…¥é–‹å•Ÿçµ‚ç«¯æ©Ÿè‡ªå‹•å•Ÿå‹• tmuxï¼Œæ‰‹å‹•å•Ÿå‹•æ–¹å¼æ˜¯åœ¨çµ‚ç«¯æ©ŸåŸ·è¡Œå‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">tmux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ™‚å€™ä½ æœƒçœ‹åˆ°çµ‚ç«¯æ©Ÿæœ€ä¸Šé¢è·³å‡ºä¸€å€‹éŒ¯èª¤è¨Šæ¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">~/.tmux/plugins/tpm/tpm&amp;#39; returned 127
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ˜¯å› ç‚ºæˆ‘å€‘é‚„æ²’è£ tmux çš„å¤–æŽ›ç®¡ç†å™¨ &lt;a class="link" href="https://github.com/tmux-plugins/tpm" target="_blank" rel="noopener"
>tmp&lt;/a> (æ˜¯ tmux plugins mamagerï¼Œä¸æ˜¯æœ€è¿‘ win 11 çš„ tpm 2.0)&lt;br>
tpm å®‰è£å¾ˆç°¡å–®ï¼Œåªè¦&lt;strong>ä¸€è¡ŒæŒ‡ä»¤&lt;/strong>å°±å¯ä»¥äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¦å®‰è£å¤–æŽ›åªè¦åœ¨ &lt;code>run '~/.tmux/plugins/tpm/tpm'&lt;/code> ä¹‹å¾ŒåŠ ä¸Š &lt;code>set -g @plugin &amp;lt;repo&amp;gt;&lt;/code> å°±è¡Œäº†ï¼Œåœ¨æˆ‘çµ¦çš„ config æª”ä¸­è¨»è§£æœ‰èªªæ˜Ž repo æ ¼å¼&lt;br>
é€™æ™‚å€™å•Ÿå‹• tmux å°±ä¸æœƒæœ‰éŒ¯èª¤äº†&lt;/p>
&lt;h1 id="é å‘Š">é å‘Š&lt;/h1>
&lt;p>ä»Šå¤©å®‰è£å¥½äº† tmux å’Œå¤–æŽ›ç®¡ç† tpmï¼Œæ˜Žå¤©æœƒä»‹ç´¹å¦‚ä½•åœ¨é–‹å•Ÿçµ‚ç«¯æ©Ÿæ™‚&lt;strong>è‡ªå‹•é–‹å•Ÿ&lt;/strong> tmuxï¼Œä½ ä»¥ç‚ºæ˜¯ç›´æŽ¥åœ¨ &lt;code>~/.zshrc&lt;/code> ä¸­åŸ·è¡Œ tmux å—Žï¼Ÿå˜¿å˜¿å˜¿ï¼Œä½ å¯ä»¥è©¦è©¦å°±çŸ¥é“ç‚ºä»€éº¼æ²’é€™éº¼ç°¡å–®äº†ï¼Œæ˜Žå¤©çš„æ–‡ç« æœƒå¥½å¥½ä»‹ç´¹å¦‚ä½•&lt;strong>å®Œç¾Žæ•´åˆ zsh å’Œ tmux&lt;/strong>&lt;/p></description></item><item><title>Day 05ï¼šæ˜¯èªªï¼Œé€™å€‹é¸é …å¯ä»¥æŽ¥ä»€éº¼æ±è¥¿ï¼Ÿautocomplete èˆ‡ auto-pair</title><link>https://blog.simbafs.cc/p/ithelp/day05/</link><pubDate>Sun, 05 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day05/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day05.png" alt="Featured image of post Day 05ï¼šæ˜¯èªªï¼Œé€™å€‹é¸é …å¯ä»¥æŽ¥ä»€éº¼æ±è¥¿ï¼Ÿautocomplete èˆ‡ auto-pair" />&lt;p>ä»Šå¤©æœƒä»‹ç´¹å…©å€‹&lt;strong>é–‹ç®±å³ç”¨&lt;/strong>ï¼ˆ out of box ï¼‰çš„å¤–æŽ›å’Œç°¡åŒ–æŒ‡ä»¤çš„ alias&lt;/p>
&lt;h1 id="zsh-autocomplete">zsh-autocomplete&lt;/h1>
&lt;p>åœ¨ CLI ä¸‹æŒ‡ä»¤æ™‚ï¼Œæœ‰æ™‚å€™æœƒ&lt;strong>å¿˜è¨˜é¸é …&lt;/strong>å«ä»€éº¼ã€æª”åä¸­çš„ &lt;code>k&lt;/code> åˆ°åº•æ˜¯å¤§å¯«é‚„æ˜¯å°å¯«ï¼Œé€™æ™‚å€™ autocomplete å°±å¾ˆå¥½ç”¨ï¼Œä»–æœƒå¹«æˆ‘å€‘é¸å‡º&lt;strong>æŽ¥ä¸‹ä¾†å¯ä»¥å¡«çš„å­—&lt;/strong>ï¼Œåƒæ˜¯&lt;strong>é¸é …&lt;/strong>ã€&lt;strong>å­å‘½ä»¤&lt;/strong>ã€&lt;strong>æª”å&lt;/strong>ç­‰ç­‰ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">â“ &amp;gt; autocomplete å’Œ autosuggestion æœ‰ä»€éº¼ä¸åŒï¼ŸæœƒåŒè¡çªå—Žï¼Ÿ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">å‰è€…æ˜¯å¾ž completion function ä¸­æ‰¾å»ºè­°ï¼Œå¾Œè€…æ˜¯å¾žä»¥å‰ä¸‹éŽçš„æŒ‡ä»¤ä¸­æ‰¾å»ºè­°ï¼Œå…©è€…ä¸æœƒè¡çª&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="å®‰è£-autocomplete">å®‰è£ autocomplete&lt;/h2>
&lt;p>æ‰˜ &lt;a class="link" href="./day02.md#zplug" >zplug&lt;/a> çš„ç¦ï¼Œæˆ‘å€‘åªéœ€è¦ä¿®æ”¹ &lt;code>~/.zshrc&lt;/code> å°±å¯ä»¥å®‰è£å¤–æŽ›äº†ã€‚åœ¨ &lt;code>~/.zshrc&lt;/code> ä¸­æ–°å¢žä»¥ä¸‹è¨­å®š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ zplug &amp;#39;marlonrichert/zsh-autocomplete&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œé‡æ–°é–‹å•Ÿçµ‚ç«¯æ©Ÿä¸¦å®‰è£æ–°å¢žçš„å¤–æŽ›å°±å¯ä»¥äº†&lt;br>
ä½ æœƒç™¼ç¾ä½ ç¾åœ¨æ‰“æŒ‡ä»¤ï¼Œä¸‹é¢éƒ½æœƒå‡ºç¾ä¸€äº›å¯èƒ½å¯ä»¥é¸çš„é¸é …ï¼Œä¾‹å¦‚åŒæ¨£é–‹é ­çš„æŒ‡ä»¤ã€æª”åã€‚&lt;/p>
&lt;blockquote>
&lt;p>åœ¨ &lt;a class="link" href="https://github.com/marlonrichert/zsh-autocomplete" target="_blank" rel="noopener"
>https://github.com/marlonrichert/zsh-autocomplete&lt;/a> æœ‰å¿«æ·éµæ•™å­¸&lt;/p>
&lt;/blockquote>
&lt;h2 id="è¨­å®š">è¨­å®š&lt;/h2>
&lt;blockquote>
&lt;p>é€™æ®µæ˜¯æˆ‘åœ¨å¯«å®Œç¬¬ä¸€ç‰ˆå¾Œæ–°å¢žäº†ï¼Œæ‰€ä»¥åœ¨ &lt;a class="link" href="https://ithelp.ithome.com.tw/users/20130473/ironman/3975" target="_blank" rel="noopener"
>ç´”â€§ CLI æ•´åˆé–‹ç™¼ç’°å¢ƒ&lt;/a> æ˜¯æ²’æœ‰çš„&lt;/p>
&lt;/blockquote>
&lt;p>ç‚ºäº†å¯ä»¥çˆ½çˆ½çš„ç”¨ autocompleteï¼Œæˆ‘æ–°å¢žäº†ä¸€äº›è¨­å®šï¼Œé€™äº›æ”¾åˆ° &lt;code>~/.zshrc&lt;/code> è£¡é¢éš¨ä¾¿ä¸€å€‹åœ°æ–¹å°±å¯ä»¥äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># case sensitive&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zstyle &lt;span class="s1">&amp;#39;:completion:*&amp;#39;&lt;/span> matcher-list &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;m:{a-zA-Z}={A-Za-z}&amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;r:|[._-]=* r:|=*&amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;l:|=* r:|=*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># zsh-autocomplete configure&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Down arrow:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bindkey &lt;span class="s1">&amp;#39;\e[B&amp;#39;&lt;/span> down-line-or-select
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bindkey &lt;span class="s1">&amp;#39;\eOB&amp;#39;&lt;/span> down-line-or-select
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># down-line-or-select: Open completion menu.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># down-line-or-history: Cycle to next history line.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡æ–°å¢žäº†ã€Œå€åˆ†å¤§å°å¯«ã€å’Œã€Œæ–¹å‘éµé¸å»ºè­°ã€å…©å€‹åŠŸèƒ½&lt;/p>
&lt;h1 id="zsh-autopair">zsh-autopair&lt;/h1>
&lt;p>é€™å€‹ç°¡å–®ä½†æ˜¯è²¼å¿ƒçš„åŠŸèƒ½åœ¨é€™å€‹ IDE ä¸­å¾ˆå¸¸è¦‹ï¼Œæˆ‘å€‘çš„ç•¶ç„¶ä¹Ÿä¸èƒ½æ¼æŽ‰ä»–&lt;br>
ä¸€æ¨£ä¿®æ”¹ &lt;code>~/.zshrc&lt;/code> å°±å¯ä»¥å®‰è£äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ zplug &amp;#39;hlissner/zsh-autopair&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‡æ–°é–‹å•Ÿå®‰è£å¾Œå°±å¯ä»¥äº«å—&lt;strong>è‡ªå‹•æ‹¬è™Ÿäº†&lt;/strong>ï¼&lt;/p>
&lt;h1 id="alias">alias&lt;/h1>
&lt;p>alias çš„èªžæ³•å¾ˆç°¡å–®ï¼Œ&lt;a class="link" href="../day02" >day02&lt;/a> æœ‰æåˆ°éŽï¼Œæˆ‘å€‘å†è¤‡ç¿’ä¸€æ¬¡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">alias a=b
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é—œæ–¼ alias æœ‰å…©é»žè¦æ³¨æ„&lt;/p>
&lt;ul>
&lt;li>ç­‰è™Ÿ &lt;code>=&lt;/code> &lt;strong>å·¦å³ä¸èƒ½æœ‰ç©ºç™½&lt;/strong>&lt;/li>
&lt;li>å¦‚æžœå³é‚Šæœ‰ç©ºç™½ï¼Œè¦ç”¨å¼•è™Ÿ &lt;code>'&lt;/code>ã€&lt;code>&amp;quot;&lt;/code> æ‹¬èµ·ä¾†&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">a&lt;/span>&lt;span class="o">=&lt;/span>b &lt;span class="c1"># O&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">c&lt;/span> &lt;span class="o">=&lt;/span> d &lt;span class="c1"># X&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æŽ¥ä¸‹ä¾†æœƒæœ‰æˆ‘ç²¾éŠå‡ºä¾†å¿…å‚™çš„ aliasï¼Œä¸Šé¢çš„è¨»è§£æ˜¯é—œæ–¼é€™å€‹ alias è§£é‡‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åŠ ä¸Š -r åœ¨åˆªé™¤/è¤‡è£½ç›®éŒ„æ™‚æ‰ä¸æœƒè·³è­¦å‘Š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">rm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;rm -r&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">cp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;cp -r&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -h å¯ä»¥æŠŠæª”æ¡ˆå¤§å°åŠ ä¸Šé©ç•¶çš„å–®ä½ï¼Œæ¯”è¼ƒå¥½è®€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -l å°å‡ºé™¤äº†æª”åå…¶ä»–çš„è³‡è¨Šï¼Œexï¼šæ¬Šé™ã€å¤§å°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -Fã€--color ç´”ç²¹æ˜¯å¥½çœ‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">ls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;ls -hlF --color=auto&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤§æŽ¨ï¼Œé€™å€‹ alias éžå¸¸å¥½ç”¨ï¼ˆzsh æœ‰é¡žä¼¼åŠŸèƒ½çš„å¤–æŽ›å¯ä»¥è£ï¼Œä½†æ˜¯æˆ‘è¦ºå¾—å¯ä»¥ç”¨ alias å°±ç”¨ alias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> ..&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;cd ../&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŠŠç•¶å‰ç›®éŒ„ä¸‹çš„æª”æ¡ˆ/ç›®éŒ„ä»¥æ¨¹ç‹€çµæ§‹å°å‡ºä¾†ï¼ŒæœƒæŠŠä¸é‡è¦çš„ï¼ˆ.git, node_modulesï¼‰å¿½ç•¥ï¼Œå¾Œé¢å¯ä»¥æŽ¥è·¯å¾‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">tree&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;tree -alI &amp;#39;node_modules|.git&amp;#39;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åŠ ä¸Šé¡è‰²&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">grep&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;grep --color=always&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¶…å¥½ç”¨ï¼Œåœ¨ç•¶å‰ç›®éŒ„ä¸­æ‰€æœ‰æª”æ¡ˆä¸­æ‰¾æŒ‡å®šå­—ä¸²ï¼Œç”¨æ³•ï¼šgrepFind &amp;#39;console.log&amp;#39;ï¼Œæœƒå°å‡ºæª”æ¡ˆè¡Œè™Ÿï¼Œé‚„æœƒæŠŠç›®æ¨™å­—ä¸²ä¸Šè‰²&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">grepFind&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;grep --exclude-dir=node_modules -nr . -e&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å»ºç«‹å·¢ç‹€ç›®éŒ„æ™‚æœƒä¸€ä¸¦å»ºç«‹ä¸Šå±¤ç›®éŒ„ï¼Œä¸‹é¢è§£é‡‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">mkdir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;mkdir -p&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="mkdir--p">mkdir -p&lt;/h2>
&lt;p>å‡è¨­ä½ ç¾åœ¨åœ¨ä¸€å€‹ç©ºç›®éŒ„è£¡ï¼Œä¸‹ä»¥ä¸‹æŒ‡ä»¤ï¼ˆæ²’æœ‰ aliasï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">mkdir src/user
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½ æœƒå¾—åˆ° &lt;code>mkdir: ç„¡æ³•å»ºç«‹ ã€Œsrc/userã€ ç›®éŒ„: æ²’æœ‰æ­¤ä¸€æª”æ¡ˆæˆ–ç›®éŒ„&lt;/code>ï¼Œé€™æ˜¯å› ç‚º &lt;code>mkdir&lt;/code> &lt;strong>æ‰¾ä¸åˆ°&lt;/strong> &lt;code>user&lt;/code> çš„&lt;strong>ä¸Šå±¤ç›®éŒ„&lt;/strong> &lt;code>src&lt;/code>ï¼Œé€™æ™‚å€™åŠ ä¸Š &lt;code>-p&lt;/code> å°±ä¸ä¸€æ¨£äº†ï¼Œå› ç‚º &lt;code>-p&lt;/code> æœƒè®“ &lt;code>mkdir&lt;/code> åœ¨ä¸Šå±¤ç›®éŒ„ä¸å­˜åœ¨æ™‚&lt;strong>è‡ªå‹•å»ºç«‹&lt;/strong>ï¼Œå› æ­¤ &lt;code>mkdir src/user&lt;/code> å°±æœƒæˆåŠŸï¼Œä¸æœƒå†è·³éŒ¯èª¤&lt;/p>
&lt;h1 id="é å‘Š">é å‘Š&lt;/h1>
&lt;p>åˆ°ä»Šå¤©é—œæ–¼ zsh çš„ä»‹ç´¹å°±çµæŸäº†ï¼Œæ˜Žå¤©é–‹å§‹æœƒä¾†è¬›è¬›çµ‚ç«¯æ©Ÿç®¡ç†ç¥žå™¨ tmux&lt;/p></description></item><item><title>Day 04ï¼šé‡‘é­šè¨˜æ†¶åŠ›å¤ªçŸ­æš«ï¼Œäº¤çµ¦å¤–æŽ›è¨˜å§ï¼autosuggestions èˆ‡ sugstring-search</title><link>https://blog.simbafs.cc/p/ithelp/day04/</link><pubDate>Sat, 04 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day04/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day04.png" alt="Featured image of post Day 04ï¼šé‡‘é­šè¨˜æ†¶åŠ›å¤ªçŸ­æš«ï¼Œäº¤çµ¦å¤–æŽ›è¨˜å§ï¼autosuggestions èˆ‡ sugstring-search" />&lt;p>ä»Šå¤©çš„å…§å®¹æœƒæ¯”å¹³å¸¸å¤šï¼Œä½†æ˜¯éžå¸¸ç´®å¯¦ï¼&lt;/p>
&lt;p>æœ‰æ™‚å€™æˆ‘å€‘åœ¨ CLI æ“ä½œæ™‚é‡åˆ°å¾ˆå¤š&lt;strong>é‡è¤‡&lt;/strong>çš„æŒ‡ä»¤ï¼Œåƒæ˜¯ &lt;code>git add&lt;/code>ã€&lt;code>git commit -m 'ba la ba la'&lt;/code> ç­‰ç­‰ï¼Œé€™äº›æŒ‡ä»¤å¯èƒ½åˆé•·åˆè¤‡é›œï¼Œä¸€ç›´éƒ½æ˜¯è‡ªå·±æ‰“ä¹Ÿä¸æ˜¯è¾¦æ³•ï¼Œé€™æ™‚å€™å°±è©²è«‹å‡º &lt;a class="link" href="https://github.com/zsh-users/zsh-autosuggestions" target="_blank" rel="noopener"
>autosuggestions&lt;/a> äº†&lt;/p>
&lt;h1 id="å®‰è£-autosuggestions">å®‰è£ autosuggestions&lt;/h1>
&lt;p>è€æ¨£å­ï¼Œå®‰è£å¤–æŽ›åªé ˆè¦ä¿®æ”¹ &lt;code>~/.zshrc&lt;/code> å°±å¯ä»¥äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># plugins
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &amp;#39;romkatv/powerlevel10k&amp;#39;, as:theme, depth:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ zplug &amp;#39;zsh-users/zsh-autosuggestions&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚º &lt;code>autosuggestions&lt;/code> æ˜¯å¤–æŽ›ï¼Œä¸éœ€è¦ç‰¹åˆ¥å¯« tag äº†&lt;/p>
&lt;h2 id="å•é¡Œå¥½åƒæœ‰å¥‡æ€ªçš„å­—è·‘å‡ºä¾†">[å•é¡Œ]å¥½åƒæœ‰å¥‡æ€ªçš„å­—è·‘å‡ºä¾†ï¼Ÿ&lt;/h2>
&lt;p>å¯«å¥½ä¹‹å¾Œé‡é–‹çµ‚ç«¯æ©Ÿï¼ŒæŒ‰ä¸‹ &lt;!-- raw HTML omitted -->enter&lt;!-- raw HTML omitted --> ä½ å¯èƒ½æœƒç™¼ç¾è·³å‡ºäº†ä¸€å †æ±è¥¿ï¼Œé€™æ˜¯å› ç‚ºä½ é–‹å•Ÿäº† p10k çš„ Instant Prompt Modeï¼Œé€™å€‹é›–ç„¶æœƒè®“ä½ çš„çµ‚ç«¯æ©Ÿè·‘èµ·ä¾†æ¯”è¼ƒé †ï¼ˆå®˜æ–¹èªªçš„ï¼Œæˆ‘æ„Ÿè¦ºä¸å‡ºä¾†ï¼‰ï¼Œä½†æ˜¯åœ¨ zsh è¼‰å…¥å®Œæˆä¹‹å‰å°±ä¸èƒ½æœ‰ä»»ä½•å­—è¼¸å‡ºã€‚&lt;br>
å¯æ˜¯ä½ çœ‹çœ‹ï¼Œå¦‚æžœæˆ‘å€‘æ–°å¢žäº†ä¸€å€‹å¤–æŽ›ï¼Œzplug æœƒè·³å‡ºä¾†å•æˆ‘å€‘æ˜¯å¦è¦å®‰è£ï¼Œé€™æ™‚å¾Œ Instant Prompt Mode å°±å‡ºä¾†æŠ±æ€¨äº†ã€‚&lt;br>
é€™å€‹å•é¡Œçš„è§£æ±ºæ–¹æ³•ç›´è¦ºä¸Šæœ‰å…©å€‹ï¼Œä¸€æ˜¯é—œæŽ‰ Instant Prompt Modeï¼ŒäºŒæ˜¯è®“ zplug å…ˆä¸è¦åµ&lt;/p>
&lt;h3 id="é—œæŽ‰-instant-prompt-mode">é—œæŽ‰ Instant Prompt Mode&lt;/h3>
&lt;p>é—œæŽ‰ Instant Prompt Mode å¾ˆç°¡å–®ï¼Œé‡æ–°è¨­å®šä¸€æ¬¡ p10k å°±å¥½äº†ï¼Œåœ¨è¨­å®šç¨‹å¼å•ä½ æ˜¯å¦è¦é–‹å•Ÿ p10k æ™‚é¸æ“‡ &lt;code>(3) Off&lt;/code>ï¼Œé€™æ¨£ä¸‹æ¬¡å®‰è£å¤–æŽ›å°±ä¸æœƒæœ‰å¥‡æ€ªçš„è­¦å‘Šè¨Šæ¯è·³å‡ºä¾†äº†ã€‚&lt;/p>
&lt;h3 id="è®“-zplug-å…ˆé–‰å˜´">è®“ zplug å…ˆé–‰å˜´&lt;/h3>
&lt;p>å¦‚æžœä½ è¦ºå¾— Instant Prompt Mode å¾ˆé‡è¦ï¼Œéœ€è¦ä¿ç•™ï¼Œé‚£ä½ å¯èƒ½æœƒæƒ³åˆ°é€™å€‹æ–¹æ³•&lt;br>
åœ¨ &lt;code>~/.zshrc&lt;/code> ä¸­æœ‰ä¸€è¡Œ &lt;code>zplug load&lt;/code>ï¼Œé€™è¡Œæœƒè®“ zplug åœ¨ &lt;code>~/.zshrc&lt;/code> è¼‰å…¥æ™‚åµæ¸¬æ˜¯å¦è¦å®‰è£æ–°å¤–æŽ›ï¼ŒæŠŠé€™è¡Œæ‹¿æŽ‰å†é‡æ–°é–‹å•Ÿçµ‚ç«¯æ©Ÿï¼Œä»¥å¾Œä»–å°±ä¸æœƒè‡ªå‹•æª¢æŸ¥äº†&lt;br>
é€™æ™‚å€™å¦‚æžœä½ è¦å®‰è£æ–°å¤–æŽ›ï¼Œä¸€æ¨£æ˜¯ä¿®æ”¹ &lt;code>~/.zshrc&lt;/code> ä¹‹å¾Œé‡é–‹çµ‚ç«¯æ©Ÿï¼Œ&lt;strong>æ‰‹å‹•&lt;/strong>ä¸‹æŒ‡ä»¤ &lt;code>zplug load&lt;/code>ï¼Œzplug å°±æœƒé–‹å§‹æª¢æŸ¥æ›´æ–°ã€‚&lt;/p>
&lt;h3 id="æœ‰æ²’æœ‰å…¼å¾—çš„æ–¹æ³•å‘¢">æœ‰æ²’æœ‰å…¼å¾—çš„æ–¹æ³•å‘¢ï¼Ÿ&lt;/h3>
&lt;p>ä»¥ä¸Šå…©ç¨®æ–¹æ³•éƒ½æ˜¯æ²»æ¨™ä¸æ²»æœ¬ï¼Œå…¶å¯¦ &lt;code>~/.zshrc&lt;/code> è£¡é¢å·²ç¶“æœ‰å¯«è§£æ±ºè¾¦æ³•äº†ï¼Œçœ‹çœ‹ &lt;code>~/.zshrc&lt;/code> æœ€ä¸Šé¢çš„è¨»è§£ï¼Œé€™æ˜¯è¨­å®š p10k æ™‚å¦‚æžœä½ æœ‰é–‹å•Ÿ Instant Prompt Mode ä»–å¹«ä½ åŠ çš„&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Initialization code that may require console input (password prompts, [y/n]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># confirmations, etc.) must go above this block; everything else may go below.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»–èªªå¦‚æžœè¼‰å…¥éŽç¨‹ä¸­æœƒæœ‰è¼¸å‡ºï¼Œåƒæ˜¯å• y/N ä¹‹é¡žçš„ï¼Œè¦æ”¾åˆ°é€™æ®µå‰é¢&lt;br>
æ‰€ä»¥æˆ‘å€‘åªéœ€è¦æŠŠ zplug æ¬åˆ°æœ€å‰é¢å°±å¯ä»¥äº†ï¼Œç¾åœ¨ &lt;code>~/.zshrc&lt;/code> é•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">source ~/.zplug/init.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># plugins
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &amp;#39;romkatv/powerlevel10k&amp;#39;, as:theme, depth:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &amp;#39;zsh-users/zsh-autosuggestions&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">if ! zplug check --verbose; then
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> printf &amp;#34;Install? [y/N]: &amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if read -q; then
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo; zplug install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> fi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug load
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Initialization code that may require console input (password prompts, [y/n]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># confirmations, etc.) must go above this block; everything else may go below.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">if [[ -r &amp;#34;${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh&amp;#34; ]]; then
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> source &amp;#34;${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="å•é¡Œç‚ºä»€éº¼æŒ‰-kbdæ–¹å‘éµä¸Škbd-æ™‚æœƒå‡ºç¾å’Œç¾åœ¨æŒ‡ä»¤é–‹é ­ä¸åŒçš„å­—">[å•é¡Œ]ç‚ºä»€éº¼æŒ‰ &lt;!-- raw HTML omitted -->æ–¹å‘éµä¸Š&lt;!-- raw HTML omitted --> æ™‚æœƒå‡ºç¾å’Œç¾åœ¨æŒ‡ä»¤é–‹é ­ä¸åŒçš„å­—&lt;/h1>
&lt;p>å‡è¨­ä½ ç¾åœ¨æ‰“éŽä»¥ä¸‹æŒ‡ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ls /home/purecli
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cat ~/.zshrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ls /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ™‚å€™ä½ å…ˆæ‰“ &lt;code>ls&lt;/code>ï¼Œæƒ³æ‰¾åˆ°ä¹‹å‰ &lt;code>ls&lt;/code> é–‹é ­çš„æŒ‡ä»¤æŒ‰ï¼ŒæŒ‰ &lt;!-- raw HTML omitted -->æ–¹å‘éµä¸Š&lt;!-- raw HTML omitted --> æœƒå‡ºç¾ &lt;code>cat ~/.zshrc&lt;/code> å‘¢ï¼Ÿé€™æ˜¯å› ç‚ºç¾åœ¨çš„ &lt;!-- raw HTML omitted -->æ–¹å‘éµä¸Š&lt;!-- raw HTML omitted --> æ˜¯ zsh æœ¬èº«çš„ã€Œä¸Šä¸€å€‹æŒ‡ä»¤ã€ã€‚&lt;br>
é€™å€‹å•é¡Œéœ€è¦è£å¦ä¸€å€‹å¤–æŽ›ä¾†è§£æ±ºï¼š&lt;a class="link" href="https://github.com/zsh-users/zsh-history-substring-search" target="_blank" rel="noopener"
>zsh-users/zsh-history-substring-search&lt;/a>&lt;br>
åœ¨ &lt;code>~/.zshrc&lt;/code> æ–°å¢žä¸€è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># plugins
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &amp;#39;romkatv/powerlevel10k&amp;#39;, as:theme, depth:1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug &amp;#39;zsh-users/zsh-autosuggestions&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ zplug &amp;#39;zsh-users/zsh-history-substring-search&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œè¦ç¶å®šæŒ‰éµï¼Œä¸€æ¨£æ˜¯æ”¾åœ¨ &lt;code>~/.zshrc&lt;/code>ï¼Œä½ç½®éš¨ä¾¿&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">bindkey &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$terminfo&lt;/span>&lt;span class="s2">[kcuu1]&amp;#34;&lt;/span> history-substring-search-up
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bindkey &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$terminfo&lt;/span>&lt;span class="s2">[kcud1]&amp;#34;&lt;/span> history-substring-search-down
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>é‡é–‹çµ‚ç«¯æ©Ÿ&lt;/strong>å¾Œå°±å¯ä»¥æœå°‹åŒæ¨£é–‹é ­çš„æŒ‡ä»¤ç´€éŒ„äº†&lt;/p>
&lt;h1 id="å•é¡Œç‚ºä»€éº¼é–‹æ–°çš„çµ‚ç«¯æ©Ÿ-autosuggestions-è®€ä¸åˆ°ä»¥å‰ä¸‹éŽå¾—æŒ‡ä»¤">[å•é¡Œ]ç‚ºä»€éº¼é–‹æ–°çš„çµ‚ç«¯æ©Ÿ autosuggestions è®€ä¸åˆ°ä»¥å‰ä¸‹éŽå¾—æŒ‡ä»¤ï¼Ÿ&lt;/h1>
&lt;p>é€™æ˜¯å› ç‚ºæˆ‘å€‘çš„ &lt;code>~/.zshrc&lt;/code> ä¸­æ²’æœ‰è¨­å®šæŠŠ history å­˜ä¸‹ä¾†ï¼Œæ‰€ä»¥ autosuggestions åªèƒ½æ‹¿åˆ°&lt;strong>ç›®å‰é€™å€‹çµ‚ç«¯æ©Ÿ&lt;/strong>çš„ç´€éŒ„ï¼Œä¸€é—œæŽ‰ç´€éŒ„å°±ä¸è¦‹äº†ï¼Œautosuggestions è‡ªç„¶æ‰¾ä¸åˆ°ã€‚&lt;br>
è¦è§£æ±ºä¹Ÿå¾ˆç°¡å–®ï¼Œè®“ä»–æŠŠ history &lt;strong>å¯«é€²æª”æ¡ˆ&lt;/strong>å°±å¥½äº†ï¼Œåœ¨ &lt;code>~/.zshrc&lt;/code> ä¸­ä»»æ„åœ°æ–¹æ–°å¢žé€™å…©è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">SAVEHIST&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">HISTFILE&lt;/span>&lt;span class="o">=&lt;/span>~/.zsh_history
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt share_history
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£ autosuggestions å°±å¯ä»¥è®€åˆ°ä»¥å‰ä¸‹éŽçš„æŒ‡æŒ‡ä»¤äº†&lt;/p>
&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>ä»Šå¤©ä»‹ç´¹äº†å¥½ç”¨çš„ autosuggestions å’Œ zplug èˆ‡ p10k è¨­å®šè¡çªçš„è§£æ±ºæ–¹æ³•ã€‚&lt;br>
ä¸çš„ä¸èªª autosuggestions çœŸæ˜¯æ‡¶äººç¦éŸ³ï¼Œæ‰“éŽçš„æŒ‡ä»¤ä¸ç”¨å†æ‰“ç¬¬äºŒæ¬¡&lt;br>
æ˜Žå¤©å†ä»‹ç´¹å…©å€‹å¤–æŽ›å¾Œå°± zsh çš„éƒ¨ä»½å°±å·®ä¸å¤šå®Œçµäº†ï¼Œç·ŠæŽ¥è‘—æœƒé€²å…¥ç²¾å½©çš„ tmux&lt;/p></description></item><item><title>Day 03ï¼šè½‰å§è½‰å§ä¸ƒå½©éœ“è™¹ç‡ˆä¹‹ p10k</title><link>https://blog.simbafs.cc/p/ithelp/day03/</link><pubDate>Fri, 03 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day03/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day03.png" alt="Featured image of post Day 03ï¼šè½‰å§è½‰å§ä¸ƒå½©éœ“è™¹ç‡ˆä¹‹ p10k" />&lt;p>æ˜¨å¤©è£å¥½å¤–æŽ›ç®¡ç†å™¨äº†ï¼ŒæŽ¥ä¸‹ä¾†æˆ‘å€‘è¦ç”¨ zplug ä¾†è£ä¸€äº›å¥½çŽ©çš„å¤–æŽ›å›‰ï¼&lt;/p>
&lt;h1 id="p10k">p10k&lt;/h1>
&lt;p>p10k æ˜¯ powerlevel10k çš„ç¸®å¯«ï¼Œé€™æ˜¯ä¸€å¥— zsh çš„ prompt ä¸»é¡Œï¼Œæ˜¯æˆ‘ç”¨éŽ&lt;strong>è¨­å®šæœ€ç°¡å–®æ•ˆæžœä¹Ÿå¾ˆå¥½&lt;/strong>çš„ï¼Œé‡é»žæ˜¯ä¸è«–æœ‰&lt;strong>æ²’æœ‰è£ç‰¹æ®Šå­—åž‹&lt;/strong>ï¼Œä»–éƒ½å¯ä»¥ç”¨ï¼&lt;/p>
&lt;h2 id="å®‰è£å­—åž‹å¯è·³éŽ">å®‰è£å­—åž‹ï¼ˆå¯è·³éŽï¼‰&lt;/h2>
&lt;p>p10k å®˜æ–¹æŽ¨è–¦ &lt;a class="link" href="https://github.com/ryanoasis/nerd-fonts" target="_blank" rel="noopener"
>nerd font&lt;/a>ï¼Œé€™æ˜¯ä¸€å€‹çµ¦é–‹ç™¼è€…çš„å­—åž‹é›†ï¼ŒåŒ…æ‹¬å„ç¨®&lt;strong>ç¨‹å¼èªžè¨€&lt;/strong>ã€&lt;strong>ç¶²è·¯æœå‹™&lt;/strong>çš„ icon ç­‰ç­‰ã€‚p10k å®˜æ–¹ä¹Ÿæœ‰æä¾›ä¿®æ”¹éŽ&lt;a class="link" href="https://github.com/romkatv/powerlevel10k#manual-font-installation" target="_blank" rel="noopener"
>å°ˆé–€çµ¦ p10k çš„å­—åž‹æª”&lt;/a>é€£çµè£¡æœ‰å„ç¨®çµ‚ç«¯æ©Ÿæ¨¡æ“¬å™¨çš„å­—åž‹å®‰è£æ•™å­¸ï¼ˆè‹±æ–‡ï¼‰ã€‚&lt;br>
å…¶å¯¦å¦‚æžœä½ åªæƒ³è¦éƒ¨ä»½ iconï¼Œåªè¦æŠŠ ttf æª”æ”¾åœ¨ &lt;code>~/.fonts&lt;/code> ä¸‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦æ”¹çµ‚ç«¯æ©Ÿå­—åž‹ï¼Œä»–æ‰¾ä¸åˆ°æ™‚æœƒåŽ»æŠ“ï¼ˆæˆ‘è‡ªå·±è©¦æ˜¯å¯ä»¥çš„ï¼Œç³»çµ± ubuntu 20.04ã€terminal: gnome-terminal ï¼‰&lt;br>
å¦‚æžœä½ æƒ³è¦åœ¨ CLI æœ‰å„ç¨® icon çš„è©±ä½ æ‰éœ€è¦å®‰è£ä¸Šè¿°å­—åž‹ï¼Œå¦‚æžœä¸éœ€è¦å¯ä»¥è·³åˆ°ä¸‹ä¸€å°ç¯€&lt;/p>
&lt;h2 id="å®‰è£-p10k">å®‰è£ p10k&lt;/h2>
&lt;p>p10k èªªåˆ°åº•åªæ˜¯ä¸€å€‹&lt;strong>å¤–æŽ›&lt;/strong>ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥é€éŽ &lt;strong>zplug&lt;/strong> å®‰è£ï¼Œæ‰“é–‹ &lt;code>~/.zshrc&lt;/code>ï¼Œåœ¨ &lt;code># plugins&lt;/code> é‚£è¡Œä¸‹é¢åŠ ä¸Šä»¥ä¸‹è¨­å®š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># plugins
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ zplug &amp;#39;romkatv/powerlevel10k&amp;#39;, as:theme, depth:1
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é—œæ–¼é€™æ®µæ˜¯ä»€éº¼æ„æ€å‘¢ï¼Œzplug æä¾›äº†ä¸€å¼µç²¾ç¾Žçš„åœ–ä¾†å¹«åŠ©æˆ‘å€‘ç†è§£&lt;br>
é¦–å…ˆï¼Œä»¥ &lt;code>zplug&lt;/code> é–‹é ­ï¼Œç„¶å¾ŒæŽ¥ github çš„ &lt;code>username/reponame&lt;/code>ï¼Œå†ä¾†å¯ä»¥ç”¨ tag åšä¿®é£¾ï¼Œä¾‹å¦‚æˆ‘å€‘å®‰è£ p10k æ™‚å°±ç”¨äº† &lt;code>as:theme&lt;/code> å’Œ &lt;code>depth:1&lt;/code>
ï¼Œå…©å€‹ tag ä¹‹é–“ä»¥é€—è™ŸåŠ ä¸Š&lt;strong>ä¸€å€‹ä»¥ä¸Šçš„ç©ºç™½&lt;/strong>éš”é–‹&lt;br>
&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day03/zplug.png"
loading="lazy"
alt="zplug"
>&lt;/p>
&lt;p>ä¿®æ”¹å¥½ &lt;code>~/.zshrc&lt;/code> ä¹‹å¾Œï¼Œç‚ºäº†æ–°è¼‰å…¥è¨­å®šï¼Œæœ€é–“å–®çš„æ–¹å¼æ˜¯&lt;strong>é—œæŽ‰çµ‚ç«¯æ©Ÿå†æ‰“é–‹&lt;/strong>ï¼Œé€™æ™‚å€™ä»–æ‡‰è©²æœƒå•ä½ è¦ä¸è¦å®‰è£ p10kï¼ŒæŒ‰ &lt;!-- raw HTML omitted -->y&lt;!-- raw HTML omitted -->ã€‚æŽ¥ä¸‹ä¾† p10k çš„è¨­å®šç•«é¢å°±æœƒè·³å‡ºä¾†ï¼Œæˆ‘å€‘å¯ä»¥é€²å…¥ä¸‹ä¸€ç¯€äº†ï¼&lt;/p>
&lt;h2 id="è¨­å®š-p10k">è¨­å®š p10k&lt;/h2>
&lt;p>p10k çš„è¨­å®šç•Œé¢åšå¾—å¾ˆå¥½ï¼ŒæŒ‰å¹¾å€‹æŒ‰éµå°±çµæŸäº†ï¼Œç„¶å¾Œä½ å°±æœƒå¾—åˆ°ä¸€å€‹æ¼‚äº®çš„ zshã€‚&lt;br>
æ•´å€‹è¨­å®šæµç¨‹åˆ†æˆä¸‰å€‹éƒ¨ä»½ã€‚ç¬¬ä¸€éƒ¨ä»½æ˜¯&lt;strong>å­—åž‹ç¢ºèª&lt;/strong>ï¼Œä»–æœƒèˆ‰å‡ºå¹¾å€‹å­—çµ¦ä½ çœ‹ï¼Œåˆ†åˆ¥æ˜¯è±å½¢ã€éŽ–ã€debian icon å’Œ python iconï¼Œæœ€å¾Œæ˜¯æ¸¬è©¦ icon æœƒä¸æœƒæ“ åœ¨ä¸€èµ·ã€‚ä½ å°±æ ¹æ“šä»–çš„æç¤ºç¢ºèªä½ çš„å­—åž‹å°±å¯ä»¥äº†ã€‚&lt;br>
å†ä¾†ç¬¬äºŒéƒ¨ä»½æ˜¯&lt;strong>è¨­å®š prompt&lt;/strong>ï¼Œp10k å¯ä»¥è®“ä½ è¨­å®šå¹¾ä¹Žæ¯ä¸€å€‹å°ç´°ç¯€ï¼ŒæŒ‰ç…§èªªæ˜ŽæŠŠä»–æŒ‰å®Œå°±å¥½äº†ï¼Œé€™è£¡éƒ½æ†‘å€‹äººå–œå¥½ã€‚
æœ€å¾Œæ˜¯ä¸€éƒ¨ä»½æ˜¯è¨­å®šï¼Œåƒæ˜¯è¦ä¸è¦å•Ÿç”¨ &lt;code>Instant Prompt Mode&lt;/code>ï¼Œè¦ä¸è¦ä½¿ç”¨è¨­å®šã€‚&lt;br>
åœ¨è¨­å®šéŽç¨‹ä¸­çš„æ¯ä¸€æ­¥ä½ éƒ½å¯ä»¥æŒ‰ &lt;!-- raw HTML omitted -->r&lt;!-- raw HTML omitted --> é‡ä¾†ã€&lt;!-- raw HTML omitted -->q&lt;!-- raw HTML omitted --> é›¢é–‹ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">â“ &amp;gt; ç‚ºä»€éº¼è¨­å®šå®Œ p10k ä¹‹å¾Œé€²åˆ°æŸäº›ç›®éŒ„ï¼ˆåƒæ˜¯ git ï¼‰æœƒä¸€ç›´è·³å‡ºéŒ¯èª¤&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">é€™æ˜¯å› ç‚º zplug çš„é—œä¿‚ï¼Œé‡é–‹çµ‚ç«¯æ©Ÿå°±å¯ä»¥è§£æ±ºäº†&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">ðŸ’¡ é‡æ–°è¨­å®š&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">ä½ å¯ä»¥ç”¨ &lt;code>p10k configure&lt;/code> æŒ‡ä»¤é‡æ–°è¨­å®šï¼Œæµç¨‹éƒ½ä¸€æ¨¡ä¸€æ¨£&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day03/p10k-configure.gif"
loading="lazy"
alt="p10k-configrue"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">è¨­å®šéŽç¨‹ï¼ˆæ¨£å¼è¨­å®šæ˜¯åƒè€ƒç”¨ï¼‰&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">â“ &amp;gt; åœ¨çµ‚ç«¯æ©Ÿä¸‹é¢é‚£è¡Œå½©è‰²çš„æ˜¯ä»€éº¼&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">é€™æ˜¯ tmuxï¼Œå¤§æ¦‚ä¸‹æ˜ŸæœŸæœƒä»‹ç´¹&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Day 02 ï¼šzsh èˆ‡ shell script</title><link>https://blog.simbafs.cc/p/ithelp/day02/</link><pubDate>Thu, 02 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day02/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day02.png" alt="Featured image of post Day 02 ï¼šzsh èˆ‡ shell script" />&lt;blockquote>
&lt;p>ä»Šå¤©å…§å®¹ä¸å°å¿ƒå¯«å¤ªé•·äº† &amp;hellip;&amp;hellip;&lt;/p>
&lt;/blockquote>
&lt;p>é¦–å…ˆï¼Œåœ¨ä»‹ç´¹å…¶ä»–è»Ÿé«”ä¹‹å‰ï¼Œå…ˆä¾†çœ‹çœ‹èˆ‡ CLI æ“ä½œç¿’ç¿’ç›¸é—œçš„ã€Œshellã€ï¼Œæˆ‘é¸æ“‡çš„ shell æ˜¯ &lt;code>zsh&lt;/code>ï¼Œ&lt;code>zsh&lt;/code> åœ¨ &lt;code>bash&lt;/code> çš„åŸºç¤Žä¸Šæ“´å……äº†å¾ˆå¤šå¯¦ç”¨çš„åŠŸèƒ½ï¼Œåƒæ˜¯æ”¯æ´æ›´å¥½çš„&lt;strong>è‡ªå‹•è£œå…¨&lt;/strong>ï¼Œ&lt;strong>å„å¼å„æ¨£çš„ä¸»é¡Œ&lt;/strong>ç­‰ç­‰ã€‚&lt;/p>
&lt;h1 id="zsh">zsh&lt;/h1>
&lt;h2 id="å®‰è£">å®‰è£&lt;/h2>
&lt;p>å¦‚æžœä½ çš„ä½œæ¥­ç³»çµ±æ˜¯ &lt;strong>debian ç³»åˆ—&lt;/strong>çš„è©±ï¼Œå¯ä»¥ç›´æŽ¥ç”¨ &lt;strong>apt&lt;/strong> å®‰è£ &lt;code>apt install zsh&lt;/code>ã€‚å…¶ä»–çš„ linux ç™¼è¡Œç‰ˆå¯ä»¥åˆ° &lt;a class="link" href="https://github.com/ohmyzsh/ohmyzsh/wiki/Installing-ZSH" target="_blank" rel="noopener"
>é€™å€‹ç¶²é &lt;/a>æ‰¾æ‰¾ä½ çš„ç™¼è¡Œç‰ˆ&lt;br>
å¦‚æžœæ˜¯ &lt;strong>mac&lt;/strong>ï¼Œç†è«–ä¸Šä½ çš„ shell æ‡‰è©²&lt;strong>å·²ç¶“æ˜¯ zsh äº†&lt;/strong>ï¼ˆ mac çš„ shell å¾ž 2019 é–‹å§‹&lt;strong>é è¨­æ˜¯ zsh&lt;/strong> ï¼‰ï¼Œå¦‚æžœä¸æ˜¯çš„è©±ä½ å¯ä»¥ç”¨ &lt;strong>homebrew&lt;/strong> å®‰è£ &lt;code>brew install zsh&lt;/code>ã€‚&lt;br>
å¦‚æžœæ˜¯ windows çš„è©±ï¼Œå»ºè­°ä½ é–‹å•Ÿ &lt;strong>WSL2&lt;/strong> æˆ–æ˜¯æ‰¾ä¸€å°æœ‰ linux/mac çš„é›»è…¦&lt;/p>
&lt;p>ç¾åœ¨æˆ‘å€‘å¯ä»¥é€éŽé€™å€‹æŒ‡ä»¤æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">zsh --version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æžœæ²’æœ‰éŒ¯èª¤å°±æ˜¯å®‰è£æˆåŠŸäº†&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">â“ &amp;gt; ç¾åœ¨ç”¨çš„æ˜¯ä»€éº¼ shellï¼Ÿ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">ä½ å¯ä»¥ä½¿ç”¨ &lt;code>echo $SHELL&lt;/code> ä¾†çœ‹ä½ ç¾åœ¨ä½¿ç”¨çš„ shell æ˜¯é‚£ä¸€å€‹&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="æ›´æ›-shell">æ›´æ› shell&lt;/h2>
&lt;p>å¦‚æžœä½ ä¹‹å‰çš„ shell &lt;strong>ä¸æ˜¯ zsh&lt;/strong> é‚£å°±è¦æ›´æ›é è¨­ shellï¼Œç”¨ä»¥ä¸‹æŒ‡ä»¤å¯ä»¥&lt;strong>æ›´æ›&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">chsh -s $(which zsh)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">æˆ–æ˜¯
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chsh -s $(where zsh)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆæ¬¡ä½¿ç”¨-zsh">åˆæ¬¡ä½¿ç”¨ zsh&lt;/h2>
&lt;p>æ›´æ›å®Œ shellï¼Œ&lt;strong>é‡æ–°é–‹å•Ÿçµ‚ç«¯æ©Ÿ&lt;/strong>ï¼Œä½ æ‡‰è©²æœƒçœ‹åˆ°é¡žä¼¼ä¸‹é¢çš„ç•«é¢ï¼Œæˆ‘å€‘é¸æ“‡é è¨­çš„ &lt;strong>(0)&lt;/strong> é¸é …å°±å¯ä»¥äº†ã€‚å¦‚æžœæ²’æœ‰å‡ºç¾é€™å€‹ç•«é¢çš„è©±å°±æ˜¯é è¨­çš„ shell &lt;strong>æ²’æœ‰åˆ‡æ›æˆåŠŸ&lt;/strong>æˆ–æ˜¯ä¹‹å‰ä½ ***å·²ç¶“ç”¨éŽ** zsh äº†ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day02/zsh-install.png"
loading="lazy"
alt="zsh-install"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">zsh å®‰è£ç•«é¢&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="zplug">zplug&lt;/h1>
&lt;p>è£å¥½ zsh å¾Œï¼Œä½ æœƒç™¼ç¾ä»–å’Œ bash æˆ–æ˜¯ä½ åŽŸæœ¬çš„ shell æ²’ä»€éº¼å·®åˆ¥ï¼Œç”šè‡³æ›´é›£ç”¨ï¼Œé‚£æ˜¯å› ç‚ºæˆ‘å€‘&lt;strong>é‚„æ²’è¨­å®š&lt;/strong>ã€‚zplug æ˜¯ä¸€å€‹ zsh çš„&lt;strong>å¥—ä»¶ç®¡ç†å™¨&lt;/strong>ï¼Œæ‰€æœ‰çš„è¨­å®šéƒ½å¯«åœ¨ &lt;code>.zshrc&lt;/code> è£¡ï¼Œå› æ­¤å¦‚æžœä»¥å¾Œè¦æ›é›»è…¦ï¼Œåªéœ€è¦&lt;strong>æ¬èµ° &lt;code>.zshrc&lt;/code> ä¸€å€‹æª”æ¡ˆ&lt;/strong>ï¼Œzplug å°±æœƒå¹«ä½ æŠŠæ‰€æœ‰å¤–æŽ›è£èµ·ä¾†ã€‚&lt;/p>
&lt;h2 id="å®‰è£-zplug">å®‰è£ zplug&lt;/h2>
&lt;p>å®˜æ–¹å»ºè­°çš„å®‰è£æ–¹å¼æ˜¯ä½¿ç”¨ installerï¼ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ curl -sL --proto-redir -all,https https://raw.githubusercontent.com/zplug/installer/master/installer.zsh | zsh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æžœå‡ºç¾ &lt;code>Enjoy zplug!&lt;/code> å°±æ˜¯å®‰è£å®Œæˆäº†ï¼Œå¦‚æžœæ²’æœ‰çš„è©±å¯èƒ½æ˜¯&lt;strong>ç‰ˆæœ¬ä¸å°&lt;/strong>ï¼Œä»–æœƒå‘Šè¨´ä½ æœ‰ä»€éº¼æ²’è£&lt;/p>
&lt;h2 id="zshrc">zshrc&lt;/h2>
&lt;p>ç¾åœ¨æˆ‘å€‘è¦ä¾†è¨­å®š &lt;code>~/.zshrc&lt;/code> äº†ï¼Œé€™æ˜¯ zsh çš„è¨­å®šæª”ï¼Œä»–å…¶å¯¦å°±æ˜¯ä¸€å€‹ shell scriptï¼Œä½†æ˜¯æ¯æ¬¡&lt;strong>å•Ÿå‹• zsh ä»–æœƒå…ˆè¢«åŸ·è¡Œ&lt;/strong>ã€‚&lt;br>
é¦–å…ˆéš¨ä¾¿ç”¨ä¸€å€‹ç·¨è¼¯å™¨æ‰“é–‹ &lt;code>~/.zshrc&lt;/code>ï¼ŒåˆªæŽ‰è£¡é¢æ‰€æœ‰å…§å®¹ï¼ˆæ‡‰æ”¹åªæœ‰ä¸€è¡Œè¨»è§£ï¼‰ï¼Œè²¼ä¸Šä»¥ä¸‹å…§å®¹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">source ~/.zplug/init.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># plugins
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">if ! zplug check --verbose; then
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> printf &amp;#34;Install? [y/N]: &amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if read -q; then
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> echo; zplug install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> fi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zplug load
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¬¬ä¸€è¡Œæ˜¯&lt;strong>å•Ÿå‹•&lt;/strong> zplug
ç¬¬äº”è¡Œé–‹å§‹æ˜¯&lt;strong>æª¢æŸ¥æ˜¯å¦è¦æ›´æ–°/å®‰è£å¥—ä»¶&lt;/strong>&lt;/p>
&lt;p>&lt;strong>é‡æ–°é–‹å•Ÿçµ‚ç«¯æ©Ÿ&lt;/strong>ï¼Œé€™æ¨£ç’°å¢ƒæ‰æœƒè¼‰å…¥&lt;/p>
&lt;h1 id="åŸºæœ¬-shell-sript">åŸºæœ¬ shell sript&lt;/h1>
&lt;p>æŽ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å…ˆä¾†èªè­˜ä¸€ä¸‹ shell scriptï¼Œé€™å€‹æ±è¥¿ä¸åƒ…å¯ä»¥è®“ä½ æ“ä½œæ›´åŠ é †æš¢ï¼Œä¹Ÿå¯ä»¥å¹«ä½ å¯¦ç¾å„ç¨®&lt;strong>è‡ªå‹•åŒ–æ“ä½œ&lt;/strong>ã€‚&lt;/p>
&lt;h2 id="å‘½ä»¤">å‘½ä»¤&lt;/h2>
&lt;p>ä¸€å€‹æ™®é€šçš„ shell é€šå¸¸æ˜¯ä»¥&lt;strong>ä¸€å€‹å‘½ä»¤é–‹é ­&lt;/strong>ï¼Œä¾‹å¦‚ &lt;code>ls&lt;/code>ã€&lt;code>cd&lt;/code>ã€&lt;code>mv&lt;/code>ï¼Œé€™å€‹å‘½ä»¤ä»£è¡¨çš„æ˜¯&lt;strong>é›»è…¦ä¸­ä¸€å€‹å¯åŸ·è¡Œæª”&lt;/strong>ï¼Œä½ å¯ä»¥ç”¨ &lt;code>which &amp;lt;cmd&amp;gt;&lt;/code> æˆ– &lt;code>where &amp;lt;cmd&amp;gt;&lt;/code> ä¾†çœ‹åŸ·è¡Œæª”çš„è·¯å¾‘ã€‚åœ¨é€™å€‹å‘½ä»¤å¾Œé¢çš„æ±è¥¿éƒ½æ˜¯&lt;strong>åƒæ•¸&lt;/strong>ï¼Œå’Œä¸€èˆ¬ç¨‹å¼ä¸ä¸€æ¨£çš„æ˜¯ï¼Œé€™å€‹åƒæ•¸å› ç‚ºæ˜¯æ•´å€‹å­—ä¸²äº¤çµ¦å‘½ä»¤è™•ç†ï¼Œæ‰€ä»¥é€šå¸¸å¯ä»¥&lt;strong>ä¸ç®¡é †åº&lt;/strong>ï¼Œï¼Œä¾‹å¦‚ &lt;code>ls -a -l&lt;/code> å’Œ &lt;code>ls -l -a&lt;/code> æ˜¯ä¸€æ¨£çš„ï¼ˆç•¶ç„¶æœƒæœ‰ä¾‹å¤–æˆ–æ˜¯è™•ç†çš„ä¸å¥½çš„æƒ…æ³ï¼Œä½†ä¸å¤šï¼‰ï¼Œæ›´æ£’çš„æ˜¯å¤§éƒ¨åˆ†æˆç†Ÿçš„æŒ‡ä»¤éƒ½å¯ä»¥è®“é€™ç¨®åªæœ‰ä¸€å€‹å­—å…ƒçš„ã€ŒçŸ­é¸é …ã€åˆèµ·ä¾†å¯«ï¼Œè®Šæˆé€™æ¨£ &lt;code>ls -al&lt;/code>ã€‚&lt;/p>
&lt;h2 id="pipe">Pipe&lt;/h2>
&lt;p>ä¸€å€‹è¤‡é›œçš„æŒ‡ä»¤ä¸å¤ªå¯èƒ½åªæ†‘å¹¾å€‹çŸ­çŸ­çš„é¸é …é‹ä½œï¼Œä¾‹å¦‚ &lt;code>grep&lt;/code>ï¼ˆæœå°‹ç‰¹å®šå­—ä¸²ç”¨çš„å‘½ä»¤ï¼‰ é™¤äº†å¯ä»¥åœ¨é¸é …æŒ‡å®šæª”åï¼Œä¹Ÿå¯ä»¥éŽã€Œç‰¹æ®Šçš„æ–¹å¼ã€å‚³ä¸€ä¸²å­—çµ¦ä»–ï¼Œé€™å€‹æ–¹æ³•å°±æ˜¯æˆ‘å€‘ç†Ÿæ‚‰çš„ &lt;strong>stdin&lt;/strong>ï¼Œä¹Ÿå°±æ˜¯ &lt;code>scanf&lt;/code>ã€&lt;code>cin&lt;/code> é€™é¡žå‡½æ•¸æŽ¥å—è¼¸å…¥çš„ä¾†æºã€‚&lt;br>
æŽ¥å— stdin çš„æ–¹å¼æœ‰å…©å€‹ï¼Œä¸€å€‹æ˜¯ä½¿ç”¨è€…è‡ªå·±æ‰“ï¼Œå¦ä¸€å€‹æ˜¯æŽ¥å—å¦ä¸€å€‹å‘½ä»¤çš„ã€Œè¼¸å‡ºã€ã€‚è¦æŽ¥å—å¦ä¸€å€‹ã€Œè¼¸å‡ºã€çš„æ–¹å¼å«åš &lt;strong>pipe&lt;/strong>ï¼Œé¡§åæ€ç¾©å°±æ˜¯ã€Œç®¡ç·šã€ï¼Œä»–å¯ä»¥æŠŠ A æŒ‡ä»¤çš„è¼¸å‡ºæŽ¥çµ¦ B æŒ‡ä»¤çš„è¼¸å…¥ã€‚ä¾‹å¦‚ä»¥ä¸‹çš„å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">$ ps -ax &lt;span class="p">|&lt;/span> grep zsh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…ˆç”¨ &lt;code>ps&lt;/code> æŒ‡ä»¤åˆ—å‡ºæ‰€æœ‰çš„ processï¼Œå†äº¤çµ¦ &lt;code>grep&lt;/code> æ‰¾å‡ºå«æœ‰å­—ä¸² &lt;code>zsh&lt;/code> çš„è¡Œã€‚&lt;/p>
&lt;h2 id="redirect">Redirect&lt;/h2>
&lt;p>å‰›å‰›è¬›äº†æŠŠè¼¸å‡ºè½‰åˆ°å¦ä¸€å€‹å‘½ä»¤çš„è¼¸å…¥ï¼Œé‚£å¦‚æžœæ˜¯è¦å¯«é€²æª”æ¡ˆè£¡é¢å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å€‹å‘½ä»¤å« &lt;code>write&lt;/code>ï¼Ÿå…¶å¯¦ shell å·²ç¶“æœ‰å€‹æ±è¥¿å¯ä»¥å¯«æª”æ¡ˆäº†ï¼Œå°±æ˜¯ &lt;strong>redirect&lt;/strong>ï¼Œç›´æŽ¥ä¾†çœ‹ç¯„ä¾‹&lt;/p>
&lt;h3 id="å¯«æª”">å¯«æª”&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">$ ls &amp;gt; ls_output.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°±é€™éº¼ç°¡å–®ï¼Œç”¨å¤§æ–¼ç¬¦è™Ÿ &lt;code>&amp;gt;&lt;/code> å°±å¯ä»¥æŠŠ&lt;strong>æ¨™æº–è¼¸å‡º&lt;/strong>ï¼ˆ stdout ï¼‰ä¸Ÿåˆ°æª”æ¡ˆè£¡é¢ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯é€™æ¨£å¯«çš„è©±æ˜¯ç›´æŽ¥**ã€Œè¦†è“‹ã€&lt;strong>ï¼Œæœ‰å°±æ˜¯èªªå¦‚æžœåŽŸæœ¬ &lt;code>ls_output.txt&lt;/code> æœ‰å…§å®¹ï¼Œæœƒç›´æŽ¥è¢« &lt;code>ls&lt;/code> æŒ‡ä»¤çš„è¼¸å…¥è¦†è“‹ï¼Œå¦‚æžœä½ æƒ³ä¿ç•™ï¼Œå¯ä»¥ç”¨ &lt;code>&amp;gt;&amp;gt;&lt;/code> ä¾†&lt;/strong>ã€Œé™„åŠ ã€**ï¼Œé€™æœƒè®“ä»–æŽ¥åœ¨æª”æ¡ˆæœ€å¾Œé¢&lt;/p>
&lt;h3 id="è®€æª”">è®€æª”&lt;/h3>
&lt;p>å¦‚æžœæŸå€‹æŒ‡ä»¤æ²’æœ‰è®€æª”æ¡ˆçš„é¸é …ï¼ŒåªæŽ¥å— stdinï¼Œé‚£ä½ ä¹Ÿå¯ä»¥ç”¨ &lt;strong>redirect&lt;/strong> å°‡æª”æ¡ˆè®€é€²é€™å€‹å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">$ wc &amp;lt; .zshrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>wc&lt;/code> é€™å€‹æŒ‡ä»¤æœƒ&lt;strong>è¨ˆç®—&lt;/strong>è¼¸å…¥çš„è¡Œæ•¸/å­—æ•¸/å­—å…ƒæ•¸ï¼Œä¸Šé¢çš„æŒ‡ä»¤å…ˆæŠŠ &lt;code>.zshrc&lt;/code> è®€å‡ºä¾†ï¼Œå†äº¤çµ¦ &lt;code>wc&lt;/code> è¨ˆç®—å­—æ•¸&lt;/p>
&lt;p>é—œæ–¼å…¶ä»– pipe å’Œ redirect çš„ç”¨æ³•å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://blog.gtwang.org/linux/linux-io-input-output-redirection-operators/" target="_blank" rel="noopener"
>é€™ç¯‡æ–‡ç« &lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>å—¯&amp;hellip;æˆ‘çŸ¥é“é€™æœ‰é»žè ¢ï¼Œå› ç‚ºä½ å¯ä»¥ç›´æŽ¥åœ¨ &lt;code>wc&lt;/code> å¾Œé¢æŽ¥è·¯å¾‘ï¼Œé€™è£¡åªæ˜¯ç¤ºç¯„ä¸€ä¸‹&lt;/p>
&lt;/blockquote>
&lt;h2 id="ç’°å¢ƒè®Šæ•¸">ç’°å¢ƒè®Šæ•¸&lt;/h2>
&lt;p>æ”¹è®Šå‘½ä»¤è¡Œç‚ºçš„æ–¹å¼é™¤äº†é¸é …å¤–ï¼Œé‚„æœ‰&lt;strong>ç’°å¢ƒè®Šæ•¸&lt;/strong>ã€‚ç’°å¢ƒè®Šæ•¸å°±åƒ C++ è£¡çš„**ã€Œå…¨åŸŸè®Šæ•¸ã€&lt;strong>ï¼Œä¸ç®¡æ˜¯å“ªå€‹å‘½ä»¤ï¼ˆå‡½æ•¸ï¼‰éƒ½å¯ä»¥&lt;/strong>è®€ã€å¯«**ã€‚é€šå¸¸ç’°å¢ƒè®Šæ•¸çš„åŠŸèƒ½æ˜¯&lt;strong>è¨­å®šæŸå€‹é¸é …&lt;/strong>ï¼Œå¥½è®“æ¯ä¸€æ¬¡åŸ·è¡Œæ™‚&lt;strong>ä¸ç”¨åŠ ä¸€å †é¸é …&lt;/strong>ï¼ˆç•¶ç„¶é€™å€‹åŠŸèƒ½è¦å‘½ä»¤æœ‰æ”¯æ´æ‰è¡Œï¼‰ï¼Œæˆ–æ˜¯å„²å­˜æŸå€‹&lt;strong>å‘½ä»¤çš„è³‡è¨Š&lt;/strong>ï¼Œåƒæ˜¯ &lt;code>$SHELL&lt;/code> ç´€éŒ„è‘—ä½ ç¾åœ¨ä½¿ç”¨çš„ shellã€‚&lt;/p>
&lt;h3 id="è®€å–">è®€å–&lt;/h3>
&lt;p>è®€å–ç’°å¢ƒè®Šæ•¸å¾ˆç°¡å–®ï¼Œåªéœ€è¦åŠ ä¸ŠéŒ¢è™Ÿ &lt;code>$&lt;/code> å°±å¯ä»¥äº†ï¼Œä¾‹å¦‚ &lt;code>$PATH&lt;/code>ï¼ˆé€šå¸¸ç’°å¢ƒè®Šæ•¸æœƒ&lt;strong>å…¨å¤§å¯«&lt;/strong>ï¼Œä½†å…¶å¯¦æ²’æœ‰ä»€éº¼è¦ç¯„ï¼‰ï¼Œ shell æœƒåœ¨è®€åˆ°é€™å€‹çš„æ™‚å€™ç”¨ä»–çš„å€¼åŽ»æ›¿ä»£é€™å€‹å­—ä¸²ã€‚ä¾‹å¦‚ä»¥ä¸‹ç¯„ä¾‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">ls &lt;span class="nv">$HOME&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>$HOME çš„å€¼æ˜¯ä½ çš„å®¶ç›®éŒ„è·¯å¾‘ï¼Œshell è§£é‡‹å‡ºä¾†çš„å‘½ä»¤å°±æœƒæ˜¯ &lt;code>ls /home/username&lt;/code>&lt;br>
å¦‚æžœä½ æƒ³è¦&lt;strong>çœ‹é€™å€‹ç’°å¢ƒè®Šæ•¸çš„å€¼&lt;/strong>ï¼Œå¯ä»¥æ ¹æ“šä¸Šé¢çš„åŽŸç†ï¼Œç”¨ &lt;code>echo&lt;/code> å‘½ä»¤å°è¼¸å‡ºä¾†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$HOME&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¯«å…¥">å¯«å…¥&lt;/h3>
&lt;p>å¯«å…¥ç’°å¢ƒè®Šæ•¸åªæœ‰ä¸€å€‹è¦é»žâ€”â€”ä¸è¦åŠ ç©ºç™½ï¼Œç”¨ &lt;code>=&lt;/code> æŒ‡å®šç’°å¢ƒè®Šæ•¸æ™‚&lt;strong>åƒè¬ä¸è¦&lt;/strong>åœ¨ &lt;code>=&lt;/code> å·¦å³åŠ ä¸Šç©ºç™½ï¼Œçœ‹ç¯„ä¾‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">A&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;a string&amp;#39;&lt;/span> &lt;span class="c1"># O&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">B&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;a string&amp;#39;&lt;/span> &lt;span class="c1"># X&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">C&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;a string&amp;#39;&lt;/span> &lt;span class="c1"># X&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">D&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;a string&amp;#39;&lt;/span> &lt;span class="c1"># X&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶å¯¦ shell script ä¸­çš„éŒ¢è™Ÿ &lt;code>$&lt;/code> é‚„æœ‰è¶…å¤šç”¨æ³•ï¼Œå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://stackoverflow.com/questions/5163144/what-are-the-special-dollar-sign-shell-variables" target="_blank" rel="noopener"
>é€™è£¡&lt;/a>&lt;/p>
&lt;h1 id="çµå°¾">çµå°¾&lt;/h1>
&lt;p>ä»Šå¤©ä»‹ç´¹äº† zsh å’Œå¤–æŽ›ç®¡ç†å™¨ zplug é‚„æœ‰ä¸€é»žé»žçš„ shell scriptï¼Œæ˜Žå¤©é–‹å§‹æœƒç”¨ zplug è£å„ç¨®å¤–æŽ›ä¾†è±å¯Œæˆ‘å€‘çš„ç´”â€§ CLI æ•´åˆå¼é–‹ç™¼ç’°å¢ƒ&lt;/p></description></item><item><title>Day 01ï¼šå‰è¨€ï¼Œé€™æ‰¹å¾ˆç´”ï¼Œå¿«é€²ä¾†å§ï¼</title><link>https://blog.simbafs.cc/p/ithelp/day01/</link><pubDate>Wed, 01 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/day01/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/day01.png" alt="Featured image of post Day 01ï¼šå‰è¨€ï¼Œé€™æ‰¹å¾ˆç´”ï¼Œå¿«é€²ä¾†å§ï¼" />&lt;h1 id="who-am-i">Who Am I&lt;/h1>
&lt;p>æˆ‘ä»Šå¹´å‡å¤§ä¸€ï¼Œåœ¨æ­¤ç”Ÿæœ€é•·çš„å‡æœŸä¸­å¯«å¯«æ–‡ç« æ‰“ç™¼æ™‚é–“ã€‚å¹³å¸¸å–œæ­¡å¯«å¯«ç¨‹å¼ï¼Œç ”ç©¶æ–°æŠ€è¡“ã€‚æ˜¯å€‹ CLI å¿ å¯¦æ“è­·è€…ï¼Œé›»è…¦é€šå¸¸åªé–‹ç€è¦½å™¨å’Œ terminalï¼Œterminal å°±æ˜¯æˆ‘çš„é–‹ç™¼ç’°å¢ƒã€‚&lt;br>
æ…£ç”¨ç¶²åæ˜¯ &lt;strong>simbafs&lt;/strong>ã€&lt;strong>simbafs&lt;/strong> æˆ– &lt;strong>SimbaFs&lt;/strong>ã€‚&lt;br>
ç•¥æ‡‚ nodejs å’Œä¸€é»žç¶²é æŠ€è¡“ï¼Œé€™ä¸€å€‹æœˆé–‹å§‹ç ”ç©¶ Golang&lt;/p>
&lt;h1 id="é—œæ–¼é€™å€‹ç³»åˆ—">é—œæ–¼é€™å€‹ç³»åˆ—&lt;/h1>
&lt;h2 id="ç‚ºä»€éº¼å¯«é€™å€‹ç³»åˆ—">ç‚ºä»€éº¼å¯«é€™å€‹ç³»åˆ—&lt;/h2>
&lt;p>ç¾ä»£åŒ– IDE æä¾›çš„å„ç¨®åŠŸèƒ½çµ¦æˆ‘å€‘å¾ˆå¥½çš„é–‹ç™¼é«”é©—ï¼Œå°¤å…¶æ˜¯ç•¶ç¨‹å¼ç¢¼æ•¸é‡é€æ¼¸å¢žåŠ æ™‚ï¼ŒIDE å¯ä»¥æä¾›åƒæ˜¯è‡ªå‹•è£œå…¨ã€åž‹æ…‹æç¤ºç­‰ç­‰ã€‚ç•¶ &lt;a class="link" href="https://docs.microsoft.com/zh-tw/visualstudio/extensibility/language-server-protocol?view=vs-2019" target="_blank" rel="noopener"
>lsp(language server protocol)&lt;/a> é–‹å§‹æµè¡Œä¹‹å¾Œï¼Œç”šè‡³ä¸å¤ªéœ€è¦æŸ¥æ–‡ä»¶å°±èƒ½çŸ¥é“ä¸€å€‹æœªçŸ¥å‡½æ•¸çš„ç”¨æ³•ã€‚ä½†æ˜¯åœ¨é€™ä¸€åˆ‡çš„æ–¹ä¾¿çš„èƒŒå¾Œæ˜¯çŠ§ç‰²æœ‰é™çš„é›»è…¦è³‡æºæ›ä¾†çš„ã€‚é€™å€‹æ™‚å€™è³‡æºéœ€æ±‚å°‘ã€ç™¼å±•è¶Šä¾†è¶Šå®Œå–„çš„çš„ç´”æ–‡å­—ç•Œé¢å°±æ˜¯è§£æ±ºé€™å€‹å•é¡Œçš„æœ€ä½³æ–¹æ³•äº†ï¼ä¸åƒ…ä¸æœƒæ¸›å°‘è©²æœ‰çš„&lt;strong>èªžæ³•çªé¡¯&lt;/strong>ã€&lt;strong>è‡ªå‹•è£œå…¨&lt;/strong>ï¼Œç”šè‡³å¯ä»¥å€ŸåŠ© ssh çš„åŠ›é‡ï¼Œåœ¨&lt;strong>ä»»ä½•è£ç½®&lt;/strong>ä¸Šé–‹ç™¼ï¼ˆåªè¦æ”¯æ´ ssh éƒ½å¯ä»¥ï¼‰ã€‚ä½†æ˜¯å¯æƒœçš„æ˜¯ç¶²è·¯ä¸Šé€™æ–¹é¢çš„è³‡æºéƒ½å¾ˆé›¶æ•£ï¼Œæ–¼æ˜¯æˆ‘æƒ³èªªè¶é€™æ¬¡åƒè³½å°‡æˆ‘æ‰€å­¸æ•´ç†èµ·ä¾†ã€‚é€™å€‹ç³»åˆ—æœƒå¸¶é ˜è®€è€…ä¸€æ­¥ä¸€æ­¥å»ºç«‹ä¸€å€‹å¥½ç”¨ã€æ–¹ä¾¿çš„ CLI é–‹ç™¼ç’°å¢ƒï¼Œå¦‚æžœæœ‰æ™‚é–“æœƒè¬›ä¸€ä¸‹å¦‚ä½•åœ¨ä»»ä½•è£ç½®ä¸Šé–‹ç™¼ï¼ˆç•¶ç„¶èž¢å¹•å¤ªå°ä¸é©åˆå•¦ï¼‰ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">&lt;img src="https://blog.simbafs.cc/images/ithelp/pure-CLI-IDE/day01/mem-comsumption.png"
loading="lazy"
alt="memory comsumption"
>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">äº”ç¨®æ–‡å­—ç·¨è¼¯å™¨é–‹å•Ÿä¸€å€‹ç´„ 60 byte çš„æ–‡å­—æª”æ‰€æ¶ˆè€—çš„è¨˜æ†¶é«”ï¼ˆKB)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">From &lt;a class="link" href="https://medium.com/commitlog/why-i-still-use-vim-67afd76b4db6" target="_blank" rel="noopener"
>https://medium.com/commitlog/why-i-still-use-vim-67afd76b4db6&lt;/a>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="é€™å€‹ç³»åˆ—åœ¨è¬›ä»€éº¼">é€™å€‹ç³»åˆ—åœ¨è¬›ä»€éº¼&lt;/h2>
&lt;p>ä»¥ä¸‹æ˜¯é è¨ˆçš„å¯«ä½œé€²åº¦ï¼Œä¸­é€”å¯èƒ½æœƒæ›´æ”¹ï¼Œæˆ‘ä¹Ÿæœƒæ¯å¤©åœ¨é€™è£¡æ›´æ–°é€£çµ&lt;/p>
&lt;ul>
&lt;li>Day 01: ç°¡ä»‹&lt;/li>
&lt;li>Day 02 ~ 05: zsh&lt;/li>
&lt;li>Day 06 ~ 09: tmux&lt;/li>
&lt;li>Day 10 ~ 21: nvim&lt;/li>
&lt;li>Day 22 ~ 26: other tools&lt;/li>
&lt;li>Day 29 ~ 30: coding everywhere&lt;/li>
&lt;/ul>
&lt;h2 id="ä»™è²å…ˆå‚™è»Ÿé«”">&lt;del>ä»™è²&lt;/del>å…ˆå‚™ï¼ˆè»Ÿé«”ï¼‰&lt;/h2>
&lt;p>æœ€é‡è¦çš„ï¼Œä¸€å€‹æ”¯æ´è‡³å°‘ 8 è‰²çš„ã€ä½ ç”¨çš„é †æ‰‹çš„çµ‚ç«¯æ©Ÿæ¨¡æ“¬å™¨ï¼Œæœ€å¥½æ˜¯å¯ä»¥&lt;strong>è‡ªè¡Œå®‰è£å­—é«”&lt;/strong>çš„ã€‚&lt;/p>
&lt;h2 id="å¯«ä½œæ…£ä¾‹">å¯«ä½œæ…£ä¾‹&lt;/h2>
&lt;h3 id="å•é¡Œ">å•é¡Œ&lt;/h3>
&lt;p>å¦‚æžœä½ çœ‹åˆ°é€™å€‹&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">â“ &amp;gt; é€™æ˜¯ä¸€å€‹å•é¡Œ&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">é€™é‚Šæ˜¯ç­”æ¡ˆ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">é€™æ˜¯ä½ åœ¨é–±è®€æ–‡ç« æ™‚å¯èƒ½æœƒé‡åˆ°çš„å•é¡Œï¼Œè§£ç­”å°±åœ¨å•é¡Œä¸‹é¢ï¼Œå¦‚æžœé‚„æœ‰å…¶ä»–å•é¡Œå¯ä»¥&lt;strong>ç•™è¨€&lt;/strong>æˆ–æ˜¯&lt;strong>è¯çµ¡æˆ‘&lt;/strong>éƒ½å¯ä»¥&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="æç¤º">æç¤º&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">ðŸ’¡ é€™æ˜¯ä¸€å€‹æç¤º&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;/table>
&lt;h3 id="ç¨‹å¼ç¢¼å€å¡Š">ç¨‹å¼ç¢¼å€å¡Š&lt;/h3>
&lt;p>ç¨‹å¼ç¢¼å€å¡Šæœƒé•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">// some code
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æžœä½ çœ‹åˆ°æœ‰æ–‡å­—è¢« &lt;code>é€™ç¨®èƒŒæ™¯&lt;/code> åŒ…åœï¼Œé‚£ä»£è¡¨ä»–æ˜¯å€‹å°ˆæ¥­è¡“èªžã€ç‰¹æ®Šç¬¦è™Ÿã€æª”åæˆ–æ˜¯è·¯å¾‘ï¼Œä¾‹å¦‚ &lt;code>zsh&lt;/code>ã€&lt;code>$&lt;/code>ã€&lt;code>~/.zshrc&lt;/code>&lt;br>
ç„¡è«–æ˜¯å¤šè¡Œçš„ç¨‹å¼ç¢¼å€å¡Šæˆ–æ˜¯è¡Œå…§ç¨‹å¼ç¢¼ï¼Œåªè¦æ˜¯ &lt;code>$&lt;/code> é–‹é ­çš„å¾Œé¢æ•´è¡Œéƒ½æ˜¯å‘½ä»¤ï¼Œåœ¨ä¸‹å‘½ä»¤æ™‚ä¸éœ€è¦æ‰“ &lt;code>$&lt;/code>ï¼Œä¾‹å¦‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ls *.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦å¤–ï¼Œå¦‚æžœä½ çœ‹åˆ°é€™æ¨£çš„ç¨‹å¼ç¢¼å€å¡Š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ asdf
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span>&lt;span class="gd">- asdd
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»£è¡¨æœ‰ä¸€å€‹æª”æ¡ˆè¦ä¿®æ”¹ï¼Œå¾ž &lt;code>+&lt;/code> çš„é‚£è¡Œæ”¹æˆ &lt;code>-&lt;/code> çš„é‚£è¡Œï¼ŒåŠ æ¸›è™Ÿéƒ½ä¸ç”¨å¯«é€²åŽ»ï¼Œæª”åæœƒå¦å¤–èªªæ˜Ž&lt;/p>
&lt;h1 id="åŒæ­¥æ›´æ–°">åŒæ­¥æ›´æ–°&lt;/h1>
&lt;p>é™¤äº† &lt;a class="link" href="https://ithelp.ithome.com.tw/users/20130473/ironman/3975" target="_blank" rel="noopener"
>IThelp&lt;/a>ï¼Œæˆ‘ä¹Ÿæœƒå°‡é€™å€‹ç³»åˆ—çš„æ–‡ç« æ›´æ–°åœ¨ &lt;strong>&lt;a class="link" href="https://blog.simbafs.dev/categories/ithelp/pure-CLI-IDE" target="_blank" rel="noopener"
>æˆ‘çš„ blog&lt;/a>&lt;/strong> ä¸Š&lt;/p>
&lt;p>å–”å°äº†ï¼Œé€™æ•´å€‹ç³»åˆ—æˆ‘éƒ½æ˜¯åœ¨æˆ‘çš„ç´” CLI ç’°å¢ƒä¸­å¯«ä½œçš„å–”ï¼&lt;/p></description></item><item><title>Tabel Of Content</title><link>https://blog.simbafs.cc/p/ithelp/toc/</link><pubDate>Wed, 01 Sep 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/ithelp/toc/</guid><description>&lt;img src="https://blog.simbafs.cc/og/ithelp/toc.png" alt="Featured image of post Tabel Of Content" />&lt;h1 id="ç´”cli-æ•´åˆå¼é–‹ç™¼ç’°å¢ƒ">ç´”â€§CLI æ•´åˆå¼é–‹ç™¼ç’°å¢ƒ&lt;/h1>
&lt;p>åœ¨é€™å€‹åœ–å½¢ç•Œé¢ç•¶é“çš„æ™‚ä»£ï¼ŒIDE åƒæŽ‰è¶Šä¾†è¶Šå¤šçš„è¨˜æ†¶é«”ï¼Œä½†æ˜¯ç‚ºäº†ç²¾ç¾Žçš„ç•Œé¢ã€å‹å–„çš„é–‹ç™¼ç’°å¢ƒä½¿æˆ‘å€‘ä¸å¾—ä¸ä¹–ä¹–ä¸Šä¾›è¨˜æ†¶é«”çµ¦é€™äº›åƒè¨˜æ†¶é«”æ€ªç¸ã€‚æœ‰æ²’æœ‰ä¸€å€‹å…©å…¨å…¶ç¾Žçš„æ–¹æ³•å‘¢ï¼Ÿç•¶ç„¶æœ‰ï¼Œé‚£å°±æ˜¯ CLI ï¼è¨­ç½®å®Œå–„çš„é–‹ç™¼ç’°å¢ƒåª²ç¾Žç¾ä»£åŒ–ç·¨è¼¯å™¨ï¼Œè€Œä¸”å› ç‚ºæ²’æœ‰ç¶å®šåœ–å½¢ç•Œé¢ï¼Œæ‰€ä»¥æƒ³è¦åœ¨æ‰‹æ©Ÿå¹³æ¿ä¸Šé–‹ç™¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚
é€™å€‹ç³»åˆ—å°‡å¾žé›¶é–‹å§‹ä»‹ç´¹åœ¨ CLI é–‹ç™¼éœ€è¦çš„å·¥å…·ï¼Œä¸€æ­¥ä¸€æ­¥æŠŠ CLI è®Šæˆå¯¦ç”¨ç²¾ç¾Žçš„é–‹ç™¼ç’°å¢ƒ&lt;/p>
&lt;hr>
&lt;h1 id="å¯«ä½œé€²åº¦">å¯«ä½œé€²åº¦&lt;/h1>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day01" >Day 01: ç°¡ä»‹&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Day 02 ~ 05: zsh
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day02" >installation, zplug&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day03" >p10k&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day04" >autosuggest&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day05" >autocomplete, autopair, alias&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Day 06 ~ 09: tmux
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day06" >installation and config&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day07" >intergrate tmux with zsh&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day08" >hotkeys&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day09" >plugins&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Day 10 ~ 18: nvim
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day10" >installation and basic operation&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day11" >advanced operationï¼ˆæœå°‹èˆ‡å–ä»£ã€æ‰¹æ¬¡å‘½ä»¤ï¼‰&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day12" >è§£æ±ºé¡è‰²è¡çª&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day13" >Config&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day14" >vim-plug&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day15" >plugins&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day16" >coc.nvim-1&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day17" >coc.nvim-2&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day18" >emmet-vim(1)&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day19" >emmet-vim(2)&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a class="link" href="../day20" >split window and tab&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day21" >clipboard, session&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day22" >move, into insert mode&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Day 22 ~ 26: other tools
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day23" >git&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day24" >awk&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day25" >ssh&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day27" >htop&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day28" >tree&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day29" >axel&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day30" >http-prompt&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day31" >https://github.com/maaslalani/slides&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Day 27 ~ 30: coding everywhere
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day32" >Android&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day33" >VPS (1)&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day34" >VPS (2)&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> &lt;a class="link" href="../day35" >hexo&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Golang Parse All Files In Directory Into Templates</title><link>https://blog.simbafs.cc/p/golang/golang-parse-all-files-in-directory-into-templates/</link><pubDate>Fri, 30 Jul 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/golang/golang-parse-all-files-in-directory-into-templates/</guid><description>&lt;img src="https://blog.simbafs.cc/og/golang/Golang-Parse-All-Files-In-Directory-Into-Templates.png" alt="Featured image of post Golang Parse All Files In Directory Into Templates" />&lt;h1 id="golang-parse-all-files-in-directory-into-templates">Golang Parse All Files In Directory Into Templates&lt;/h1>
&lt;p>åœ¨ç”¨ gin å¯«ä¼ºæœå™¨çš„æ™‚å€™ï¼Œæˆ‘ç™¼ç¾æ¨¡æ¿ä¸¦ä¸æœƒè¢« &lt;code>go build&lt;/code> æ‰“åŒ…é€²åŸ·è¡Œæª”è£¡é¢ï¼Œæ‰€ä»¥åœ¨åŸ·è¡Œçš„æ™‚å€™å°±æ‰¾ä¸åˆ°æª”æ¡ˆï¼Œç•¶ç„¶é€™å€‹å•é¡Œå¯ä»¥ç”¨å­—ä¸²çš„å½¢å¼ç›´æŽ¥æŠŠæ¨¡æ¿æ”¾é€² golang åŽŸå§‹ç¢¼è£¡é¢ï¼Œä½†æ˜¯é€™æ¨£ç¨‹å¼ç¢¼ä¸€è¤‡é›œå°±æœƒä¸å¥½ç”¨ï¼Œé€™æ™‚å€™å°±å¯ä»¥ç”¨ golang çš„ embed å‡½å¼åº«æŠŠæª”æ¡ˆã€ŒåµŒå…¥ã€åˆ°åŽŸå§‹ç¢¼è£¡é¢ã€‚ä½†æ˜¯å•é¡Œåˆä¾†äº†ï¼ŒåµŒå…¥äº†ä¹‹å¾Œè¦æ€Žéº¼æŠŠå­—ä¸²è®Šæˆæ¨¡æ¿ç‰©ä»¶å‘¢ï¼Ÿ&lt;/p>
&lt;h2 id="embed">Embed&lt;/h2>
&lt;blockquote>
&lt;p>&lt;code>embed&lt;/code> å¥—ä»¶æ˜¯ 1.16 æ–°å‡ºçš„åŠŸèƒ½ï¼Œæ‰€ä»¥å¦‚æžœæƒ³ç”¨çš„è©±è¨˜å¾—è¦æ›´æ–° go åˆ° 1.16 ä»¥ä¸Š&lt;/p>
&lt;/blockquote>
&lt;p>&lt;code>embed&lt;/code> åµŒå…¥æª”æ¡ˆçš„æ–¹å¼æ˜¯é€éŽç‰¹æ®Šæ ¼å¼çš„è¨»è§£å®£å‘Šï¼Œç›´æŽ¥çœ‹å®˜æ–¹ç¯„ä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-golang" data-lang="golang">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;embed&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//go:embed hello.txt
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">s&lt;/span> &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//go:embed hello.txt
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">byte&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//go:embed hello.txt
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">f&lt;/span> &lt;span class="nx">embed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">FS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;hello.txt&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°ï¼Œ&lt;code>embed&lt;/code> å¯ä»¥æŠŠæª”æ¡ˆè®€æˆä¸‰ç¨®æ ¼å¼ &lt;code>string&lt;/code>ã€&lt;code>[]byte&lt;/code>ã€&lt;code>embed.FS&lt;/code>ï¼Œå‰å…©è€…åªèƒ½è®€ã€Œä¸€å€‹ã€æª”æ¡ˆï¼Œå¦‚æžœä½ åªç”¨é€™å…©å€‹çš„è©±å¼•å…¥æ™‚è¦ç”¨ &lt;code>_ &amp;quot;embed&amp;quot;&lt;/code>ã€‚&lt;code>embed.FS&lt;/code> é™¤äº†å¯ä»¥åµŒå…¥å¤šå€‹æª”æ¡ˆä¹‹å¤–ï¼Œå› ç‚ºå¯¦åšäº† &lt;code>fs.FS&lt;/code> æ‰€ä»¥å¯ä»¥ä½¿ç”¨ç•¶ä½œä¸€å€‹æª”æ¡ˆç³»çµ±æ“ä½œã€‚&lt;/p>
&lt;h2 id="tmeplate">Tmeplate&lt;/h2>
&lt;h3 id="no-recursive">No Recursive&lt;/h3>
&lt;p>æœ€ç°¡å–®çš„æ–¹æ³•ï¼Œä½ å¯ä»¥ç›´æŽ¥ä½¿ç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-golang" data-lang="golang">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// go:embed view/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">f&lt;/span> &lt;span class="nx">embed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">FS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">templ&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">template&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Must&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">template&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">ParseFS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;view/*tmpl&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;view/user/*.tmpl&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹æ–¹æ³•æœ‰å€‹ç¼ºé»žï¼Œåƒä¸Šé¢é€™æ¨£æœ‰å­ç›®éŒ„å°±è¦ä¸€å€‹ä¸€å€‹è¨­å®šï¼ŒParseFS ä¸æœƒå¹«ä½ å¾€ä¸‹å°‹æ‰¾&lt;/p>
&lt;h3 id="recursive">Recursive&lt;/h3>
&lt;p>å–„ç”¨ &lt;code>embed.FS&lt;/code>ï¼Œæˆ‘å€‘å¯ä»¥å°‡è³‡æ–™å¤¾ä¸‹æ‰€æœ‰æª”æ¡ˆè¼‰å…¥æˆæ¨¡æ¿&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-golang" data-lang="golang">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// go:embed view
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">Assets&lt;/span> &lt;span class="nx">embed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">FS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">loadTemplate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">template&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Template&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">template&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">WalkDir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Assets&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;view&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">path&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">d&lt;/span> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">DirEntry&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// exclude directory
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">IsDir&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// read file
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">file&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">Assets&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ReadFile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;view/&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nf">Parse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">file&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Loaded templates:&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">v&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Templates&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34; &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">v&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Name&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">templ&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">loadTemplate&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">panic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™ç¨®å¯«æ³•é›–ç„¶ç¨‹å¼å¯«çš„æ¯”è¼ƒå¤šï¼Œä½†æ˜¯åœ¨æ¨¡æ¿å¤šçš„æ™‚å€™å„ªå‹¢å°±é¡¯ç¾å‡ºä¾†äº†ï¼Œå®Œå…¨ä¸ç”¨ç®¡æœ‰å¹¾å±¤è³‡æ–™å¤¾ï¼Œåæ­£æ”¾åœ¨ &lt;code>view&lt;/code> è£¡é¢å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;h2 id="é—œæ–¼-template-å¥‡æ€ªçš„å‘">é—œæ–¼ Template å¥‡æ€ªçš„å‘&lt;/h2>
&lt;p>å¦‚æžœä»”ç´°çœ‹ä½ æœƒç™¼ç¾ &lt;code>html/template&lt;/code> å¥—ä»¶æœ‰æä¾›ä¸€å€‹å‡½æ•¸ &lt;code>ParseFS&lt;/code> å‡½æ•¸ï¼Œå¯ä»¥ç›´æŽ¥å‚³ &lt;code>FS&lt;/code> ç‰©ä»¶é€²åŽ»ï¼ˆå¦‚ #No-Recursive çš„ç”¨æ³•ï¼‰ï¼Œä½†æ˜¯å› ç‚º &lt;code>ParseFS&lt;/code> åœ¨åˆ¤å®š template name æ™‚æ˜¯ç”¨æª”åè€Œä¸æ˜¯è·¯å¾‘ï¼Œæ‰€ä»¥ä¸åŒè³‡æ–™å¤¾ä¸‹å¦‚æžœéƒ½æœ‰æª”åä¸€æ¨£çš„æ¨¡æ¿ï¼Œåªæœ‰æœ€å¾Œä¸€å€‹æœƒç”Ÿæ•ˆã€‚æ‰€ä»¥é€™å€‹åªé©ç”¨æ²’æœ‰å­ç›®éŒ„çš„æƒ…å½¢ï¼Œæ“´å……æ€§ä¸è¶³æœ‰é»žå¯æƒœã€‚å› æ­¤åœ¨ #Recursive ä¸­æˆ‘ä½¿ç”¨ &lt;code>Assets.ReadFile&lt;/code> æŠŠæª”æ¡ˆè®€é€²ä¾†ï¼Œå†ä»¥å­—ä¸²å‚³é€² Parse å°±æ˜¯ç‚ºäº†é¿å…é€™å€‹ bug&lt;/p>
&lt;h2 id="é—œæ–¼-golang-117-çš„å‘">é—œæ–¼ Golang 1.17 çš„å‘&lt;/h2>
&lt;h3 id="ç©ºæ ¼">ç©ºæ ¼&lt;/h3>
&lt;p>å‡åˆ° Golang 1.17 ä¹‹å¾Œï¼ŒåŽŸæœ¬å¯ä»¥ç”¨ &lt;code>// go:embed filename&lt;/code> å¼•å…¥ï¼Œç¾åœ¨ä¸€å®šè¦ç”¨ &lt;code>//go:embed filename&lt;/code>ï¼Œæ–œç·šå’Œ &lt;code>go&lt;/code> ä¸­é–“ä¸èƒ½æœ‰ç©ºç™½ã€‚&lt;/p>
&lt;h3 id="ä¸èƒ½ç”¨é–‹é ­">ä¸èƒ½ç”¨ã€Œ.ã€é–‹é ­&lt;/h3>
&lt;p>æˆ‘ä¸ç¢ºå®šé€™æ˜¯ä¸æ˜¯ 1.17 çš„æ”¹è®Šï¼Œæˆ‘å¿˜è¨˜ä»¥å‰ 1.16.5 æœ‰æ²’æœ‰è©¦éŽé€™å€‹ï¼Œ&lt;code>filename&lt;/code> ä¸èƒ½æ˜¯ã€Œ.ã€é–‹é ­ï¼Œä¹Ÿå°±æ˜¯èªªä¸èƒ½å¯« &lt;code>../filename&lt;/code>ï¼Œæ‰€ä»¥è¦å¼•å…¥çš„æª”æ¡ˆæˆ–ç›®éŒ„ä¸€å®šè¦æ”¾åœ¨ &lt;code>go run .&lt;/code> æˆ– &lt;code>go build&lt;/code> åŸ·è¡Œçš„ç›®éŒ„ä¸‹&lt;/p>
&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;p>&lt;a class="link" href="https://pkg.go.dev/embed" target="_blank" rel="noopener"
>https://pkg.go.dev/embed&lt;/a>&lt;br>
&lt;a class="link" href="https://pkg.go.dev/io/fs" target="_blank" rel="noopener"
>https://pkg.go.dev/io/fs&lt;/a>&lt;br>
&lt;a class="link" href="https://pkg.go.dev/html/template" target="_blank" rel="noopener"
>https://pkg.go.dev/html/template&lt;/a>&lt;br>
&lt;a class="link" href="https://blog.wu-boy.com/2020/12/embedding-files-in-go-1-16/" target="_blank" rel="noopener"
>https://blog.wu-boy.com/2020/12/embedding-files-in-go-1-16/&lt;/a>&lt;/p></description></item><item><title>ssh on gitea with docker</title><link>https://blog.simbafs.cc/p/linux/server/ssh-on-gitea-with-docker/</link><pubDate>Tue, 13 Jul 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/server/ssh-on-gitea-with-docker/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/server/ssh-on-gitea-with-docker.png" alt="Featured image of post ssh on gitea with docker" />&lt;h1 id="gitea">Gitea&lt;/h1>
&lt;p>&lt;a class="link" href="https://gitea.io" target="_blank" rel="noopener"
>Gitea&lt;/a> æ˜¯ä¸€å€‹é–‹æºçš„ git ä¼ºæœå™¨ï¼Œä»–çš„ç•Œé¢å¹¾ä¹Žå’Œ &lt;a class="link" href="https://github.com" target="_blank" rel="noopener"
>GitHub&lt;/a> ä¸€æ¨¡ä¸€æ¨£ï¼Œä½†æ˜¯å®Œå…¨é–‹æºè€Œä¸”éžå¸¸è¼•ï¼Œç”šè‡³ä¸€ç‰‡æ¨¹æ¢…æ´¾å°±å¯ä»¥é–‹ä¼ºæœå™¨äº†ã€‚Gitea å› ç‚ºæ˜¯ä½¿ç”¨ &lt;a class="link" href="https://golang.org/" target="_blank" rel="noopener"
>Golang&lt;/a> ç·¨å¯«çš„ï¼Œæ‰€ä»¥æä¾›å„ç¨®å¹³å°çš„åŸ·è¡Œæª”ã€‚æˆ‘é¸æ“‡é€éŽ docker è£ Gitea ä¼ºæœå™¨ï¼Œä½†æ˜¯é€™æ¨£æœ‰ä¸€å€‹å•é¡Œï¼Œgitea ä¼ºæœå™¨é–‹åœ¨ container å…§ï¼Œæ²’è¾¦æ³•ä½¿ç”¨æ¨™æº–çš„ 22 portï¼Œæ‰€ä»¥ git clone å°±å¿…é ˆåŠ ä¸Šä¸€å€‹é†œé†œçš„æ•¸å­—ï¼Œåƒæ˜¯é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git clone git@domain:10022:user/repo.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹å•é¡Œ Gitea å®˜æ–¹å·²ç¶“æœ‰æä¾›&lt;a class="link" href="https://docs.gitea.io/en-us/install-with-docker/#ssh-container-passthrough" target="_blank" rel="noopener"
>å®Œæ•´çš„æ•™å­¸&lt;/a>äº†ï¼Œä½†æ˜¯æ˜¯è‹±æ–‡ç‰ˆï¼Œæˆ‘é€™ç¯‡æ–‡ç« æ˜¯æˆ‘è®€å®Œæ¶ˆåŒ–éŽå¾Œçš„ä¸­æ–‡ç‰ˆæ•™å­¸&lt;/p>
&lt;h2 id="å®¹å™¨-ssh-ç©¿é€">å®¹å™¨ ssh ç©¿é€&lt;/h2>
&lt;p>å› ç‚º Gitea çš„ ssh æ˜¯è·‘åœ¨å®¹å™¨è£¡ï¼Œæˆ‘æ²’è¾¦æ³•è®“ä»–å’Œ host å…±ç”¨ 22 portï¼Œæ‰€ä»¥è¦é€éŽ host ã€Œè½‰ç™¼ã€é€£ç·šã€‚&lt;/p>
&lt;h2 id="1-å»ºç«‹-git-ä½¿ç”¨è€…">1. å»ºç«‹ git ä½¿ç”¨è€…&lt;/h2>
&lt;p>å…ˆåœ¨ host å»ºç«‹ä¸€å€‹åå« git çš„ä½¿ç”¨è€…ï¼Œå› ç‚ºé€™å€‹å¸³è™Ÿæœƒè¢«å°æ‡‰åˆ°å®¹å™¨å…§çš„ git ä½¿ç”¨è€…ï¼Œæ‰€ä»¥è¦æœ‰ä¸€æ¨£çš„ UID, GID&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo adduser git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">grep git /etc/passwd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¨˜å¥½ git çš„ UID å’Œ GID&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git:x:1002:1002:,,,:/home/git:/bin/bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------^^^^ ^^^^
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------GID UID
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-docker-compose">2. docker-compose&lt;/h2>
&lt;p>ä»¥ä¸‹æ˜¯æˆ‘çš„ docker-composeï¼Œå¯ä»¥æ ¹æ“šä¸åŒçš„éœ€æ±‚å†ä¿®æ”¹ï¼ˆåƒæ˜¯åŠ å…¥ dbï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">version: &amp;#34;3&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">services:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> gitea:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> container_name: gitea
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> image: gitea/gitea:latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ports:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &amp;#34;10022:22&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &amp;#34;10080:3000&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> volumes:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &amp;#34;/home/simba/website/gitea/data:/data&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &amp;#34;/home/git/.ssh:/data/git/.ssh&amp;#34; # ssh é€£ç·šéœ€è¦ï¼Œé€™æ¨£ä½¿ç”¨è€…æ–°å¢ž ssh key æ™‚æ‰æœƒåŒæ­¥åˆ° host ä¸Šï¼Œä½¿ç”¨è€…æ‰é€£çš„é€²ä¾†
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> restart: &amp;#39;unless-stopped&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> environment:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - USER_UID=1002
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - USER_GID=1002
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>UID å’Œ GID è¨˜å¾—æ›æˆä½ çš„ï¼Œæˆ‘çš„å’Œä½ çš„ä¸ä¸€å®šä¸€æ¨£&lt;/p>
&lt;h2 id="3-å¹«-git-å¸³è™Ÿç”¢ç”Ÿ-ssh-key">3. å¹« git å¸³è™Ÿç”¢ç”Ÿ ssh key&lt;/h2>
&lt;p>è¦æœ‰ ssh key æ‰èƒ½è½‰ç™¼ï¼ˆhost ä¸Šçš„ git è¦é€£ç·šåˆ° container å…§ï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo -u git ssh-keygen -t rsa -b &lt;span class="m">4096&lt;/span> -C &lt;span class="s2">&amp;#34;Gitea Host Key&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="4-ssh-è½‰ç™¼">4. ssh è½‰ç™¼&lt;/h2>
&lt;p>é€™æ™‚å€™å¦‚æžœä½ é–‹å•Ÿæœå‹™ï¼Œç‚ºä¸€å€‹ä½¿ç”¨è€…æ–°å¢ž ssh key ä½ æœƒç™¼ç¾åœ¨ host ä¸Š &lt;code>~git/.ssh/authorized_keys&lt;/code> æœƒå¤šå‡ºä¸€è¡Œï¼Œé•·çš„åƒé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">command=&amp;#34;/app/gitea/gitea --config=/data/gitea/conf/app.ini serv key-1&amp;#34;,no-port-forwarding,no-X11-forwarding,no-agent-forwarding,no-pty ssh-rsa AAAA......(ssh key)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è¡Œæ˜¯ Gitea æ–°å¢žçš„ï¼ŒåŠŸèƒ½æ˜¯è®“æ–°çš„ ssh é€£ç·š(user -&amp;gt; host)é€²ä¾†æ™‚åŸ·è¡Œ &lt;code>/app/gitea/gitea serv&lt;/code> é€™å€‹æŒ‡ä»¤ï¼Œä½†æ˜¯æˆ‘å€‘å¸Œæœ›ä»–å¯ä»¥åŸ·è¡Œ ssh è½‰ç™¼ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥åœ¨ host çš„ &lt;code>/app/gitea/&lt;/code> ä¸‹æ–°å¢žä¸€å€‹ &lt;code>gitea&lt;/code> åŸ·è¡Œæª”å¹«æˆ‘å€‘åš ssh è½‰ç™¼ï¼ˆé€™è£¡ä¸æœƒæœ‰ gitea åŸ·è¡Œæª”ï¼Œå› ç‚ºæ˜¯åœ¨ hostï¼Œgitea æœ¬é«”åœ¨ container å…§ï¼‰&lt;br>
é¦–å…ˆæ–°å¢žç›®éŒ„ &lt;code>sudo mkdir -p /app/gitea&lt;/code>&lt;br>
å†ä¾†å»ºç«‹æª”æ¡ˆ &lt;code>/app/gitea/gitea&lt;/code>ï¼Œå…§å®¹å¦‚ä¸‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>ssh -p &lt;span class="m">2222&lt;/span> -o &lt;span class="nv">StrictHostKeyChecking&lt;/span>&lt;span class="o">=&lt;/span>no git@127.0.0.1 &lt;span class="s2">&amp;#34;SSH_ORIGINAL_COMMAND=\&amp;#34;&lt;/span>&lt;span class="nv">$SSH_ORIGINAL_COMMAND&lt;/span>&lt;span class="s2">\&amp;#34; &lt;/span>&lt;span class="nv">$0&lt;/span>&lt;span class="s2"> &lt;/span>&lt;span class="nv">$@&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸è¦å¿˜è¨˜çµ¦ä»–åŸ·è¡Œæ¬Šé™ &lt;code>sudo chmod 755 /app/gitea/gitea&lt;/code>&lt;/p>
&lt;h2 id="å¤§åŠŸå‘Šæˆ">å¤§åŠŸå‘Šæˆï¼&lt;/h2>
&lt;h2 id="å¿ƒå¾—">å¿ƒå¾—&lt;/h2>
&lt;p>ä¸€é–‹å§‹æˆ‘æ²’æ‰¾åˆ°å®˜æ–¹çš„æ•™å­¸ï¼Œä¸€æ–¹é¢æ˜¯æˆ‘æƒ³è‡ªå·±è©¦è©¦çœ‹ï¼ŒäºŒæ–¹é¢æ˜¯å› ç‚ºå®˜æ–¹æ–‡ä»¶ä¸­è‹±æ–‡å®Œå…¨ä¸ä¸€æ¨£ï¼Œçœ‹è‹±æ–‡ç‰ˆæ‰å®Œæ•´ï¼Œä¸­æ–‡åªçµ¦å…©æ¢æŒ‡ä»¤ã€‚&lt;/p>
&lt;h2 id="åƒè€ƒé€£çµ">åƒè€ƒé€£çµ&lt;/h2>
&lt;p>&lt;a class="link" href="https://docs.gitea.io/en-us/install-with-docker/#ssh-container-passthrough" target="_blank" rel="noopener"
>https://docs.gitea.io/en-us/install-with-docker/#ssh-container-passthrough&lt;/a>&lt;br>
&lt;a class="link" href="https://asaba.sakuragawa.moe/2018/06/%E6%93%BA%E8%84%AB%E6%8E%A7%E5%88%B6%EF%BC%8C%E7%94%A8-docker-%E8%87%AA%E5%BB%BA-gitea-gogs-%E7%B7%9A%E4%B8%8A%E4%BB%A3%E7%A2%BC%E5%8D%94%E4%BD%9C%E5%B9%B3%E8%87%BA/" target="_blank" rel="noopener"
>https://asaba.sakuragawa.moe/2018/06/æ“ºè„«æŽ§åˆ¶ï¼Œç”¨-docker-è‡ªå»º-gitea-gogs-ç·šä¸Šä»£ç¢¼å”ä½œå¹³è‡º/&lt;/a>&lt;/p></description></item><item><title>è‡ºç£åœ°å€ API</title><link>https://blog.simbafs.cc/p/other/taiwan-town-location/</link><pubDate>Thu, 24 Jun 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/other/taiwan-town-location/</guid><description>&lt;img src="https://blog.simbafs.cc/og/other/taiwan-town-location.png" alt="Featured image of post è‡ºç£åœ°å€ API" />&lt;h1 id="è‡ºç£åœ°å€-api">è‡ºç£åœ°å€ API&lt;/h1>
&lt;p>é€™æ˜¯ä¸€å€‹çµ¦ç¶“ç·¯åº¦ååœ°å€çš„ apiï¼Œç”šè‡³è·¯æ®µéƒ½æœƒå‡ºä¾†ï¼Œæ­é… &lt;a class="link" href="https://developer.mozilla.org/zh-TW/docs/Web/API/Geolocation_API" target="_blank" rel="noopener"
>web geolocation api&lt;/a> è »ä¸éŒ¯çš„ï¼Œç²¾ç¢ºåº¦ä¸éŒ¯ã€‚å¯ä»¥ä¸çŸ¥é“æœ‰æ²’æœ‰ rate limited çš„å•é¡Œï¼Œç›®å‰çœ‹èµ·ä¾†é€£ token éƒ½ä¸ç”¨ã€‚&lt;/p>
&lt;h2 id="ç¶²å€">ç¶²å€&lt;/h2>
&lt;p>&lt;a class="link" href="https://api.nlsc.gov.tw/other/TownVillagePointQuery/" target="_blank" rel="noopener"
>https://api.nlsc.gov.tw/other/TownVillagePointQuery/&lt;/a>&lt;/p>
&lt;h2 id="ç”¨æ³•">ç”¨æ³•&lt;/h2>
&lt;p>&lt;a class="link" href="https://api.nlsc.gov.tw/other/TownVillagePointQuery/" target="_blank" rel="noopener"
>https://api.nlsc.gov.tw/other/TownVillagePointQuery/&lt;/a>ç¶“åº¦/ç·¯åº¦&lt;/p>
&lt;h2 id="èˆ‰ä¾‹">èˆ‰ä¾‹ï¼š&lt;/h2>
&lt;h2 id="request">request&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">GET https://api.nlsc.gov.tw/other/TownVillagePointQuery/121.46278679999999/25.0169826
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="response">response&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;townVillageItem&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;ctyCode&amp;gt;&lt;/span>F&lt;span class="nt">&amp;lt;/ctyCode&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;ctyName&amp;gt;&lt;/span>æ–°åŒ—å¸‚&lt;span class="nt">&amp;lt;/ctyName&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;townCode&amp;gt;&lt;/span>F14&lt;span class="nt">&amp;lt;/townCode&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;townName&amp;gt;&lt;/span>æ¿æ©‹å€&lt;span class="nt">&amp;lt;/townName&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;officeCode&amp;gt;&lt;/span>FA&lt;span class="nt">&amp;lt;/officeCode&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;officeName&amp;gt;&lt;/span>æ¿æ©‹&lt;span class="nt">&amp;lt;/officeName&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;sectCode&amp;gt;&lt;/span>0008&lt;span class="nt">&amp;lt;/sectCode&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;sectName&amp;gt;&lt;/span>æ°‘æ¬Šæ®µ&lt;span class="nt">&amp;lt;/sectName&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;villageCode&amp;gt;&lt;/span>65000010020&lt;span class="nt">&amp;lt;/villageCode&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;villageName&amp;gt;&lt;/span>æ¼¢ç”Ÿé‡Œ&lt;span class="nt">&amp;lt;/villageName&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/townVillageItem&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;p>&lt;a class="link" href="https://data.gov.tw/dataset/101898" target="_blank" rel="noopener"
>https://data.gov.tw/dataset/101898&lt;/a>&lt;/p></description></item><item><title>Cast Phone Screen to Computer</title><link>https://blog.simbafs.cc/p/linux/cast-phone-screen-to-computer/</link><pubDate>Mon, 14 Jun 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/cast-phone-screen-to-computer/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/cast-phone-screen-to-computer.png" alt="Featured image of post Cast Phone Screen to Computer" />&lt;h1 id="cast-phone-screen-to-computer">Cast Phone Screen to Computer&lt;/h1>
&lt;p>æœ‰æ²’æœ‰ä¸€ç¨®ç¶“é©—æ˜¯æŸçš„æ‡‰ç”¨ç¨‹å¼æ‰‹æ©Ÿæ¿æ“ä½œå‹‰å¼·ç®—é †æš¢ï¼Œä½†æ˜¯ä¸€é›»è…¦ä¸Šå°±ç‚¸é–‹ï¼Œåæ‡‰æ…¢åˆ°é åŒ—ã€ç•Œé¢åˆå¾ˆé›£ç”¨ï¼ˆæ²’éŒ¯ messenger æˆ‘æ­£åœ¨çœ‹è‘—ä½ ï¼‰ã€‚é€™å€‹æ™‚å€™ç›¸ä¿¡ä½ æœƒå’Œæˆ‘ä¸€æ¨£æƒ³æŠŠæ‰‹æ©Ÿç•«é¢æŠ•å½±åˆ°é›»è…¦ä¸Šçš„ä¸€å€‹è¦–çª—è£¡é¢ï¼Œæœ€å¥½å¯ä»¥äº’å‹•ã€å¯ä»¥æ‰“å­—ã€‚æœ‰äººç¬¬ä¸€å€‹æƒ³æ³•æ˜¯åœ¨æ‰‹æ©Ÿé–‹ VNC ä¼ºæœå™¨ï¼Œä½†æ˜¯é€™å€‹æ–¹æ³•æœ‰é»žéº»ç…©ï¼Œé€™ç¯‡æ–‡ç« ä»‹ç´¹çš„æ˜¯ç›®å‰æˆ‘è¦ºå¾—æœ€ä½³è§£æ±ºæ–¹æ¡ˆã€‚&lt;/p>
&lt;h2 id="scrcpy">SCRCPY&lt;/h2>
&lt;p>é€™å€‹è»Ÿé«”æ”¯æ´æœ‰ç·šï¼ˆ USB debug ï¼‰ã€ç„¡ç·šï¼ˆ WIFI ï¼‰çš„é€£æŽ¥ï¼Œé‚„æ”¯æ´èž¢å¹•éŒ„å½±å’Œå‚³æª”æ¡ˆã€‚æœ€é‡è¦çš„æ˜¯ï¼Œé–‹åœ¨é›»è…¦ä¸Šçš„è¦–çª—å¯ä»¥èª¿æ•´å¤§å°ï¼Œä¸éœ€è¦ä¾·é™åœ¨ä¸€å€‹å°å°çš„è¦–çª—å…§ï¼Œä½ æœ€å¤§å¯ä»¥æ”¾å¤§åˆ°å…¨èž¢å¹•ï¼åœ¨æŸç¨®æ„ç¾©ä¸Šä½ ç²å¾—äº†ä¸€å°å’Œé›»è…¦ä¸€æ¨£å¤§çš„æ‰‹æ©Ÿã€‚&lt;/p>
&lt;h2 id="installation">Installation&lt;/h2>
&lt;p>å®‰è£æµç¨‹æ„å¤–çš„ç°¡å–®ï¼Œåªéœ€è¦ç”¨ &lt;code>apt&lt;/code> å°±å¯ä»¥å®‰è£äº†ï¼Œæˆ–æ˜¯ä½ å¯ä»¥è‡ªå·± buildï¼Œç¨å¾®çœ‹äº†ä¸€ä¸‹ &lt;a class="link" href="https://github.com/Genymobile/scrcpy/blob/master/BUILD.md" target="_blank" rel="noopener"
>èªªæ˜Ž&lt;/a> ï¼Œçœ‹èµ·ä¾†ä¸å›°é›£ï¼Œä½†æ˜¯æ—¢ç„¶ &lt;code>apt&lt;/code> å°±å¯ä»¥å®‰è£äº†æˆ‘å€‘å°±çœä¸€é»žæ™‚é–“&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ sudo apt install scrcpy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="usb-debug">USB debug&lt;/h2>
&lt;p>é¦–å…ˆç„¡è«–æ˜¯æœ‰ç·šç„¡ç·šéƒ½è¦å…ˆæ‰“é–‹æ‰‹æ©Ÿçš„ &lt;code>USB debug&lt;/code> é¸é …ï¼Œåœ¨é–‹ç™¼äººå“¡é¸é …è£¡é¢ï¼Œè©³ç´°æ­¥é©Ÿè«‹çœ‹ &lt;a class="link" href="https://developer.android.com/studio/debug/dev-options#enable" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;h2 id="usb">USB&lt;/h2>
&lt;p>å¦‚æžœä¸ä»‹æ„æœ‰ä¸€æ¢ç·šæ’è‘—~~ï¼ˆé †ä¾¿å……é›»ï¼‰~~çš„è©±ï¼ŒæŠ•å½±ç•«é¢éžå¸¸ç°¡å–®ï¼Œåªæœ‰å…©å€‹æ­¥é©Ÿï¼š&lt;/p>
&lt;ol>
&lt;li>æ’ä¸Š USB ä¸¦ä¸”ç„¡è«–è·³å‡ºä»€éº¼éƒ½æŒ‰ã€ŒåŒæ„ã€ã€ŒOKã€&lt;/li>
&lt;li>æ‰“é–‹çµ‚ç«¯æ©Ÿï¼ŒåŸ·è¡Œ &lt;code>scrcpy&lt;/code>
ç„¶å¾Œå°±æœƒæœ‰ä¸€å€‹è¦–çª—è·³å‡ºä¾†ï¼Œä½ ç¾åœ¨å°±å¯ä»¥åœ¨é›»è…¦ä¸Šæ»‘æ‰‹æ©Ÿäº†ï¼&lt;/li>
&lt;/ol>
&lt;h2 id="wireless">Wireless&lt;/h2>
&lt;p>ç„¡ç·šçš„è©±æ¯”è¼ƒéº»ç…©ï¼Œé¦–å…ˆæ˜¯å¿…é ˆè¦å¯ä»¥é€£ç·šï¼Œçœ‹æ˜¯åœ¨åŒä¸€å€‹å€åŸŸç¶²è·¯æˆ–æ˜¯ VPNã€ssh tunnel éƒ½å¯ä»¥ã€‚å†ä¾†æ˜¯å› ç‚ºé€£ç·šè¨­å®šé —éº»ç…©ï¼Œæ‰€ä»¥æˆ‘æŠŠç›¸é—œçš„æ­¥é©Ÿå¯«æˆä¸€å€‹ &lt;a class="link" href="https://gist.github.com/simbafs/9132289f63368ad325d6a2ef62be7a20" target="_blank" rel="noopener"
>script&lt;/a>ï¼Œä¸‹è¼‰å¾Œçµ¦äºˆåŸ·è¡Œæ¬Šé™å°±å¯ä»¥åŸ·è¡Œäº†ï¼ˆç•¶ç„¶è¦å®‰è£ scrcpy ï¼‰ã€‚æœ‰ç·šçš„æ–¹å¼ä¸€æ¨£å¾ˆç°¡å–®ï¼Œä¸ç”¨åŠ ä»»ä½•é¸é …å°±å¯ä»¥é€£æŽ¥äº†ã€‚&lt;br>
å¦‚æžœè¦å•Ÿç”¨ç„¡ç·šï¼Œåªéœ€è¦åŠ ä¸Š &lt;code>-w&lt;/code> é¸é …ï¼ˆç”¨é è¨­çš„ ip &lt;code>192.168.43.1&lt;/code>)&lt;br>
å¦‚æžœ ip ä¸æ˜¯é è¨­çš„è©±ï¼Œå¯ä»¥åŠ ä¸Š &lt;code>-i IP&lt;/code> ä¾†æŒ‡å®šå…¶ä»–çš„ ip&lt;br>
åŠ ä¸Š &lt;code>-f&lt;/code> å¯ä»¥é–‹å•Ÿå…¨èž¢å¹•&lt;/p>
&lt;h2 id="åƒé€£é€£çµ">åƒé€£é€£çµ&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/Genymobile/scrcpy" target="_blank" rel="noopener"
>https://github.com/Genymobile/scrcpy&lt;/a>
&lt;a class="link" href="https://developer.android.com/studio/debug/dev-options" target="_blank" rel="noopener"
>https://developer.android.com/studio/debug/dev-options&lt;/a>
&lt;a class="link" href="https://gist.github.com/simbafs/9132289f63368ad325d6a2ef62be7a20" target="_blank" rel="noopener"
>https://gist.github.com/simbafs/9132289f63368ad325d6a2ef62be7a20&lt;/a>&lt;/p></description></item><item><title>YouComopleteMe Install</title><link>https://blog.simbafs.cc/p/linux/vim/youcomopleteme-install/</link><pubDate>Mon, 17 May 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/vim/youcomopleteme-install/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/vim/YouComopleteMe-install.png" alt="Featured image of post YouComopleteMe Install" />&lt;h1 id="ycm-installation">YCM Installation&lt;/h1>
&lt;h2 id="ä¸‹è¼‰-source-code">ä¸‹è¼‰ source code&lt;/h2>
&lt;ol>
&lt;li>ç·¨è¼¯ ~/.vimrc&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vim" data-lang="vim">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Plug&lt;/span> &lt;span class="s1">&amp;#39;Valloric/YouCompleteMe&amp;#39;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>æŽ¥è‘—æŒ‰ä¸‹ &lt;!-- raw HTML omitted -->esc&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->:w | so %&lt;!-- raw HTML omitted --> è¼‰å…¥è¨­å®š&lt;/li>
&lt;li>æŽ¥è‘— &lt;!-- raw HTML omitted -->:PlugInstall&lt;!-- raw HTML omitted --> ä¸‹è¼‰ source code&lt;/li>
&lt;li>å­˜æª”é›¢é–‹&lt;/li>
&lt;/ol>
&lt;h2 id="ç·¨è­¯">ç·¨è­¯&lt;/h2>
&lt;ol>
&lt;li>åŸ·è¡Œ &lt;code>sudo apt install python3-dev build-essential&lt;/code>&lt;/li>
&lt;li>é€²å…¥ &lt;code>~/.vim/plugged/YouCompleteMe&lt;/code>&lt;/li>
&lt;li>åŸ·è¡Œ &lt;code>./install.py --help&lt;/code> ä¸¦æŒ‘é¸éœ€è¦çš„é¸é …&lt;/li>
&lt;li>åŸ·è¡Œ &lt;code>./install.py &amp;lt;ä½ è¦çš„é¸é …&amp;gt;&lt;/code>&lt;/li>
&lt;/ol></description></item><item><title>Firefox Touch Screen Scroll</title><link>https://blog.simbafs.cc/p/linux/firefox-touch-screen-scroll/</link><pubDate>Sat, 08 May 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/firefox-touch-screen-scroll/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/firefox-touch-screen-scroll.png" alt="Featured image of post Firefox Touch Screen Scroll" />&lt;h1 id="firefox-touch-screen-scroll">Firefox Touch Screen Scroll&lt;/h1>
&lt;p>å†æ›äº†è§¸æŽ§ç­†é›»å¾Œï¼Œåœ¨ firefox ä¸€ç›´æœ‰å€‹å•é¡Œï¼šè§¸æŽ§å¾€ä¸‹æ»‘æœƒè¢«ç•¶æˆé¸å–ï¼Œè¦å·å‹•ä¸€å®šè¦ç”¨å³é‚Šçš„ scroll bar&lt;/p>
&lt;h2 id="è§£æ±ºæ–¹æ¡ˆ">è§£æ±ºæ–¹æ¡ˆ&lt;/h2>
&lt;p>æŒ‰ç…§ &lt;a class="link" href="https://askubuntu.com/questions/853910/ubuntu-16-and-touchscreen-scrolling-in-firefox" target="_blank" rel="noopener"
>https://askubuntu.com/questions/853910/ubuntu-16-and-touchscreen-scrolling-in-firefox&lt;/a> çš„æœ€ä½³è§£æ³•ï¼ŒçœŸçš„åŠ ä¸Š &lt;code>MOZ_USE_XINPUT2=1&lt;/code> çš„ç’°å¢ƒè®Šæ•¸å°±å¯ä»¥äº†ã€‚&lt;br>
å¦å¤–åœ¨è¨­å®š &lt;code>~/.local/share/applications/firefox.desktop&lt;/code> çš„æ™‚å€™è¦æ³¨æ„æœ‰ä¸åªä¸€å€‹ Execï¼Œæ”¹å®Œå¦‚æžœæ²’æœ‰ç”Ÿæ•ˆå¯ä»¥é‡é–‹æ©Ÿçœ‹çœ‹ã€‚&lt;/p></description></item><item><title>beginning of kotlin</title><link>https://blog.simbafs.cc/p/kotlin/beginning-of-kotlin/</link><pubDate>Tue, 04 May 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/kotlin/beginning-of-kotlin/</guid><description>&lt;img src="https://blog.simbafs.cc/og/kotlin/beginning-of-kotlin.png" alt="Featured image of post beginning of kotlin" />&lt;h1 id="val-vs-var">val vs var&lt;/h1>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">kotlin&lt;/th>
&lt;th style="text-align:left">JS&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">val&lt;/td>
&lt;td style="text-align:left">const&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">var&lt;/td>
&lt;td style="text-align:left">let&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="ab">a..b&lt;/h1>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">kotlin&lt;/th>
&lt;th style="text-align:left">JS&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">a..b&lt;/td>
&lt;td style="text-align:left">Array(b-a+1).fill(0).map(i =&amp;gt; i + a)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h1 id="when">when&lt;/h1>
&lt;h2 id="kotlin">kotlin&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span class="line">&lt;span class="cl">&lt;span class="k">fun&lt;/span> &lt;span class="nf">main&lt;/span> &lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">luckyNum&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="m">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">yourNum&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="m">1.&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="m">6&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">val&lt;/span> &lt;span class="py">result&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">when&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yourNum&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">luckyNum&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;You get the lucky num &lt;/span>&lt;span class="si">${luckyNum}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">1&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Sorry, you get 1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">2&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Sorry, you get 2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">3&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Sorry, you get 3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">4&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Sorry, you get 4&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">5&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Sorry, you get 5&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">6&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Sorry, you get 6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="s2">&amp;#34;Sorry, you get a number out of 1..6&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>å¤§å­¸äºŒéšŽé¢è©¦ã€ç­†è©¦</title><link>https://blog.simbafs.cc/p/other/college-qualification-interview-and-written-test/</link><pubDate>Sun, 18 Apr 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/other/college-qualification-interview-and-written-test/</guid><description>&lt;img src="https://blog.simbafs.cc/og/other/college-qualification-interview-and-written-test.png" alt="Featured image of post å¤§å­¸äºŒéšŽé¢è©¦ã€ç­†è©¦" />&lt;h1 id="å¤§å­¸äºŒéšŽé¢è©¦ç­†è©¦">å¤§å­¸äºŒéšŽé¢è©¦ã€ç­†è©¦&lt;/h1>
&lt;h2 id="å¸«å¤§ç§‘æŠ€ç³»é¢è©¦">å¸«å¤§ç§‘æŠ€ç³»é¢è©¦&lt;/h2>
&lt;blockquote>
&lt;p>å…©é—œå„ååˆ†é˜&lt;/p>
&lt;/blockquote>
&lt;h2 id="ç¬¬ä¸€é—œ">ç¬¬ä¸€é—œï¼š&lt;/h2>
&lt;ol>
&lt;li>è‡ªæˆ‘ä»‹ç´¹&lt;/li>
&lt;li>ä¸€åˆ†é˜è£œå……èªªæ˜Žï¼ˆæœ‰åˆ©å‚™å¯©ã€ç«¶è³½ï¼‰è§£æ±ºå•é¡Œçš„ç¶“é©—&lt;/li>
&lt;li>è‡ªç”±è«‡è©±æ™‚é–“&lt;/li>
&lt;/ol>
&lt;h2 id="ç¬¬äºŒé—œ">ç¬¬äºŒé—œï¼š&lt;/h2>
&lt;ol>
&lt;li>è‡ªæˆ‘ä»‹ç´¹ä¸€åˆ†é˜&lt;/li>
&lt;li>ç§‘æŠ€ç³»åˆ†å¹¾çµ„ï¼Ÿå·®åˆ¥åœ¨å“ªï¼Ÿä½ æœƒé¸å“ªçµ„ï¼Ÿ&lt;/li>
&lt;li>æˆ‘çœ‹ä½ çš„è‡ªå‚³æœ‰å¯«ã€Œå°ˆæ¡ˆé–‹ç™¼ã€ï¼Œæœ‰ä¾‹å­å—Žï¼Ÿ&lt;/li>
&lt;li>å¦‚æžœåœ˜éšŠåˆä½œæ™‚æœ‰äººæ“ºçˆ›ï¼Œä½ æœƒæ€Žéº¼åšï¼Ÿï¼ˆ20 ç§’ï¼‰&lt;/li>
&lt;/ol>
&lt;h2 id="å¿ƒå¾—">å¿ƒå¾—&lt;/h2>
&lt;p>é€™å€‹ç³»æ˜¯åœ˜é«”é¢è©¦ï¼Œä¸‰å€‹æ•™æŽˆå°ä¸‰å€‹è€ƒç”Ÿï¼Œè¼ªæµå›žç­”å•é¡Œï¼Œå› ç‚ºæˆ‘æ˜¯é‚£çµ„ç¬¬ä¸€å€‹ï¼Œæ‰€ä»¥å¹¾ä¹Žéƒ½æ˜¯æˆ‘å…ˆå›žç­”ï¼Œæ•™æŽˆæ²’æœ‰å•ä»€éº¼å¾ˆé›£å¾—å•é¡Œï¼Œå¦å¤–ç³»ä¸»ä»»çœ‹èµ·ä¾†äººå¾ˆå¥½ã€‚&lt;/p></description></item><item><title>Logitech Mouse Permission Error</title><link>https://blog.simbafs.cc/p/linux/logitech-mouse-permission-error/</link><pubDate>Mon, 15 Mar 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/logitech-mouse-permission-error/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/logitech-mouse-permission-error.png" alt="Featured image of post Logitech Mouse Permission Error" />&lt;h1 id="logitech-mouse-permission-error">Logitech Mouse Permission Error&lt;/h1>
&lt;h2 id="å‰è¨€">å‰è¨€&lt;/h2>
&lt;p>æˆ‘çš„ç„¡ç·šè¯å’Œæ»‘é¼ å’Œéµç›¤éƒ½æ˜¯ç¾…æŠ€çš„ï¼Œåœ¨æˆ‘çš„ Ubuntu ç­†é›»ä¸Šä¸€ç›´éƒ½æ²’æœ‰å•é¡Œã€‚æœ‰ä¸€æ¬¡æˆ‘æƒ³æ”¹æˆ‘çš„éµç›¤è¢«é…ç½®ï¼Œä½†æ˜¯å› ç‚º logitech unifying æ²’æœ‰ Linux ç‰ˆï¼Œæ‰€ä»¥æˆ‘å¦ä¸€å€‹è»Ÿé«”å« solaarï¼ŒåŠŸèƒ½æ˜¯å·®ä¸å¤šçš„ã€‚
ç•¶æˆ‘è£å¥½è»Ÿé«”ä»¥å¾Œï¼Œéµç›¤æ»‘é¼ æ“ä½œéƒ½æ²’å•é¡Œï¼Œåªæœ‰æ’ä¸Šæ»‘é¼ çš„æŽ¥æ”¶å™¨ä»¥å¾Œéƒ½å°è·³å‡ºä¸€å€‹ permission error çš„éŒ¯èª¤è¦–çª—ã€‚é›–ç„¶åœ¨ solaar è£¡é¢å°±ç„¡æ³•çœ‹åˆ°æˆ‘çš„æ»‘é¼ å°±æ˜¯äº†ï¼Œä½†æ˜¯å®Œå…¨ä¸å½±éŸ¿ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘å°±æ“ºåœ¨é‚£é‚Šæ”¾å®ƒçˆ›ï¼Œåæ­£å°±æ˜¯å¤šæŒ‰ä¸€å€‹å‰å‰ã€‚&lt;/p>
&lt;h2 id="å˜—è©¦è‡ªå·±è§£">å˜—è©¦è‡ªå·±è§£&lt;/h2>
&lt;p>ä»Šå¤©é–’é–’æ²’äº‹åšå‰›å¥½ä¾†çœ‹çœ‹é€™å€‹æ€Žéº¼è§£ã€‚æˆ‘ä¸€é–‹å§‹æƒ³èªªï¼ŒæŠŠä»–çš„ permission æ”¹æˆå’Œéµç›¤ä¸€æ¨£å°±å•¦ï¼æ–¼æ˜¯æˆ‘é€²è¡Œäº†ä¸‹é¢çš„æ“ä½œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ ls /dev/hidraw*
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‹”ä¸‹éµç›¤çš„æŽ¥æ”¶å™¨ï¼Œç™¼ç¾ä»–æ˜¯ &lt;code>/dev/hidraw4&lt;/code> å’Œ &lt;code>/dev/hidraw5&lt;/code>ï¼Œå†æ’ä¸ŠåŽ»ã€‚æ‹”ä¸‹æ»‘é¼ æŽ¥æ”¶å™¨ï¼Œç™¼ç¾ä»–æ˜¯ &lt;code>/dev/hidraw2&lt;/code>ã€‚&lt;br>
ä¸¦æ‰¾åˆ°éµç›¤çš„æ¬Šé™æ˜¯ &lt;code>rw-rw----&lt;/code>ï¼Œæ»‘é¼ æ˜¯ &lt;code>rw-------&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ chmod &lt;span class="m">660&lt;/span> /dev/hidraw2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‹”ä¸‹æ»‘é¼ æŽ¥æ”¶å™¨ï¼Œæ’ä¸Šã€‚&lt;br>
æ²’ç”¨ã€‚&lt;/p>
&lt;p>æˆ‘çŒœé€™å€‹æ–¹æ³•æœƒå¤±æ•—æ‡‰è©²æ˜¯å› ç‚ºä»–åœ¨æˆ‘æ”¹ä¹‹å‰å°±å·²ç¶“å…ˆè·³éŒ¯èª¤äº†ï¼Œç­‰æˆ‘æ”¹å®Œå®ƒå³æ²’æœ‰åµæ¸¬ï¼Œæˆ‘å°±å¾—æŠŠå®ƒæ‹”ä¸‹ä¾†åœ¨æ’ä¸ŠåŽ»ï¼Œæˆ‘åˆæœƒçœ‹åˆ°éŒ¯èª¤è¨Šæ¯&amp;hellip;&amp;hellip; (looping&lt;br>
æ–¼æ˜¯æˆ‘ä¸Šç¶²æ‰¾ç­”æ¡ˆ&lt;/p>
&lt;h2 id="ç¶²è·¯ä¸Šçš„è§£">ç¶²è·¯ä¸Šçš„è§£&lt;/h2>
&lt;p>æˆ‘ Google &lt;code>ubuntu logitech permission error&lt;/code> ç¬¬ä¸€å€‹å°±æ˜¯æˆ‘è¦çš„ï¼&lt;/p></description></item><item><title>Libreoffice Code Format Plugin Installation</title><link>https://blog.simbafs.cc/p/linux/libreoffice-code-format-plugin-install/</link><pubDate>Sat, 13 Mar 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/libreoffice-code-format-plugin-install/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/libreoffice-code-format-plugin-install.png" alt="Featured image of post Libreoffice Code Format Plugin Installation" />&lt;h1 id="å®‰è£">å®‰è£&lt;/h1>
&lt;ol>
&lt;li>åŽ» &lt;a class="link" href="https://extensions.libreoffice.org/en/extensions/show/code-highlighter" target="_blank" rel="noopener"
>https://extensions.libreoffice.org/en/extensions/show/code-highlighter&lt;/a> ä¸‹è¼‰æœ€æ–°çš„å¤–æŽ›&lt;/li>
&lt;li>æŠŠæª”åå‰é¢çš„å‰ç¶´åˆªæŽ‰ï¼Œ
&lt;blockquote>
&lt;p>ä¾‹å¦‚ï¼š&lt;code>ea4db15f_codehighlighter.oxt&lt;/code> -&amp;gt; &lt;code>codehighlighter.oxt&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>å®‰è£ç›¸ä¾æ€§å¥—ä»¶&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install libreoffice-script-provider-python python3-pip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo pip3 install pygments
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>å®‰è£å¤–æŽ›
&lt;blockquote>
&lt;p>å·¥å…· &amp;gt; æ“´å……å¥—ä»¶ç®¡ç†å“¡ &amp;gt; åŠ å…¥ &amp;gt; é¸æ“‡ä½ çš„æª”æ¡ˆ&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;h1 id="ä½¿ç”¨">ä½¿ç”¨&lt;/h1>
&lt;ol>
&lt;li>æ’å…¥æ–‡å­—æ–¹å¡Š
&lt;blockquote>
&lt;p>æ’å…¥ &amp;gt; æ–‡å­—æ–¹å¡Š&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>è²¼ä¸Šç¨‹å¼ç¢¼&lt;/li>
&lt;li>é¸æ“‡æ–‡å­—æ–¹å¡Šï¼Œä¸æ˜¯æ–‡å­—ï¼ˆæŒ‰æ–‡å­—æ–¹å¡Šçš„é‚Šé‚Šï¼‰&lt;/li>
&lt;li>format
&lt;blockquote>
&lt;p>å·¥å…· &amp;gt; highlight code &amp;gt; é¸å¾—èªžè¨€ã€style&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;h1 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h1>
&lt;p>&lt;a class="link" href="https://extensions.libreoffice.org/en/extensions/show/code-highlighter" target="_blank" rel="noopener"
>Libreoffice extensions&lt;/a>
&lt;a class="link" href="https://github.com/slgobinath/libreoffice-code-highlighter/issues/29#issuecomment-635216707" target="_blank" rel="noopener"
>issue&lt;/a>&lt;/p></description></item><item><title>Strapi Quick Start</title><link>https://blog.simbafs.cc/p/js/strapi-quick-start/</link><pubDate>Sun, 28 Feb 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/strapi-quick-start/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/strapi-quick-start.png" alt="Featured image of post Strapi Quick Start" />&lt;p>strapi æ˜¯ä¸€å€‹ headless CMS (content management system)ï¼Œé€éŽ web ä»‹é¢å°±å¯ä»¥å»ºç«‹ä¸€å€‹ api server&lt;/p>
&lt;h2 id="strapi">strapi&lt;/h2>
&lt;h2 id="ä»€éº¼æ˜¯-headless-cms">ä»€éº¼æ˜¯ headless CMS&lt;/h2>
&lt;p>headless CMS é¡§åæ€ç¾©æ˜¯ã€Œç„¡é ­çš„ å…§å®¹ç®¡ç†ç³»çµ±ã€ï¼Œæ„æ€æ˜¯æ²’æœ‰å‰ç«¯ã€åªæœ‰å¾Œç«¯ï¼Œå®ƒå°±æ˜¯ä¸€å€‹ DB çš„ web ç•Œé¢ + api serverã€‚headless CMS å°ˆæ³¨æ–¼è™•ç† api çš„éƒ¨ä»½ï¼Œå‰ç«¯çš„éƒ¨ä»½ä¸€å¾‹ä¸é—œå¿ƒã€‚é€™å°æ–¼å‰å¾Œç«¯åˆ†é›¢æœ‰å¾ˆå¤§çš„å¹«åŠ©ï¼ŒåŸºæœ¬ä¸Š headless CMS å·²ç¶“è§£æ±ºäº†å¾Œç«¯ 80% çš„å·¥ä½œï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¸€äº›å®¢è£½åŒ–çš„é‚è¼¯ï¼Œåƒæ˜¯ç™»å…¥ã€ç‰¹æ®Šçš„è¨ˆç®—ç­‰ç­‰ã€‚&lt;/p>
&lt;h2 id="strapi-çš„å„ªé»ž">strapi çš„å„ªé»ž&lt;/h2>
&lt;ol>
&lt;li>ä»–çš„ç•Œé¢å®Œå–„&lt;/li>
&lt;li>æ”¯æ´å¤šç¨® DB
&lt;blockquote>
&lt;p>MySQL &amp;gt;= 5.6&lt;br>
MariaDB &amp;gt;= 10.1&lt;br>
PostgreSQL &amp;gt;= 10&lt;br>
SQLite &amp;gt;= 3&lt;br>
MongoDB &amp;gt;= 3.6&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>å­˜å–æ¬Šé™æŽ§åˆ¶&lt;/li>
&lt;li>å¤–æŽ›&lt;/li>
&lt;/ol>
&lt;h2 id="quickstart">quickstart&lt;/h2>
&lt;p>ä»¥ä¸‹æ­¥é©Ÿæ˜¯è£œå…… &lt;a class="link" href="https://strapi.io/documentation/developer-docs/latest/getting-started/quick-start.html" target="_blank" rel="noopener"
>å®˜ç¶²çš„ quick start&lt;/a>&lt;/p>
&lt;ol>
&lt;li>å®‰è£&lt;br>
&lt;code>$ npx create-strapi-app my-project --quickstart; cd my-project&lt;/code>&lt;br>
é€™æ˜¯å€™æ‡‰è©²æœƒçˆ†å‡ºä¸€å€‹é—œæ–¼ &lt;code>knex&lt;/code> çš„ dependency çš„éŒ¯èª¤ï¼Œå…ˆæš«æ™‚è·³éŽä¸ç†å®ƒ&lt;/li>
&lt;li>è§£æ±º dependency çš„éŒ¯èª¤&lt;br>
æŠŠ &lt;code>package.json&lt;/code> è£¡é¢ &lt;code>dependencies&lt;/code> è£¡é¢ &lt;code>knex&lt;/code> çš„ç‰ˆæœ¬ä¸­ &lt;code>&amp;lt;&lt;/code> æ‹¿æŽ‰ï¼Œç„¶å¾Œä¸‹ &lt;code>npm update&lt;/code> å† &lt;code>npm start&lt;/code> å°±å¯ä»¥äº†&lt;/li>
&lt;li>build&lt;br>
é€™æ™‚å€™å¦‚æžœä½ æŒ‰ç…§å®˜ç¶²çš„æ•™å­¸ &lt;code>npm start&lt;/code> ä¸€å®šæœƒå‡ºéŒ¯ï¼Œä½ è¦å…ˆ &lt;code>npm run build&lt;/code> ç„¶å¾Œå®ƒæ‰ä¸æœƒä¸€ç›´èªªæ‰¾ä¸åˆ°æª”æ¡ˆ&lt;/li>
&lt;li>å»ºç«‹ç¬¬ä¸€å€‹ user&lt;br>
æŽ¥è‘—å®ƒæ‡‰è©²æœƒè‡ªå‹•å¹«ä½ é–‹å•Ÿä¸€å€‹é é¢ï¼Œå¦‚æžœæ²’æœ‰çš„è©±å¯ä»¥æŒ‰&lt;a class="link" href="http://localhost:1337/admin" target="_blank" rel="noopener"
>é€™å€‹é€£çµ&lt;/a>ã€‚å†ä¾†æˆ‘å€‘è¦å»ºç«‹ä½¿ç”¨è€…ï¼Œä»–çš„å¯†ç¢¼è¦æ±‚ç‰¹åˆ¥æ©ŸæŽ°ï¼Œä¸€å®šè¦è‹±æ•¸å¤§å°å¯«æ··åˆæ‰çµ¦éŽï¼Œå¤ªçŸ­ä¹Ÿä¸è¡Œã€‚&lt;/li>
&lt;li>å»ºç«‹ &lt;code>collection type&lt;/code>&lt;br>
å¦‚æžœä½ æŒ‰ç…§å®˜ç¶²çš„èªªæ³•ï¼Œé€™è£¡åˆæœƒè®“ä½ å¾ˆå›°æƒ‘ï¼Œ&lt;code>+ Create new collection type&lt;/code> æŒ‰éˆ•åˆ°åº•å®ƒã„‡çš„åœ¨å“ªï¼Ÿå…¶å¯¦åªè¦åœ¨é–‹å•Ÿä¼ºæœå™¨æ™‚ç”¨ develop mode é–‹å°±å¯ä»¥äº†ï¼Œé€™å€‹é‡è¦è¦çš„æ±è¥¿å®ƒåˆæ²’å¯«äº†ï¼ŒæŠŠä½ çš„ server é—œæŽ‰ï¼Œä¸‹ &lt;code>npm run develop&lt;/code> ç„¶å¾Œå†åŽ»å‰›å‰›çš„é é¢ï¼Œé‡æ–°æ•´ç†å°±å¯ä»¥çœ‹åˆ°é‚£å€‹èª¿çš®çš„æŒ‰éˆ•äº†ã€‚&lt;/li>
&lt;/ol>
&lt;p>å†ä¾†çš„å…§å®¹åŸºæœ¬ä¸Šæ²’æœ‰å¤ªå¤šéŒ¯èª¤ï¼Œå¸Œæœ›å®˜æ–¹è¶•å¿«æ›´æ–°æ–‡ä»¶å§ï¼Œé€™å€‹çœŸçš„å®³äººä¸æ·ºé˜¿ã€‚&lt;/p></description></item><item><title>Node VM</title><link>https://blog.simbafs.cc/p/js/node-vm/</link><pubDate>Wed, 13 Jan 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/node-vm/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/node-vm.png" alt="Featured image of post Node VM" />&lt;h1 id="node-vm">Node VM&lt;/h1>
&lt;h2 id="nodejs-vm-æ¨¡çµ„">node.js VM æ¨¡çµ„&lt;/h2>
&lt;p>VM æ˜¯ node.js çš„æ ¸å¿ƒæ¨¡çµ„ï¼Œæä¾›å®‰å…¨çš„ç’°å¢ƒ (æ²™ç®±) ä¾†æ¸¬è©¦ä¸ä¿¡ä»»çš„ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;h2 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ&lt;/h2>
&lt;p>åœ¨ VM æ¨¡çµ„è£¡é¢ï¼Œæœ‰å…©å€‹åŸºæœ¬çš„ç‰©ä»¶ï¼Œscript å’Œ contextã€‚script æ˜¯ç¶“éŽã€Œç·¨è­¯ã€ç¨‹å¼ï¼Œcontext æ˜¯çµ¦åœ¨æ²™ç®±è£¡é¢çš„ç¨‹å¼ç¢¼çš„å…¨åŸŸç‰©ä»¶ (global) ã€‚æ²™ç®±ä¸­çš„ç¨‹å¼åªèƒ½å­˜å–é€éŽ context æŒ‡å®šçš„ç‰©ä»¶ã€‚&lt;/p>
&lt;h3 id="å»ºç«‹-script">å»ºç«‹ script&lt;/h3>
&lt;p>VM æ¨¡çµ„æä¾› &lt;code>Script&lt;/code> å»ºæ§‹å­ï¼Œå¯ä»¥é€éŽä»–ä¾†å»ºç«‹ &lt;code>Script&lt;/code> ç‰©ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;vm&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">script&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Script&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;i++&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹Ÿå¯ä»¥ç”¨ &lt;code>vm.createScript&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;vm&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">script&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createScript&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;i++&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://nodejs.org/dist/latest-v14.x/docs/api/vm.html#vm_class_vm_script" target="_blank" rel="noopener"
>vm.Script&lt;/a>&lt;br>
vm.createScript åœ¨ nodejs docs ä¸Šæˆ‘æ²’æœ‰æ‰¾åˆ°ï¼Œä½†æ˜¯æˆ‘åœ¨è‡ªå·±çš„é›»è…¦ä¸Š (node v14.15.0) æ¸¬è©¦æ˜¯å¯ä»¥ç”¨çš„&lt;/p>
&lt;/blockquote>
&lt;h3 id="å»ºç«‹-context">å»ºç«‹ context&lt;/h3>
&lt;p>vm æ¨¡çµ„æ²’æœ‰æä¾›å»ºç«‹ context çš„å»ºæ§‹å­ï¼Œæˆ‘å€‘åªèƒ½é€éŽ &lt;code>vm.createContext&lt;/code> ä¾†å»ºç«‹ contextã€‚&lt;br>
æ³¨æ„ &lt;code>vm.createContext&lt;/code> ä¸æ˜¯ pure functionï¼Œé™¤äº†æœƒå›žå‚³ context ä»¥å¤–ï¼Œé‚„æœƒæŠŠå‚³å…¥çš„ç‰©ä»¶è®Šæˆ contextï¼Œå…©è€…å‚³å…¥ &lt;code>vm.isContext&lt;/code> éƒ½æœƒå›žå‚³ &lt;code>true&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;vm&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">context1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">context2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ³¨æ„ï¼Œå…¶å¯¦ context1 å’Œ context2 æŒ‡å‘åŒä¸€å€‹ç‰©ä»¶ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">context1&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">context2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://nodejs.org/dist/latest-v14.x/docs/api/vm.html#vm_vm_createcontext_contextobject_options" target="_blank" rel="noopener"
>vm.createContext&lt;/a>&lt;br>
&lt;a class="link" href="https://nodejs.org/dist/latest-v14.x/docs/api/vm.html#vm_vm_iscontext_object" target="_blank" rel="noopener"
>vm.isContext&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="åŸ·è¡Œ-script-é å…ˆç·¨è­¯-script">åŸ·è¡Œ script (é å…ˆç·¨è­¯ Script)&lt;/h2>
&lt;p>æœ€åŸºæœ¬çš„å‡½å¼æ˜¯ &lt;code>script.runInContext&lt;/code>ï¼Œå®ƒæœƒæŠŠå‚³å…¥çš„ context ç•¶ä½œ vm çš„å…¨åŸŸåŸ·è¡Œè£¡é¢çš„ç¨‹å¼ï¼Œ&lt;em>script çš„æœ€å¾Œä¸€å€‹è¡¨é”å¼çš„å›žå‚³å€¼æœƒè¢«ç•¶ä½œé€™æ¬¡åŸ·è¡Œçš„å›žå‚³å€¼&lt;/em>ã€‚&lt;br>
ä¸‹é¢çš„ç¯„ä¾‹ï¼ŒæœƒæŠŠ context ä¸­çš„ &lt;code>i&lt;/code> è¤‡è£½ä¸€éå¾Œå›žå‚³ä»–çš„å€¼å’Œé•·åº¦ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">vm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;vm&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">script&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createScript&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;i += i; [i, i.length]&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">context&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createContext&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;node&amp;#39;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">script&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">runInContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [ &amp;#39;nodenode&amp;#39;, 8 ]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æžœæ²’æœ‰äº‹å…ˆæº–å‚™ contextï¼Œå¯ä»¥ç”¨ &lt;code>script.runInNewContext&lt;/code>ï¼Œç›´æŽ¥æŠŠé‚„æ²’ &lt;a class="link" href="https://nodejs.org/dist/latest-v14.x/docs/api/vm.html#vm_what_does_it_mean_to_contextify_an_object" target="_blank" rel="noopener"
>contextify&lt;/a> ç‰©ä»¶å‚³é€²ä¾†ï¼Œé€™å€‹å‡½å¼æœƒ
è‡ªå‹•å»ºç«‹ contextã€‚é€™å€‹åƒæ•¸æ˜¯å¯ç•¥çš„ï¼Œå¦‚æžœæ²’å‚³ç‰©ä»¶é€²é€²ä¾†çš„è©±ï¼Œcontext å°±æœƒæ˜¯ç©ºç‰©ä»¶ã€‚&lt;/p>
&lt;p>å¦‚æžœæƒ³è¦è®“ script ç›´æŽ¥å­˜å–å…¨åŸŸç‰©ä»¶çš„è©±ï¼Œå¯ä»¥ç”¨ &lt;code>script.runInThisContext&lt;/code>ã€‚é€™å€‹å‡½å¼ä¸æŽ¥å— contextï¼Œå› ç‚º context å°±æ˜¯å…¨åŸŸ (this) äº†ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">method&lt;/th>
&lt;th style="text-align:left">context&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">runInContext&lt;/td>
&lt;td style="text-align:left">contextified object&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">runInNewContext&lt;/td>
&lt;td style="text-align:left">any Object&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">runInThisContext&lt;/td>
&lt;td style="text-align:left">ä¸ç”¨å‚³ï¼Œthis&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="åŸ·è¡Œ-script-æ²’æœ‰é å…ˆç·¨è­¯-script">åŸ·è¡Œ script (æ²’æœ‰é å…ˆç·¨è­¯ Script)&lt;/h2>
&lt;p>å¦‚æžœä½ å¾ˆæ‡¶ï¼Œæˆ–æ˜¯ä½ åªæ˜¯æƒ³è¦ä¸€æ¬¡è¡Œçš„åŸ·è¡Œé€™æ®µ codeï¼Œå¯ä»¥ç”¨ &lt;code>vm.runInContext&lt;/code>ã€&lt;code>vm.runInNewContext&lt;/code> å’Œ &lt;code>vm.runInThisContext&lt;/code>ã€‚ç”¨æ³•è·Ÿå…ˆç·¨è­¯éŽå†åŸ·è¡Œä¸€æ¨£ï¼Œåªæ˜¯å…¶ä¸­ç¬¬ä¸€å€‹åƒæ•¸è®Šæˆé‚„æ²’ç·¨è­¯éŽçš„ code (String)ã€‚&lt;/p></description></item><item><title>hCaptcha</title><link>https://blog.simbafs.cc/p/js/hcaptcha/</link><pubDate>Tue, 05 Jan 2021 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/hcaptcha/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/hCaptcha.png" alt="Featured image of post hCaptcha" />&lt;h1 id="hcaptcha">hCaptcha&lt;/h1>
&lt;h2 id="å‰æƒ…æè¦">å‰æƒ…æè¦&lt;/h2>
&lt;p>æˆ‘å€‘ç¤¾åœ˜çš„çŸ­ç¶²å€æœå‹™è£¡é¢å¸¸å¸¸å‡ºç¾ä¸€äº›å¥‡æ€ªçš„ç¶²å€ï¼Œæˆ‘çŒœå¯èƒ½æ˜¯æœ‰æ©Ÿå™¨äººåœ¨åˆ·ï¼Œæ‰€ä»¥æˆ‘æƒ³åŠ å…¥ captcha æ¸›å°‘é€™é¡žå•é¡Œã€‚æˆ‘é¸æ“‡çš„æ˜¯ &lt;a class="link" href="https://hcaptcha.com/" target="_blank" rel="noopener"
>hCaptcha&lt;/a> é€™å¥—ï¼Œèƒ½ä¸ä¾è³´ Google å°±ç›¡é‡ä¸è¦ã€‚&lt;/p>
&lt;h2 id="å®‰è£æ­¥é©Ÿ">å®‰è£æ­¥é©Ÿ&lt;/h2>
&lt;h2 id="ç”³è«‹å¸³è™Ÿ">ç”³è«‹å¸³è™Ÿ&lt;/h2>
&lt;p>å…ˆåˆ° &lt;a class="link" href="https://hcaptcha.com/" target="_blank" rel="noopener"
>hCaptcha&lt;/a> è¨»å†Šã€æ–°å¢žä¸€å€‹ç¶²ç«™ï¼Œè¤‡è£½ sitekey (&lt;code>Sites&lt;/code> &amp;gt; &lt;code>site setting&lt;/code>) å’Œ secret key (&lt;code>Settings&lt;/code>)ï¼Œæˆ‘å€‘ç­‰ç­‰æœƒç”¨åˆ°&lt;/p>
&lt;h2 id="å‰ç«¯">å‰ç«¯&lt;/h2>
&lt;ol>
&lt;li>é¦–å…ˆå¼•å…¥ script ï¼Œåœ¨ &lt;code>&amp;lt;head&amp;gt;&lt;/code> åŠ å…¥&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://hcaptcha.com/1/api.js&amp;#34;&lt;/span> &lt;span class="na">async&lt;/span> &lt;span class="na">defer&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>æŽ¥è‘—åœ¨ä½ çš„ &lt;code>&amp;lt;form&amp;gt;&lt;/code> è£¡é¢åŠ å…¥ï¼Œé€™é‚Šçš„ &lt;code>your_site_key&lt;/code> å°±æ˜¯å‰›å‰›è¤‡è£½çš„é‚£å€‹ã€‚è¨˜å¾— &lt;code>&amp;lt;form&amp;gt;&lt;/code> çš„ method è¦è¨­æˆ &lt;code>post&lt;/code>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;h-captcha&amp;#34;&lt;/span> &lt;span class="na">data-sitekey&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;your_site_key&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å¾Œç«¯node-express">å¾Œç«¯ï¼ˆnode expressï¼‰&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>SECRET&lt;br>
é¦–å…ˆï¼Œä½ è¦æŠŠå‰›å‰›çš„ &lt;code>SECRET&lt;/code> çµ¦ server çŸ¥é“ï¼Œæˆ‘ç”¨çš„æ˜¯ dotenvï¼Œç•¶ç„¶å…¶ä»–çš„å¥—ä»¶ä¹Ÿæ˜¯å¯ä»¥ã€‚&lt;br>
ç°¡è€Œè¨€ä¹‹ï¼Œå‰›å‰›è¤‡è£½ä¸‹ä¾†çš„ &lt;code>SECRET&lt;/code> å°±æ˜¯ç”¨åœ¨é€™è£¡ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é©—è­‰
å¾Œç«¯æˆ‘é¸ç”¨çš„å¥—ä»¶æ˜¯ &lt;a class="link" href="https://github.com/vastus/express-hcaptcha" target="_blank" rel="noopener"
>express-hcaptcha&lt;/a> ï¼Œå®ƒæä¾›ä¸€å€‹ middleware é©—è­‰ hcaptcha çš„ tokenã€‚
æŒ‰ç…§ README.md çš„èªªæ˜Žï¼Œæ‡‰è©²æ˜¯åƒé€™æ¨£å°±å¯ä»¥äº†ï¼Œç•¶é©—è­‰é€šéŽæ™‚å°±æœƒåŸ·è¡Œç¬¬äºŒå€‹ middleware&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">Router&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">captcha&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express-hcaptcha&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">SECRET&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">HCAPTCHA_SECRET_KEY&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">SECRET&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€™å€‹ route å°±æ˜¯æœ¬ä¾†æŽ¥æ”¶/è™•ç† form å‚³éžè³‡æ–™é€²ä¾†ä¾†çš„ routeï¼Œåªæ˜¯åŠ ä¸€å€‹ captcha.middleware.validate(SECRET)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">post&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">captcha&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">middleware&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">validate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">SECRET&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;verified!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hcaptcha&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hcaptcha&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">router&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>å¾ˆä¸å¹¸çš„ï¼Œä½ æœƒç™¼ç¾ä¸ç®¡æ€Žéº¼è©¦ï¼Œéƒ½é©—è­‰éƒ½ä¸æœƒé€šéŽï¼Œå› ç‚ºæœ‰ä¸€å€‹ README.md æ²’å¯«çš„ bug&lt;/p>
&lt;/blockquote>
&lt;ol start="3">
&lt;li>è§£ bug
é–±è®€ &lt;a class="link" href="https://github.com/vastus/express-hcaptcha" target="_blank" rel="noopener"
>express-hcaptcha&lt;/a> çš„ source codeï¼Œä½ æœƒåœ¨ &lt;a class="link" href="https://github.com/vastus/express-hcaptcha/blob/694265a005cbb15306c9d65623c6a365be79b8fc/index.js#L9" target="_blank" rel="noopener"
>é€™è¡Œ&lt;/a> ç™¼ç¾å®ƒç”¨çš„æ˜¯ &lt;code>req.body.token&lt;/code> ï¼Œä½†æ˜¯ hCaptcha çš„å›žå‚³æ˜¯åœ¨ &lt;code>req.body.h-captcha-token&lt;/code> è£¡é¢ &amp;hellip;&amp;hellip;&lt;br>
æœ‰å¤ è ¢çš„ bug&lt;br>
æ‰€ä»¥å‰›å‰›çš„ç¨‹å¼ç¢¼å°±éœ€è¦ä¿®æ”¹ä¸€ä¸‹
åœ¨é©—è­‰ä¹‹å‰å…ˆæŠŠ &lt;code>req.body.h-captcha-token&lt;/code> çš„å…§å®¹å¡žé€² &lt;code>req.body.token&lt;/code> è£¡é¢&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">Router&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">captcha&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express-hcaptcha&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">SECRET&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">HCAPTCHA_SECRET_KEY&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">SECRET&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">post&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">token&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;h-captcha-response&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">next&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">captcha&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">middleware&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">validate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">SECRET&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;verified!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hcaptcha&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hcaptcha&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">router&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="çµè«–">çµè«–&lt;/h2>
&lt;p>çœ‹åŽŸå§‹ç¢¼å¾ˆé‡è¦&lt;/p></description></item><item><title>docker login error</title><link>https://blog.simbafs.cc/p/linux/docker/docker-login-error/</link><pubDate>Sat, 05 Dec 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/docker/docker-login-error/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/docker/docker-login-error.png" alt="Featured image of post docker login error" />&lt;h1 id="docker-login-error">Docker Login Error&lt;/h1>
&lt;h2 id="éŒ¯èª¤èªªæ˜Ž">éŒ¯èª¤èªªæ˜Ž&lt;/h2>
&lt;p>æ˜¨å¤©æˆ‘åœ¨ terminal ç™»å…¥ docker çš„æ™‚å€™ç™¼ç¾ä¸çŸ¥é“ç‚ºä»€éº¼ä¸èƒ½ç™»å…¥ï¼Œæˆ‘å…ˆé€éŽç¶²é ç™»å…¥ç¢ºèªéŽå¯†ç¢¼æ²’æœ‰å•é¡Œï¼Œä¹Ÿä¸æ˜¯æ‰“éŒ¯å­—çš„é—œä¿‚ï¼Œä½†é‚„æ˜¯ä¸èƒ½ç•¶å…¥ã€‚ç¸½æ˜¯æœƒæœ‰é¡žä¼¼ä»¥ä¸‹çš„éŒ¯èª¤è¨Šæ¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Error saving credentials: error storing credentials - err: exit status 1, out: `exit status 1: gpg: simbafs: å·²è·³éŽ: æ²’æœ‰å…¬é‘°
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gpg: [stdin]: encryption failed: æ²’æœ‰å…¬é‘°
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Password encryption aborted.`
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è§£æ±ºæ–¹æ³•">è§£æ±ºæ–¹æ³•&lt;/h2>
&lt;p>ç¶“éŽæœå°‹ä¹‹å¾Œï¼Œæˆ‘æŒ‰ç…§ &lt;a class="link" href="https://github.com/docker/docker-credential-helpers/issues/102#issuecomment-388634452" target="_blank" rel="noopener"
>https://github.com/docker/docker-credential-helpers/issues/102#issuecomment-388634452&lt;/a> çš„æ–¹æ³•æˆåŠŸç™»å…¥äº†ï¼Œä½†æ˜¯åœ¨é€™ä¹‹å‰è¦å…ˆå®‰è£ &lt;code>gpg&lt;/code> å’Œ &lt;code>pass&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">apt install gnupg2 pass
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æŽ¥ä¸‹ä¾†æ˜¯æˆ‘ç”¨çš„æŒ‡ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">apt install gnupg2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://github.com/docker/docker-credential-helpers/releases/download/v0.6.3/docker-credential-pass-v0.6.3-amd64.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar xvf docker-credential-pass-v0.6.3-amd64.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">755&lt;/span> docker-credential-pass
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo mv docker-credential-pass /usr/bin/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ass insert docker-credential-helpers/docker-pass-initialized-check
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pass insert docker-credential-helpers/docker-pass-initialized-check
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pass show docker-credential-helpers/docker-pass-initialized-check
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-credential-pass list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker login
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒè€ƒé€£çµ">åƒè€ƒé€£çµ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/docker/docker-credential-helpers/issues/102#issuecomment-388634452" target="_blank" rel="noopener"
>https://github.com/docker/docker-credential-helpers/issues/102#issuecomment-388634452&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://stackoverflow.com/questions/50151833/cannot-login-to-docker-account/52881198#52881198" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/50151833/cannot-login-to-docker-account/52881198#52881198&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://gist.github.com/dataday/3c267be29e32573829c4781c99ea3395" target="_blank" rel="noopener"
>https://gist.github.com/dataday/3c267be29e32573829c4781c99ea3395&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Connect to Ethernet in Docker Container</title><link>https://blog.simbafs.cc/p/linux/docker/connect-to-ethernet-in-docker-container/</link><pubDate>Sat, 28 Nov 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/docker/connect-to-ethernet-in-docker-container/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/docker/connect-to-ethernet-in-docker-container.png" alt="Featured image of post Connect to Ethernet in Docker Container" />&lt;h1 id="connect-to-ethernet-in-docker-container">Connect to Ethernet in Docker Container&lt;/h1>
&lt;h2 id="å¦‚ä½•åœ¨-docker-container-è£¡é€£æŽ¥-ethernet">å¦‚ä½•åœ¨ docker container è£¡é€£æŽ¥ ethernet&lt;/h2>
&lt;p>ä»Šå¤©çªç„¶æœ‰å€‹éœ€æ±‚æ˜¯åœ¨ä¸€å€‹å·²ç¶“é–‹å•Ÿçš„ container å¼„æ±è¥¿ï¼Œéœ€è¦ç¶²è·¯ï¼Œä½†æ˜¯ä¸çŸ¥é“ç‚ºä»€éº¼ä¸€ç›´ä¸ä¸Šï¼Œå¾Œä¾†ç™¼ç¾æ˜¯ docker æ²’æœ‰è¨­å®š DNS çš„å•é¡Œï¼Œåªè¦åœ¨å¤–é¢è¼¸å…¥å…©è¡ŒæŒ‡ä»¤å°±å¯ä»¥äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DOCKER_OPTS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;--dns 8.8.8.8&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œé‡æ–°å•Ÿå‹• docker&lt;/p></description></item><item><title>docker commit</title><link>https://blog.simbafs.cc/p/linux/docker/docker-commit/</link><pubDate>Fri, 27 Nov 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/docker/docker-commit/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/docker/docker-commit.png" alt="Featured image of post docker commit" />&lt;h1 id="docker-commit">Docker Commit&lt;/h1>
&lt;h2 id="å‰è¨€">å‰è¨€&lt;/h2>
&lt;p>ä¸Šæ¬¡æåˆ°å¯ä»¥ç”¨ Dockerfile å»ºç«‹ docker imageï¼Œä½†æˆ‘å€‘é‚„æœ‰ä»¤ä¸€å€‹æ–¹æ³•å¯ä»¥å»ºç«‹ docker imageï¼Œé‚£å°±æ˜¯ &lt;code>docker commit&lt;/code> æŒ‡ä»¤&lt;/p>
&lt;h3 id="å’Œ-dockerfile-å·®åˆ¥">å’Œ Dockerfile å·®åˆ¥&lt;/h3>
&lt;p>&lt;code>docker commit&lt;/code> æœ‰é»žåƒæ˜¯æ‰‹å‹•ç‰ˆçš„ Dockerfileï¼Œåœ¨ç”¨ Dockerfile å»ºæ§‹ docker image çš„æ™‚å€™ï¼Œdocker build çš„å·¥ä½œå°±åƒæ˜¯è‡ªå‹•æ ¹æ“š Dockerfile æ“ä½œ &lt;code>docker commit&lt;/code>ã€‚
Dockerfile æ¯”è¼ƒé©åˆç”¨åœ¨è‡ªå‹•åŒ–äº¤ä»˜å’Œéƒ¨å±¬ï¼Œä¾‹å¦‚èªªä½ æœ‰ä¸€ä»½ç¨‹å¼ç¢¼ï¼Œè¦å°‡ä»–åŒ…æˆ Docker å°±å¾ˆé©åˆç”¨ Dockerfile è‡ªå‹•åŒ–æ“ä½œï¼Œå› ç‚ºç¨‹å¼ç¢¼æœƒæ”¹è®Šï¼Œä½†æ˜¯åŒ…è£çš„æµç¨‹åŸºæœ¬ä¸Šéƒ½æ˜¯ä¸€æ¨£çš„ã€‚
&lt;code>docker commit&lt;/code> é©åˆç”¨åœ¨å»ºæ§‹ç’°å¢ƒï¼Œå› ç‚ºæœƒæœ‰æ¯”è¼ƒéº»ç…©çš„æ“ä½œï¼Œå¦‚æžœå¯«æˆ Dockerfile æœƒæ¯”è¼ƒéº»ç…©ï¼Œç•¶ç„¶å¦‚æžœå¯ä»¥çš„è©±é‚„æ˜¯å¯«æˆ Dockerfile æœƒæ¯”è¼ƒå¥½ï¼Œå› ç‚ºæ›´æ–°çš„æ™‚å€™æœƒæ¯”è¼ƒæ–¹ä¾¿ã€‚
åœ¨å»ºæ§‹ image çš„æ™‚å€™è¦ç”¨å“ªå€‹æ–¹æ³•å°±çœ‹å€‹äººå–æ¨äº†ã€‚&lt;/p>
&lt;h3 id="docker-commit-æŒ‡ä»¤">&lt;code>docker commit&lt;/code> æŒ‡ä»¤&lt;/h3>
&lt;p>&lt;code>docker commit&lt;/code> å¯ä»¥æŠŠé‹è¡Œä¸­çš„ comtainer è½‰æˆ imagesï¼Œæœ‰é»žé¡žä¼¼ä»¤å­˜æ–°æª”çš„æ¦‚å¿µã€‚å…ˆä¾†çœ‹çœ‹åƒæ•¸å§ï¼&lt;/p>
&lt;h4 id="åƒæ•¸">åƒæ•¸&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ docker commit --help
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Usage: docker commit &lt;span class="o">[&lt;/span>OPTIONS&lt;span class="o">]&lt;/span> CONTAINER &lt;span class="o">[&lt;/span>REPOSITORY&lt;span class="o">[&lt;/span>:TAG&lt;span class="o">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Create a new image from a container&lt;span class="err">&amp;#39;&lt;/span>s changes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Options:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -a, --author string Author &lt;span class="o">(&lt;/span>e.g., &lt;span class="s2">&amp;#34;John Hannibal Smith &amp;lt;hannibal@a-team.com&amp;gt;&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -c, --change list Apply Dockerfile instruction to the created image
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -m, --message string Commit message
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -p, --pause Pause container during commit &lt;span class="o">(&lt;/span>default &lt;span class="nb">true&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">é¸é …&lt;/th>
&lt;th style="text-align:left">èªªæ˜Ž&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">-a&lt;/td>
&lt;td style="text-align:left">ä½œè€…çš„åå­—&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">-c&lt;/td>
&lt;td style="text-align:left">æˆ‘é‚„æ²’ç ”ç©¶å‡ºä¾†æœ‰ä»€éº¼ç”¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">-m&lt;/td>
&lt;td style="text-align:left">è¨Šæ¯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">-p&lt;/td>
&lt;td style="text-align:left">å»ºæ§‹æ™‚åœå®¹å™¨&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>bash number loop</title><link>https://blog.simbafs.cc/p/linux/bash/bash-number-loop/</link><pubDate>Sun, 15 Nov 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/bash/bash-number-loop/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/bash/bash-number-loop.png" alt="Featured image of post bash number loop" />&lt;h1 id="bash-number-loop">Bash Number Loop&lt;/h1>
&lt;p>ä»Šå¤©åœ¨æŸçš„åœ°æ–¹å‰›å¥½çœ‹åˆ°ä¸€å€‹ bash çš„å°æŠ€å·§ï¼Œç•¶æˆ‘å€‘è¦å¾ž 1 æ•¸åˆ° 100 æ™‚ï¼Œé€šå¸¸æœƒç”¨ &lt;code>seq&lt;/code> æŒ‡ä»¤ä¾†åšï¼Œä½†æ˜¯å¦‚æžœæˆ‘å€‘çš„éœ€æ±‚å‰›å‰›å¥½æ˜¯æ¯æ¬¡éžå¢žï¼ˆéžæ¸›ï¼‰1 çš„è©±ï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code>{start..end}&lt;/code> ç¸®å¯«ï¼Œä¸‹é¢å…©å€‹ç¯„ä¾‹çš„æ•ˆæžœæ˜¯ä¸€æ¨£çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># for è¿´åœˆ + seq çš„å¯«æ³•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> i in &lt;span class="k">$(&lt;/span>seq &lt;span class="m">1&lt;/span> &lt;span class="m">1&lt;/span> 100&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="nv">$i&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç”¨ {start..end}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="o">{&lt;/span>1..100&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹æŠ€å·§ä¹Ÿå¯ä»¥ç”¨åœ¨å»ºç«‹æª”æ¡ˆï¼Œåƒé€™æ¨£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">touch user&lt;span class="o">{&lt;/span>1..100&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>bash completion</title><link>https://blog.simbafs.cc/p/linux/bash/bash-completion/</link><pubDate>Sat, 14 Nov 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/bash/bash-completion/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/bash/bash-completion.png" alt="Featured image of post bash completion" />&lt;h1 id="bash-completion">Bash Completion&lt;/h1>
&lt;h2 id="éœ€æ±‚">éœ€æ±‚&lt;/h2>
&lt;p>ä»Šå¤©å¯«äº†ä¸€å€‹ bash script å¹«æˆ‘ç®¡ç† mongodb dockerï¼Œåœ¨ä½¿ç”¨çš„æ™‚å€™ä¸€äº›å­å‘½ä»¤ï¼Œåƒæ˜¯ &lt;code>up&lt;/code>ã€&lt;code>down&lt;/code>ã€&lt;code>clean&lt;/code>ã€‚æˆ‘å¸Œæœ›å¯ä»¥è®“ bash ç•¶æˆ‘è‡ªå‹•è£œé½Šé€™äº›é¸é …ã€‚&lt;/p>
&lt;h2 id="bash_completion">&lt;code>bash_completion&lt;/code>&lt;/h2>
&lt;p>&lt;code>bash_completion&lt;/code> æ˜¯ä¸€å€‹å¯ä»¥å¹«æˆ‘å€‘åšç¨‹å¼åŒ–è£œé½Šçš„å·¥å…·ï¼Œåƒæ˜¯ git å°±æœ‰ä½¿ç”¨åˆ°é€™å€‹å·¥å…·ï¼Œåœ¨ commitã€push çš„æ™‚å€™æŒ‰ tab éƒ½æœƒé¡¯ç¤ºå‡ºç•¶ä¸‹æˆ‘å€‘å¯ä»¥ç”¨çš„æ±è¥¿ï¼Œåƒæ˜¯ &lt;code>git push&amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;&lt;/code> å°±æœƒè‡ªå‹•è£œé½Š &lt;code>origin&lt;/code> è€Œä¸æ˜¯çµ¦æˆ‘å€‘çœ‹æª”æ¡ˆï¼ˆbash é è¨­åªæœƒè£œé½Šæª”æ¡ˆå’Œå‘½ä»¤ï¼‰ã€‚æˆ‘å€‘é€™æ¬¡åªé ˆè¦ç”¨åŸºæœ¬çš„ &lt;code>complete&lt;/code> å°±å¯ä»¥äº†&lt;/p>
&lt;h2 id="complete">&lt;code>complete&lt;/code>&lt;/h2>
&lt;p>&lt;code>complete&lt;/code> å¯ä»¥å¹«å‘½ä»¤åŠ ä¸Šç°¡å–®çš„è‡ªå‹•å®Œæˆï¼Œå…¶å¯¦ &lt;code>bash_completion&lt;/code> ä¹Ÿæ˜¯åŽ»å‘¼å«é€™å€‹å‘½ä»¤ä¾†é”æˆè‡ªå‹•è£œé½Šã€‚&lt;code>complete&lt;/code> å‚»ç”¨éžå¸¸ç°¡å–®ï¼Œåƒä¸‹é¢é€™æ¨£å°±å¯ä»¥å¹« &lt;code>mongodb&lt;/code> é€™å€‹å‘½ä»¤åŠ ä¸Šè‡ªå‹•è£œé½Š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">complete&lt;/span> -W &lt;span class="s2">&amp;#34;up down clean&amp;#34;&lt;/span> mongodb
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>-W&lt;/code> é¸é …ä»£è¡¨å¾Œé¢æ˜¯å­—è©žåˆ—è¡¨ï¼Œç”¨ &lt;code>-F&lt;/code> å¾Œé¢å¯ä»¥æŽ¥ä¸€å€‹å‡½æ•¸ï¼Œä½†æ˜¯é€™å€‹æˆ‘æ²’ç ”ç©¶ï¼Œä¹Ÿè¨±ä¸‹ä¸€å€‹å°ˆæ¡ˆå°±æ˜¯ç ”ç©¶ &lt;code>complete&lt;/code> ä¹Ÿèªªä¸å®šã€‚&lt;/p></description></item><item><title>Mongoose Model</title><link>https://blog.simbafs.cc/p/js/mongoose-model/</link><pubDate>Tue, 10 Nov 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/mongoose-model/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/Mongoose-Model.png" alt="Featured image of post Mongoose Model" />&lt;h1 id="mongoose-model">Mongoose Model&lt;/h1>
&lt;h2 id="ç’°å¢ƒè¨­å®š">ç’°å¢ƒè¨­å®š&lt;/h2>
&lt;p>é€™æ˜¯é€™æ¬¡å¯¦é©—ç”¨çš„ code&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">mongoose&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mongoose&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">mongoose&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">connect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mongodb://127.0.0.1:27017&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useNewUrlParser&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useUnifiedTopology&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Connected to DB&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">requiredString&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">required&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">UserSchema&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">mongoose&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Schema&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">username&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">requiredString&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">requiredString&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">UserModel&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mongoose&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;User&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">UserSchema&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>mongo db ç”¨ docker é–‹ä¸€å€‹å¯¦é©—ç”¨çš„ server&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">version: &amp;#39;3&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">services:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> db:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> image: &amp;#39;mongo&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> container_name: &amp;#39;aurl-mongodb&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> volumes:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - ./data/mongo:/data/db
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - ./data/dump:/dump
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ports:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &amp;#39;27017:27017&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å–å¾—åŽŸ-schema">å–å¾—åŽŸ schema&lt;/h2>
&lt;p>åœ¨ä¸€èˆ¬æ“ä½œçš„æ™‚å€™éƒ½æ˜¯ç”¨ &lt;code>UserModel&lt;/code> åœ¨æ“ä½œè³‡æ–™åº«ï¼Œç•¶è¦å–å¾— schema çš„æ™‚å€™ç•¶ç„¶ä¹Ÿæ˜¯å¾žä»–è£¡é¢æ‰¾æœ€æ–¹ä¾¿ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥æŠŠ schema ç‰¹åˆ¥å¼„å‡ºä¾†ï¼Œä½†æ˜¯æœ‰é»žéº»ç…©ï¼Œä»¥é€™æ¬¡çš„ä¾‹å­èªªæ˜Žï¼ŒåŽŸæœ¬çš„ &lt;code>UserSchema&lt;/code> æœƒå­˜åœ¨ &lt;code>UserModel.schema.obj&lt;/code> è£¡ã€‚&lt;/p>
&lt;h2 id="çœŸå¯¦è³‡æ–™åº«çµæ§‹">çœŸå¯¦è³‡æ–™åº«çµæ§‹&lt;/h2>
&lt;p>åœ¨å»ºç«‹ model å¾Œ mongoose æœƒè‡ªå‹•æ–°å¢žä¸€äº›æ¬„ä½ï¼Œä¾‹å¦‚èªª &lt;code>_id&lt;/code> ä¹‹é¡žçš„ï¼Œè¦å–å¾—åŒ…å«é€™äº›æ¬„ä½çš„çœŸå¯¦ model çµæ§‹çš„è©±å¯ä»¥åœ¨ &lt;code>UserModel.schema.tree&lt;/code> æ‰¾åˆ°&lt;/p></description></item><item><title>Docker åŸºç¤ŽæŒ‡ä»¤</title><link>https://blog.simbafs.cc/p/linux/docker/docker-command/</link><pubDate>Thu, 10 Sep 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/docker/docker-command/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/docker/docker-%E5%9F%BA%E7%A4%8E%E6%8C%87%E4%BB%A4.png" alt="Featured image of post Docker åŸºç¤ŽæŒ‡ä»¤" />&lt;h1 id="docker-æŒ‡ä»¤">Docker æŒ‡ä»¤&lt;/h1>
&lt;h2 id="install">Install&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">apt install docker docker.io docker-compose
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="what-is-docker">What is docker&lt;/h2>
&lt;p>Docker æ˜¯ä¸€å€‹å®¹å™¨åŒ–çš„æŠ€è¡“ï¼ŒåŸºæœ¬ä¸Šä½¿ç”¨çš„æ™‚å€™å¯ä»¥æŠŠä»–ç•¶æˆè™›æ“¬æ©Ÿï¼Œé›–ç„¶ä»–å€‘çš„ä½¿ç”¨çš„æŠ€è¡“å®Œå…¨ä¸ä¸€æ¨£ã€‚å°æ–°æ‰‹ä¾†èªªï¼Œåœ¨ Docker è£¡é¢æœ‰å››å€‹é‡è¦çš„åè©žï¼šdockerfile, docker image, docker container, docker-composeã€‚&lt;/p>
&lt;ol>
&lt;li>dockerfile&lt;br>
ç´”æ–‡å­—æª”ï¼Œå®šç¾©å»ºç«‹ docker image çš„æ­¥é©Ÿï¼Œæœ‰é»žåƒæ˜¯ä¸€å€‹ bash shellã€‚é€šå¸¸å‘½åæˆ &lt;code>Dockerfile&lt;/code> ï¼Œåœ¨ build çš„æ™‚å€™æœƒé è¨­ç”¨é€™å€‹ï¼Œä¹Ÿå¯ä»¥ç”¨ &lt;code>-f&lt;/code> ä¾†æŒ‡å®šå…¶ä»–çš„æª”æ¡ˆã€‚&lt;/li>
&lt;li>docker image&lt;br>
é€™æ˜¯é€éŽ &lt;code>docker build&lt;/code> ç·¨è­¯å‡ºä¾†çš„æ±è¥¿ã€‚å¯ä»¥æƒ³æˆ docker container çš„è—åœ–ï¼Œåœ¨ &lt;code>docker pull&lt;/code> çš„æ™‚å€™ä¹Ÿæ˜¯ä¸‹è¼‰ docker image è€Œä¸æ˜¯ dockerfileã€‚åŸºæœ¬ä¸Š image è£¡é¢å·²ç¶“åŒ…æ‹¬äº†ç·¨è­¯å¥½çš„åŸ·è¡Œæª”å’ŒåŸºæœ¬çš„ç’°å¢ƒè¨­å®šï¼Œæ‰€ä»¥åœ¨ docker å¤–é¢æ˜¯ä¸ç”¨åšä»–è¨­å®šçš„ï¼Œé€™ä¹Ÿæ˜¯ docker çš„é­…åŠ›æ‰€åœ¨ã€‚&lt;/li>
&lt;li>docker container&lt;br>
æ¯å€‹ docker image å¯ä»¥ç”¢ç”Ÿå¾ˆå¤šå€‹ containerï¼Œä¹Ÿå°±æ˜¯åŸ·è¡Œä¸­çš„ç¨‹å¼ã€‚åœ¨é€™è£¡ä½ å·²ç¶“å¯ä»¥ç”¨ docker ä¾†å»ºç«‹å„ç¨®æœå‹™äº†ã€‚é€™è£¡ä¹Ÿå¯ä»¥æƒ³åƒæˆè™›æ“¬æ©Ÿï¼Œç”¨ &lt;code>docker exec -it container_name bash&lt;/code> å¯ä»¥é€²åˆ° container è£¡é¢(å¦‚æžœè£¡é¢æœ‰ bash çš„è©±)&lt;/li>
&lt;li>docker-compose&lt;br>
ä¸€å€‹æœå‹™ä¸æ˜¯ä¸€å€‹ container å°±å¯ä»¥æž¶èµ·ä¾†çš„ï¼Œé€šå¸¸éœ€è¦å¥½å¹¾å€‹ containerã€‚é€™æ™‚å€™å¦‚æžœé€éŽæŒ‡ä»¤å•Ÿå‹•ä¹Ÿè¨±æœƒæœ‰å¿˜è¨˜å•Ÿå‹•å’Œè¨­å®šè¤‡é›œçš„å•é¡Œï¼Œæ‰€ä»¥æœ‰äº†é€™å€‹å·¥å…·ã€‚ä»–é€éŽ yml è¨­å®šä¾†å•Ÿå‹•æœå‹™ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯åœ¨åŒä¸€å€‹ &lt;code>docker-compose.yml&lt;/code> å•Ÿå‹•çš„ container æœƒåœ¨åŒä¸€å€‹ç¶²è·¯å…§è€Œå’Œå¤–é¢éš”é–‹ï¼Œæ‰€ä»¥å¦‚æžœæ˜¯ containers ä¹‹é–“çš„é€šè¨Šä¸ç”¨æŠŠ port æš´éœ²å‡ºä¾†ï¼Œåªæœ‰é–‹çµ¦å¤–é¢çš„è¦ exposeã€‚&lt;/li>
&lt;/ol></description></item><item><title>Mxlinux Boot with Systemd</title><link>https://blog.simbafs.cc/p/linux/mxlinux-boot-with-systemd/</link><pubDate>Sat, 05 Sep 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/mxlinux-boot-with-systemd/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/mxlinux-boot-with-systemd.png" alt="Featured image of post Mxlinux Boot with Systemd" />&lt;h1 id="mxlinux-boot-with-systemd">Mxlinux Boot with Systemd&lt;/h1>
&lt;h2 id="å•é¡Œ">å•é¡Œ&lt;/h2>
&lt;p>åœ¨ mxlinux è£¡é¢ï¼Œé è¨­çš„ init ä¸æ˜¯ systmedï¼Œé€™å°Žè‡´å¦‚æžœæƒ³ç”¨ systemctl çš„æ™‚å€™å°±æœƒè·³å‡ºéŒ¯èª¤èªª&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">System has not been booted with systemd as init system
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åƒæ˜¯åœ¨å®‰è£ &lt;code>mongodb-org&lt;/code> çš„æ™‚å€™ä»–å°±è¦ç”¨åˆ° &lt;code>systemctl&lt;/code> ç„¶å¾Œå°±æœƒå‡ºéŒ¯ã€‚&lt;/p>
&lt;h2 id="è§£æ³•">è§£æ³•&lt;/h2>
&lt;p>å…¶å¯¦ mxlinux å·²ç¶“å¹«æˆ‘å€‘æƒ³å¥½è§£æ³•äº†ï¼Œåœ¨é–‹æ©Ÿé¸é …æ™‚é¸ &lt;code>Advence&lt;/code> &amp;gt; &lt;code>Systemd&lt;/code> å°±æœƒä»¥ systemd é–‹æ©Ÿ&lt;/p></description></item><item><title>Node Require from Project Root</title><link>https://blog.simbafs.cc/p/js/node-require-from-project-root/</link><pubDate>Wed, 02 Sep 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/node-require-from-project-root/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/node-require-from-project-root.png" alt="Featured image of post Node Require from Project Root" />&lt;h1 id="node-require-from-project-root">Node Require from Project Root&lt;/h1>
&lt;h2 id="å•é¡Œ">å•é¡Œ&lt;/h2>
&lt;p>åœ¨å¯«ä¸€å€‹å°ˆæ¡ˆçš„æ™‚å€™ï¼Œæœ‰æ™‚å€™æœƒæœ‰ä¸€äº›å°ç¨‹å¼é‡è¤‡åœ¨ä¸åŒçš„æª”æ¡ˆè£¡ç”¨åˆ°ï¼Œé€™æ™‚å€™æˆ‘å€‘æœƒæŠŠä»–æ‰“åŒ…æˆæ¨¡çµ„æ”¾åœ¨ &lt;code>lib/&lt;/code>ã€‚ä½†æ˜¯å¦‚æžœè³‡æ–™å¤¾çµæ§‹æœ‰é»žé»žè¤‡é›œçš„æ™‚å€™ï¼Œ &lt;code>require()&lt;/code> çš„è·¯å¾‘å°±æœƒå¾ˆè¤‡é›œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ index.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ lib
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â””â”€â”€ random.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ routes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ page
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ signup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ index.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;code>index.js&lt;/code> è£¡é¢å¦‚æžœè¦å¼•å…¥ &lt;code>random.js&lt;/code> å°±æœƒè®Šæˆé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">random&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;../../lib/random.js&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="çˆ›è§£æ³•">çˆ›è§£æ³•&lt;/h2>
&lt;p>å¦‚æžœæˆ‘å€‘æƒ³è¦ç›´æŽ¥ç”¨ &lt;code>require('lib/random')&lt;/code> çš„è©±åšç°¡å–®çš„æ–¹å¼æ˜¯ä¸Šå‚³ npmï¼Œä½†æ˜¯é€™æ¨£ç¨å«Œéº»ç…©ï¼Œè€Œä¸”åˆ¥çš„å°ˆæ¡ˆä¸ä¸€å®šç”¨çš„åˆ°ã€‚æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½è¦ä¸Šå‚³ npm å¾ˆä¸æ–¹ä¾¿ã€‚&lt;/p>
&lt;h2 id="å¥½è§£æ³•">å¥½è§£æ³•&lt;/h2>
&lt;p>åœ¨ linux è£¡é¢è¦æŠŠåŸ·è¡Œæª”åšæˆæŒ‡ä»¤æœ‰å…©å€‹æ–¹æ³•&lt;/p>
&lt;ol>
&lt;li>æ”¾åˆ° &lt;code>/usr/bin&lt;/code> ä¹‹é¡žçš„åœ°æ–¹&lt;/li>
&lt;li>æŠŠé€™å€‹è·¯å¾‘ç›´æŽ¥åŠ åˆ° &lt;code>PATH&lt;/code> è£¡é¢&lt;/li>
&lt;/ol>
&lt;p>åœ¨ node è£¡é¢ä¹Ÿæœ‰ path è¨­å®šï¼Œ&lt;code>module.paths&lt;/code>ï¼Œåœ¨ require æ™‚æœƒåŽ»é€™å€‹è£¡é¢çš„ç›®è·¯å°‹æ‰¾æª”æ¡ˆã€‚æ‰€ä»¥å¦‚æžœè¦é”æˆä¸Šè¿°çš„åŠŸèƒ½çš„è©±å°±åªè¦åŠ é€™è¡Œå°±å¯ä»¥äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">paths&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cwd&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£å°±å¯ä»¥ç›´æŽ¥ç”¨ &lt;code>require('lib/random')&lt;/code> å¼•å…¥äº†&lt;/p>
&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/nodejs/node/issues/4223" target="_blank" rel="noopener"
>https://github.com/nodejs/node/issues/4223&lt;/a>&lt;br>
&lt;a class="link" href="https://github.com/nodejs/node/issues/1979" target="_blank" rel="noopener"
>https://github.com/nodejs/node/issues/1979&lt;/a>&lt;br>
&lt;a class="link" href="https://www.npmjs.com/package/rooty" target="_blank" rel="noopener"
>https://www.npmjs.com/package/rooty&lt;/a>&lt;br>
^^^&lt;br>
é€™å€‹æ˜¯åœ¨ github issue è£¡é¢çœ‹åˆ°çš„ï¼Œæ²’è©¦éŽï¼Œä½†æ˜¯æ‡‰è©²ä¹Ÿå¯ä»¥ç”¨å§ï¼Ÿåªæ˜¯æˆ‘è¦ºå¾—æ²’æœ‰ &lt;code>paths&lt;/code> çš„è§£æ³•ä¾†çš„å„ªé›…ã€‚&lt;/p></description></item><item><title>Vim Auto Comment Plugin</title><link>https://blog.simbafs.cc/p/linux/vim/vim-auto-comment-plugin/</link><pubDate>Tue, 25 Aug 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/vim/vim-auto-comment-plugin/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/vim/vim-auto-comment-plugin.png" alt="Featured image of post Vim Auto Comment Plugin" />&lt;h1 id="vim-auto-comment-plugin">Vim Auto Comment Plugin&lt;/h1>
&lt;h2 id="å¥—ä»¶">å¥—ä»¶&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/preservim/nerdcommenter" target="_blank" rel="noopener"
>nerdcommenter&lt;/a>&lt;/p>
&lt;h2 id="å¥½ç”¨çš„æŒ‡ä»¤">å¥½ç”¨çš„æŒ‡ä»¤&lt;/h2>
&lt;p>åœ¨æ¯æ¬¡å‹•ä½œå‰éƒ½è¦æŒ‰ &lt;code>&amp;lt;leader&amp;gt;&lt;/code>ï¼Œé è¨­æ˜¯ åæ–œç·š &lt;code>\&lt;/code>&lt;/p>
&lt;h2 id="cspace">&lt;code>c&amp;lt;space&amp;gt;&lt;/code>&lt;/h2>
&lt;p>ç°¡å–®ä¾†èªªå°±æ˜¯ toggle ä½ çš„è¨»è§£&lt;/p>
&lt;h2 id="ca">&lt;code>cA&lt;/code>&lt;/h2>
&lt;p>è·³åˆ°è¡Œå°¾ä¸¦åœ¨è¡Œå°¾åŠ ä¸Šè¨»è§£&lt;/p></description></item><item><title>æ–‡ç« æ›´æ–°æ™‚é–“éŒ¯äº‚å•é¡Œ</title><link>https://blog.simbafs.cc/p/hexo/%E6%96%87%E7%AB%A0%E6%9B%B4%E6%96%B0%E6%99%82%E9%96%93%E9%8C%AF%E4%BA%82%E5%95%8F%E9%A1%8C/</link><pubDate>Thu, 20 Aug 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/hexo/%E6%96%87%E7%AB%A0%E6%9B%B4%E6%96%B0%E6%99%82%E9%96%93%E9%8C%AF%E4%BA%82%E5%95%8F%E9%A1%8C/</guid><description>&lt;img src="https://blog.simbafs.cc/og/hexo/%E6%96%87%E7%AB%A0%E6%9B%B4%E6%96%B0%E6%99%82%E9%96%93%E9%8C%AF%E4%BA%82%E5%95%8F%E9%A1%8C.png" alt="Featured image of post æ–‡ç« æ›´æ–°æ™‚é–“éŒ¯äº‚å•é¡Œ" />&lt;h1 id="å•é¡Œ">å•é¡Œ&lt;/h1>
&lt;p>åœ¨è¨­å®šå®Œ GitHub Action ä¹‹å¾Œï¼Œæˆ‘ç™¼ç¾æˆ‘çš„æ–‡ç« çš„æ›´æ–°æ™‚é–“éƒ½éŒ¯äº†ï¼Œæœƒå…¨éƒ¨è®Šæˆç•¶å¤©æ—¥æœŸã€‚ä½†æ˜¯æœ¬åœ°ç”Ÿæˆçš„å°±æ²’æœ‰é€™å€‹å•é¡Œï¼Œç¶“éŽä¸€ç•ªç›¤æŸ¥å’ŒçŒœæ¸¬å¾Œï¼Œæˆ‘ç™¼ç¾å•é¡Œæ˜¯å› ç‚º git ä¸æœƒæŠŠ modified date ç´€éŒ„ï¼Œå› ç‚ºæ¯å°é›»è…¦çš„æ™‚å€éƒ½æ˜¯ä¸ä¸€æ¨£çš„ï¼Œç´€éŒ„èµ·ä¾†æ²’æœ‰æ„ç¾©ã€‚ä½†æ˜¯æˆ‘å€‘éœ€è¦é€™é … meta dataï¼Œæ‰€ä»¥æˆ‘å€‘å°±è¦è‡ªå·±æƒ³æ³•ç´€éŒ„&lt;/p>
&lt;h1 id="è§£æ³•-v10">è§£æ³• v1.0&lt;/h1>
&lt;p>é¦–å…ˆï¼Œå› ç‚ºæ¯ä¸€ç¯‡æ–‡ç«  hexo éƒ½æœƒç´€éŒ„å»ºç«‹æ™‚é–“ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ç›´æŽ¥æŠŠä»–æŠ“å‡ºä¾†ï¼Œç„¶å¾ŒæŠŠæª”æ¡ˆçš„æ›´æ–°æ™‚é–“è¨­æˆé€™å€‹æ™‚é–“å°±å¯ä»¥å•¦ï¼&lt;/p>
&lt;h2 id="æ›´æ”¹æª”æ¡ˆçš„-modified-time">æ›´æ”¹æª”æ¡ˆçš„ modified time&lt;/h2>
&lt;p>é€™å€‹åŠŸèƒ½åªè¦ç”¨æˆ‘å€‘æœ€ç†Ÿæ‚‰çš„ &lt;code>touch&lt;/code> å°±å¯ä»¥åšåˆ°äº†ã€‚ä¸€èˆ¬æˆ‘å€‘ä½¿ç”¨ &lt;code>touch&lt;/code> çš„æ™‚å€™æœƒæŠŠ modified time æ”¹æˆç•¶ä¸‹æ™‚é–“ï¼Œé‚£è¦æ”¹ä»»æ„æ™‚é–“åªè¦åŠ ä¸Š &lt;code>-t&lt;/code> é¸é …å°±å¯ä»¥å•¦&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">-t STAMP
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> use [[CC]YY]MMDDhhmm[.ss] instead of current time
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡è¨­æˆ‘å€‘æœ‰å€‹æª”æ¡ˆ &lt;code>tmp&lt;/code> ï¼Œæˆ‘æƒ³æŠŠä»–çš„æ—¥æœŸæ”¹æˆ &lt;code>1999/3/23 12:32:33&lt;/code> ï¼Œé‚£æˆ‘å¯ä»¥é€™æ¨£ä¸‹æŒ‡ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ted timeouch -t&amp;#39;19993231232.33&amp;#39; tmp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æŠ“å‡ºæª”åæ—¥æœŸ">æŠ“å‡ºæª”åã€æ—¥æœŸ&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># git create time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">grep -rnw source/_posts -e &lt;span class="s1">&amp;#39;date&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>output:ï¼ˆé€™è£¡çš„ &lt;code>date:&lt;/code> å¾Œé¢æˆ‘å¤šåŠ äº†ä¸€å€‹ç©ºç™½ï¼ŒåŽŸå› å¾Œé¢æœƒèªªï¼‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">source/_posts/hexo-installation.md:3:date: 2020-02-10 17:26:45
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/blessed.md:3:date: 2020-02-17 23:24:10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/bash.md:3:date: 2020-02-16 22:15:10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/hexo-cli-extras.md:3:date: 2020-02-11 21:26:30
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/remind-daniel.md:3:date: 2020-03-15 21:35:25
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/jquery.md:3:date: 2020-03-15 11:38:47
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/nginx-reverse-proxy-setup.md:3:date: 2020-02-13 10:34:58
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/nginx-ui.md:3:date: 2020-06-23 22:50:29
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/reverse-ssh.md:3:date: 2020-02-23 21:24:34
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/webpack-react.md:3:date: 2020-06-28 22:39:57
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/mxlinux-change-workspace.md:3:date: 2020-05-08 17:59:22
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆ†é›¢æ™‚é–“æª”å">åˆ†é›¢æ™‚é–“ï¼Œæª”å&lt;/h2>
&lt;p>è§€å¯Ÿä»–çš„è¼¸å‡º&lt;br>
æª”åçš„éƒ¨ä»½æ˜¯åœ¨ä»¥å†’è™Ÿåˆ†éš”çš„ç¬¬ä¸€æ¬„&lt;br>
æ—¥æœŸ/æ™‚é–“æ˜¯åœ¨ä»¥ç©ºæ ¼åˆ†éš”çš„ç¬¬äºŒã€ä¸‰æ¬„
é‚£æˆ‘å€‘å°±å¯ä»¥æ ¹æ“šé€™å€‹æŠŠä»–å€‘åˆ†é›¢å‡ºä¾†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># get name, time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">grep -rnw source/_posts -e &lt;span class="s1">&amp;#39;date&amp;#39;&lt;/span> &amp;gt; t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cut -d: -f1 t &amp;gt; name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cut -d&lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> -f2,3 t &amp;gt; &lt;span class="nb">time&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>output:ï¼ˆç¯€éŒ„ï¼Œé€™é‚Šæ²’æœ‰å°çš„å¾ˆå¥½ï¼‰
name:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">source/_posts/sqlite.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/ssh-tunnel.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/unix-socket.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/webpack-react.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/youtube-dl.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source/_posts/åŠ å…¥-google-search-å’Œ-sitemap.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>time:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">2020-02-24 22:14:36
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2020-02-23 14:30:22
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2020-06-28 22:39:57
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2020-03-04 22:48:20
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2020-08-19 22:37:52
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2020-08-20 23:33:13
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è™•ç†æ—¥æœŸçš„æ ¼å¼">è™•ç†æ—¥æœŸçš„æ ¼å¼&lt;/h2>
&lt;p>åœ¨ &lt;code>æ›´æ”¹æª”æ¡ˆçš„ modified time&lt;/code> æåˆ°çš„æ—¥æœŸæ ¼å¼å’Œæˆ‘å€‘æŠ“å‡ºä¾†çš„ä¸å¤ªä¸€æ¨£ï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦åšä¸€äº›è™•ç†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cut -d&amp;#39; &amp;#39; -f2,3 t | sed &amp;#39;s/[- ]//g&amp;#39; | sed &amp;#39;s/://&amp;#39; | sed &amp;#39;s/:/./&amp;#39; &amp;gt; time
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£å°±å¯ä»¥æˆåŠŸè½‰æ›æ—¥æœŸæ ¼å¼äº†&lt;/p>
&lt;h2 id="æ™‚é–“æª”">æ™‚é–“æª”&lt;/h2>
&lt;p>æŽ¥ä¸‹ä¾†æŠŠ &lt;code>name&lt;/code>ã€&lt;code>time&lt;/code> åˆèµ·ä¾†å°±è®Šæˆæ™‚é–“æ“‹äº†ï¼Œé€™è£¡æœ‰ä¸€é»žè¦æ³¨æ„ï¼Œå› ç‚ºæˆ‘å€‘æ¢å¾©çš„æ™‚å€™æ˜¯ç”¨ for è¿´åœˆï¼Œæ›è¡Œå’Œç©ºç™½éƒ½æœƒè¢«ç•¶æˆåˆ‡æ–·ç¬¦è™Ÿï¼Œæ‰€ä»¥æª”åå’Œæ™‚é–“ä¸­é–“çš„é–“éš”ç¬¦è™Ÿæˆ‘å€‘é¸ç”¨å†’è™Ÿ &lt;code>:&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">paste -d: name time &amp;gt; source/_posts/time
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ¸…åžƒåœ¾">æ¸…åžƒåœ¾&lt;/h2>
&lt;p>æœ€å¾Œè¨˜å¾—æŠŠå‰›æ‰ç”¢ç”Ÿå‡ºä¾†ä½†æ˜¯ç”¨ä¸åˆ°çš„æª”æ¡ˆæ¸…æŽ‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">rm t name time
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®Œæ•´ç¨‹å¼ç¢¼">å®Œæ•´ç¨‹å¼ç¢¼&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># updateDate.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#!/bin/bash&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> -z &lt;span class="nv">$1&lt;/span> &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;source/_posts&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">grep &lt;span class="s1">&amp;#39;date: [0-9]{4}&amp;#39;&lt;/span> &lt;span class="nv">$dir&lt;/span>/*.md &amp;gt; t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cut -d: -f1 t &amp;gt; name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cut -d&lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> -f2,3 t &lt;span class="p">|&lt;/span> sed &lt;span class="s1">&amp;#39;s/[- ]//g&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> sed &lt;span class="s1">&amp;#39;s/://&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> sed &lt;span class="s1">&amp;#39;s/:/./&amp;#39;&lt;/span> &amp;gt; &lt;span class="nb">time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">paste -d: name &lt;span class="nb">time&lt;/span> &amp;gt; &lt;span class="nv">$dir&lt;/span>/time
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> i in &lt;span class="k">$(&lt;/span>cat &lt;span class="nv">$dir&lt;/span>/time&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$i&lt;/span> &lt;span class="p">|&lt;/span> cut -d: -f1&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">d&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$i&lt;/span> &lt;span class="p">|&lt;/span> cut -d: -f2&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> touch -t&lt;span class="nv">$d&lt;/span> &lt;span class="nv">$n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm t name &lt;span class="nb">time&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å‚™è¨»">å‚™è¨»&lt;/h2>
&lt;p>å‰›å‰›æœ‰èªªåˆ°åœ¨é€™ä»½æ•™å­¸ä¸­çš„ &lt;code>date: &lt;/code> éƒ½å¤šåŠ ä¸€å€‹ç©ºç™½ï¼ŒåŽŸå› æ˜¯å› ç‚º grep åœ¨æŠ“æ™‚å€™ä¸æœƒåªæŠ“ç¬¬ä¸€å€‹ï¼Œç‚ºäº†é¿å…æŠ“åˆ°éŒ¯çš„æ‰€ä»¥æˆ‘æ•…æ„è®“ä»–ä¸åŒ¹é…ï¼Œä¸ç„¶å†ç”Ÿæˆæ™‚é–“æª”çš„æ™‚å€™æœƒå‡ºéŒ¯ï¼Œæ‰€ä»¥ä½ å€‘çš„æ–‡ç« ä¸­å¦‚æžœå‡ºç¾æœƒåŒ¹é… &lt;code>date: [0-9]{4}&lt;/code> çš„å­—ä¸²ï¼Œè¨˜å¾—è¦åšä¸€ä¸‹æ‰‹è…³&lt;/p>
&lt;h1 id="è§£æ³•-v20">è§£æ³• v2.0&lt;/h1>
&lt;p>ä¸Šä¸€å€‹ä½œæ³•é›–ç„¶å¯è¡Œï¼Œä½†æ˜¯æœ‰ä¸€å€‹ç¼ºé»žï¼Œå°±æ˜¯ä»–çš„æ›´æ–°æ™‚é–“éƒ½æœƒæ˜¯å»ºç«‹æ™‚é–“ï¼Œä¸æœƒæ˜¯ modified timeï¼Œæ‰€ä»¥è§£æ³•äºŒèª•ç”Ÿäº†&lt;br>
å…¶å¯¦å¾ˆç°¡å–®ï¼Œæ”¹ä¸Šé¢çš„ä¸€å°è¡Œå°±å¥½äº†ã€‚é¦–å…ˆç”¨ &lt;code>stat&lt;/code> å–å‡ºæª”æ¡ˆçš„ modified time&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">stat -c %y source/_posts/*.md &amp;gt; &lt;span class="nb">time&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">2020-03-04 22:48:20.000000000 +0800
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2020-08-19 22:37:52.000000000 +0800
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2020-08-21 22:15:44.366513358 +0800
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2020-07-04 10:17:39.000000000 +0800
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œåœ¨ç¶“éŽé©ç•¶çš„è½‰æ›è®Šæˆæˆ‘å€‘è¦çš„æ ¼å¼å°±å®Œæˆå•¦ï¼&lt;/p>
&lt;h2 id="å®Œæ•´ç¨‹å¼ç¢¼-1">å®Œæ•´ç¨‹å¼ç¢¼&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># storePostTime.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#!/bin/bash&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> -z &lt;span class="nv">$1&lt;/span> &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">dir&lt;/span>&lt;span class="o">=&lt;/span>source/_posts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls &lt;span class="nv">$dir&lt;/span>/*.md &amp;gt; name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">stat -c %y &lt;span class="nv">$dir&lt;/span>/*.md &lt;span class="p">|&lt;/span>&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> cut -d&lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> -f1,2 &lt;span class="p">|&lt;/span>&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> sed &lt;span class="s1">&amp;#39;s/[- ]//g&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span>&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> sed &lt;span class="s1">&amp;#39;s/://&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span>&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> sed &lt;span class="s1">&amp;#39;s/:/./&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span>&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> cut -d. -f1,2 &amp;gt; &lt;span class="nb">time&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">paste -d: name &lt;span class="nb">time&lt;/span> &amp;gt; t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv t &lt;span class="nv">$dir&lt;/span>/time
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm name &lt;span class="nb">time&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># recorverDate.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#!/bin/bash&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> -z &lt;span class="nv">$1&lt;/span> &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">file&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;source/_posts/time&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">file&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> i in &lt;span class="k">$(&lt;/span>cat &lt;span class="nv">$file&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$i&lt;/span> &lt;span class="p">|&lt;/span> cut -d: -f1&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">d&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$i&lt;/span> &lt;span class="p">|&lt;/span> cut -d: -f2&lt;span class="k">)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> touch -t&lt;span class="nv">$d&lt;/span> &lt;span class="nv">$n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>express é‡è¤‡ send</title><link>https://blog.simbafs.cc/p/js/express-%E9%87%8D%E8%A4%87-send/</link><pubDate>Wed, 19 Aug 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/express-%E9%87%8D%E8%A4%87-send/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/express-%E9%87%8D%E8%A4%87-send.png" alt="Featured image of post express é‡è¤‡ send" />&lt;h1 id="express-é‡è¤‡-send">express é‡è¤‡ send&lt;/h1>
&lt;h2 id="å•é¡Œ">å•é¡Œ&lt;/h2>
&lt;p>åœ¨ express route è£¡é¢ï¼Œæˆ‘é€šå¸¸æœƒåœ¨ &lt;code>res.send()&lt;/code> ä¹‹é¡žçš„å‡½å¼å‰é¢éƒ½æœƒåŠ ä¸€å€‹ &lt;code>return&lt;/code> é˜²æ­¢å› ç‚ºç¨‹å¼é‚è¼¯æ¼æ´žé€ æˆé‡è¤‡é€å‡ºç„¶å¾Œå™´ errorã€‚åƒæ˜¯é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello world&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æ˜¯å¦‚æžœæˆ‘å€‘ç”¨åˆ° &lt;code>Promise&lt;/code> çš„æ™‚å€™ &lt;code>return&lt;/code> ä¸¦ä¸æœƒè·³å‡ºæ•´å€‹ routeï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦å¦ä¸€å€‹æ–¹æ³•ï¼Œæˆ‘çš„æƒ³æ³•æ˜¯ä¸€å€‹è®Šæ•¸å„²å­˜æ˜¯å¦é€å‡ºï¼Œç„¶å¾Œåœ¨æ¯æ¬¡é€å‡ºå‰éƒ½åˆ¤æ–·ï¼Œé€å‡ºå€™æ›´æ”¹è®Šæ•¸å€¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">+--------------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| is sent( flag === false) |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+------------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> |no
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+----+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| send |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+----+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-----------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| change flag |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-------------+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">flag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doSomePromise&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">flag&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello world&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£å°±ä¸æœƒå™´ä¸€å † error å•¦ï¼&lt;/p>
&lt;h2 id="æ”¹é€²ç‰ˆ">æ”¹é€²ç‰ˆ&lt;/h2>
&lt;p>ç”¨äº†ä¹‹å¾Œç™¼ç¾é€™æ¨£æœ‰é»žéº»ç…©ï¼Œexpress æ‡‰è©²æœ‰å…§å»ºè®Šæ•¸å„²å­˜æ˜¯å¦å·²é€å‡ºæ‰å°ï¼Œå¦‚æžœæ²’æœ‰ï¼Œæˆ‘æ‡‰è©²ä¹Ÿæœ‰æ›´å¥½çš„æ–¹æ³•å¯ä»¥ç›´æŽ¥å¾ž &lt;code>req&lt;/code> æˆ– &lt;code>res&lt;/code> çš„ç‹€æ…‹åˆ¤æ–·æ˜¯å¦å·²é€å‡ºã€‚æ‰¾äº†ä¸€ä¸‹ï¼ŒçœŸçš„è¢«æˆ‘æ‰¾åˆ°äº† &lt;a class="link" href="https://expressjs.com/en/4x/api.html#res.headersSent" target="_blank" rel="noopener"
>res.headersSent&lt;/a> é€™å€‹å…§å»ºè®Šæ•¸ï¼Œä»–çš„è¡Œç‚ºå°±å’Œä¸Šé¢çš„ &lt;code>flag&lt;/code> ä¸€æ¨¡ä¸€æ¨£ï¼Œä½†æ˜¯æˆ‘å€‘ä¸ç”¨è‡ªå·±åŽ»ç¶­è­·ä»–çš„ç‹€æ…‹ã€‚æ‰€ä»¥ä¸Šé¢çš„ç¯„ä¾‹å°±å¯ä»¥æ”¹å¯«æˆé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doSomePromise&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headersSent&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello world&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>åŠ å…¥ google search å’Œ sitemap</title><link>https://blog.simbafs.cc/p/hexo/%E5%8A%A0%E5%85%A5-google-search-%E5%92%8C-sitemap/</link><pubDate>Wed, 19 Aug 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/hexo/%E5%8A%A0%E5%85%A5-google-search-%E5%92%8C-sitemap/</guid><description>&lt;img src="https://blog.simbafs.cc/og/hexo/%E5%8A%A0%E5%85%A5-google-search-%E5%92%8C-sitemap.png" alt="Featured image of post åŠ å…¥ google search å’Œ sitemap" />&lt;h1 id="å‰ç½®è¨­å®š">å‰ç½®è¨­å®š&lt;/h1>
&lt;h2 id="npm-å®‰è£-hexo-generator-sitemap">npm å®‰è£ &lt;code>hexo-generator-sitemap&lt;/code>&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">npm i -S hexo-generator-sitemap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¨­å®šæ’ä»¶">è¨­å®šæ’ä»¶&lt;/h2>
&lt;p>å°‡ä»¥ä¸‹å…§å®¹åŠ åˆ° &lt;code>_config.yml&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>æ³¨æ„ç©ºç™½&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># sitemap&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">sitemap&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sitemap.xml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="é©—è­‰ç¶²åŸŸ">é©—è­‰ç¶²åŸŸ&lt;/h1>
&lt;p>å¦‚æžœä½ çš„ hexo æ˜¯æž¶åœ¨è‡ªå·±çš„ç¶²åŸŸå¯ä»¥è·³éŽé€™æ­¥&lt;br>
å› ç‚ºæˆ‘çš„ hexo æ˜¯ è¨—ç®¡åœ¨ GitHub pageï¼Œåœ¨ Google Search Console é©—è­‰çš„æ™‚å€™æ²’è¾¦æ³•ç”¨ç¶²åŸŸï¼Œæ‰€ä»¥è¦æ”¾ä¸€å€‹ç‰¹åˆ¥çš„æª”æ¡ˆåˆ°æˆ‘å€‘çš„ç¶²ç«™æ ¹ç›®éŒ„&lt;/p>
&lt;ol>
&lt;li>é¦–å…ˆåˆ° &lt;a class="link" href="https://search.google.com/search-console/" target="_blank" rel="noopener"
>Google Search Console&lt;/a> æ–°å¢žä¸€å€‹ç¶²åŸŸ
é¸æ“‡å³é‚Šï¼Œè¼¸å…¥ä½ çš„ç¶²å€
&lt;img src="https://blog.simbafs.cc/images/google-search-analytics/addDomain.png"
loading="lazy"
alt="add demain"
>&lt;/li>
&lt;li>ä¸‹è¼‰æä¾›çš„ html ä¸¦æ”¾åˆ° &lt;code>source/&lt;/code> è³‡æ–™å¤¾
&lt;img src="https://blog.simbafs.cc/images/google-search-analytics/verifyDomain.png"
loading="lazy"
alt="download html file and place to source/"
>&lt;/li>
&lt;li>å¿½ç•¥
æŽ¥ä¸‹ä¾†æœƒé‡åˆ° hexo åœ¨ç”Ÿæˆçš„æ™‚å€™æŠŠé€™å€‹ html ä¹Ÿæ”¾åˆ°æ¨¡æ¿è£¡é¢ï¼Œæ‰€ä»¥æˆ‘å€‘è¦æŠŠä»–åŠ å…¥å¿½ç•¥æ¸…å–®è£¡é¢&lt;br>
åœ¨ &lt;code>_config.yml&lt;/code> è£¡é¢æ‰¾åˆ° &lt;code>skip_render&lt;/code>&lt;br>
æŠŠç›´æŽ¥æª”åå¯«åœ¨å¾Œé¢æˆ–æ˜¯ç”¨æ¸…å–®éƒ½å¯ä»¥
&lt;blockquote>
&lt;p>æ³¨æ„ç©ºç™½&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># ç›´æŽ¥å¯«&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">skip_render&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;googlebabababababa.html&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># æˆ–æ˜¯ç”¨æ¸…å–®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">skip_render&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;googlebabababababa.html&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>æŒ‰ä¸‹é©—è­‰ï¼Œå®Œæˆ&lt;/li>
&lt;/ol>
&lt;h1 id="sitemap">Sitemap&lt;/h1>
&lt;p>é©—è­‰å¥½äº†ä¹‹å¾Œé€²å…¥ Google Search Consoleï¼Œåœ¨å´é‚Šæ¬„æ‰¾åˆ° &lt;code>ç´¢å¼•&lt;/code> -&amp;gt; &lt;code>Sitemap&lt;/code>
è¼¸å…¥ &lt;code>sitemap.xml&lt;/code> æŒ‰æäº¤
&lt;img src="https://blog.simbafs.cc/images/google-search-analytics/sitemap.png"
loading="lazy"
alt="sitemap"
>&lt;/p>
&lt;h1 id="google-analytics">Google analytics&lt;/h1>
&lt;p>å¾…æ–°å¢ž&lt;/p></description></item><item><title>GitHub Action è‡ªå‹•éƒ¨ç½² hexo</title><link>https://blog.simbafs.cc/p/hexo/github-action-%E8%87%AA%E5%8B%95%E9%83%A8%E7%BD%B2-hexo/</link><pubDate>Sun, 16 Aug 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/hexo/github-action-%E8%87%AA%E5%8B%95%E9%83%A8%E7%BD%B2-hexo/</guid><description>&lt;img src="https://blog.simbafs.cc/og/hexo/GitHub-Action-%E8%87%AA%E5%8B%95%E9%83%A8%E7%BD%B2-hexo.png" alt="Featured image of post GitHub Action è‡ªå‹•éƒ¨ç½² hexo" />&lt;h1 id="å‰è¨€">å‰è¨€&lt;/h1>
&lt;p>æœ¬ä¾†éƒ¨ç½² hexo éƒ½æ˜¯æ‰‹å‹•ä¸‹æŒ‡ä»¤ï¼Œä½†æ˜¯é€™æ¨£åœ¨æ‰‹æ©Ÿä¸Šå› ç‚ºæ²’è¾¦æ³•è£ hexo ,æ‰€ä»¥ä¸€ç›´ä¸èƒ½åœ¨æ‰‹æ©Ÿä¸Šå¯«æ–‡ç« ã€‚å‰›å¥½æƒ³åˆ° GitHub Action å¯ä»¥æ»¿è¶³æˆ‘çš„éœ€æ±‚ï¼Œä¸Šç¶²æŸ¥äº†ä¸€ä¸‹è³‡æ–™ç™¼ç¾è »å¤šäººæœ‰å’Œæˆ‘ä¸€æ¨£çš„éœ€æ±‚ï¼Œé€™æ¬¡åƒè€ƒçš„æ˜¯ &lt;a class="link" href="https://owlran.github.io/2020/04/26/hexo-blog-github-action/" target="_blank" rel="noopener"
>owlran å¤§å¤§çš„æ–‡ç« &lt;/a>ã€‚&lt;/p>
&lt;h1 id="ssh-key">ssh key&lt;/h1>
&lt;p>å› ç‚ºè¦éƒ¨ç½²åˆ° GitHub repoï¼Œæœ€æ–¹ä¾¿çš„æ–¹æ³•ç•¶ç„¶æ˜¯ ssh key å•¦ã€‚&lt;/p>
&lt;h2 id="ssh-keygen">ssh-keygen&lt;/h2>
&lt;p>é¦–å…ˆéš¨ä¾¿æ‰¾å€‹è³‡æ–™å¤¾ç”¢ç”Ÿä¸€çµ„ ssh key&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh-keygen -f deploy-key
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="github">GitHub&lt;/h2>
&lt;p>å†ä¾†è¦è®“ GitHub çŸ¥é“ä½ çš„ ssh keyï¼ˆpublic/secret éƒ½è¦ï¼‰&lt;/p>
&lt;h3 id="public-key">public key&lt;/h3>
&lt;p>public key æ˜¯è¦æ”¾åœ¨ä½ çš„ &lt;code>&amp;lt;username&amp;gt;.github.io&lt;/code> çš„ repo ä¸‹&lt;/p>
&lt;blockquote>
&lt;p>&lt;!-- raw HTML omitted -->.ggithub.io -&amp;gt; settings -&amp;gt; Deploy keys -&amp;gt; add deploy key&lt;/p>
&lt;/blockquote>
&lt;p>æ–°å¢žä¸€å€‹ ssh keyï¼Œåå­—å« &lt;code>DEPLOY_KEY_PUB&lt;/code>&lt;br>
æŠŠ &lt;code>depoly-key.pub&lt;/code> çš„å…§å®¹è²¼ä¸Šï¼Œè¨˜å¾—ä¸‹é¢çš„å‹¾å‹¾ï¼ˆAllow write access ï¼‰è¦é¸èµ·ä¾†&lt;/p>
&lt;h3 id="secret-key">secret key&lt;/h3>
&lt;p>secret key è¦æ”¾åœ¨ä½ å­˜æ”¾éƒ¨è½æ ¼æª”æ¡ˆçš„ repoï¼Œowlran å¤§å¤§æ˜¯æ”¾åœ¨åŒä¸€å€‹ &lt;a class="link" href="https://github.com/owlran/owlran.github.io" target="_blank" rel="noopener"
>repo&lt;/a> ä¸åŒ branchï¼Œæˆ‘æ˜¯æ”¾åœ¨å…©å€‹ä¸åŒ repoï¼Œå…¶ä¸­æ”¾éƒ¨è½æ ¼æª”æ¡ˆçš„ repo æˆ‘è¨­æˆ private repoï¼ˆå› ç‚ºæˆ‘æ”¾äº†ä¸€äº› gitalk è¦ç”¨çš„ clientSecretï¼Œé€™å€‹ä¸èƒ½å…¬é–‹ï¼‰ã€‚&lt;br>
ç¸½ä¹‹åˆ°ä½ è¦æ”¾éƒ¨è½æ ¼æª”æ¡ˆçš„é‚£å€‹ repoï¼Œæ–°å¢žä¸€å€‹ secretï¼Œç­‰ç­‰è¦å† GitHub Action è£¡é¢èª¿ç”¨ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä½ æ”¾éƒ¨è½æ ¼æª”æ¡ˆçš„é‚£å€‹ repo -&amp;gt; reposettings -&amp;gt; Secrets -&amp;gt; add a new secret&lt;/p>
&lt;/blockquote>
&lt;p>åå­—æ˜¯ &lt;code>DEPLOY_KEY&lt;/code>ï¼Œå…§å®¹æ˜¯ &lt;code>deploy-key&lt;/code> è£¡é¢çš„æ±è¥¿&lt;br>
æŽ¥ä¸‹ä¾†å°±å¯ä»¥é€²å…¥åˆ° Action äº†&lt;/p>
&lt;h1 id="action">Action&lt;/h1>
&lt;p>æˆ‘çš„ Action å…§å®¹åŸºæœ¬ä¸Šæ˜¯è¤‡è£½ owlran å¤§å¤§çš„ï¼Œä½†æ˜¯å› ç‚º repo çµæ§‹æœ‰å°å°ä¸åŒæ‰€ä»¥æˆ‘äº†ä¸€äº›ä¿®æ”¹ï¼Œå¦‚æžœä½ è¦æ”¹çš„è©±æ‡‰è©²æ˜¯ä¸é›£æ‰å°ï¼ŒGitHub Action çš„è¨­å®šæª”æˆ‘è¦ºå¾—é‚„å¥½æ‡‚çš„ã€‚&lt;br>
é€™å€‹è¨­å®šæ˜¯æ”¾åœ¨ä½ æ”¾éƒ¨è½æ ¼æª”æ¡ˆçš„é‚£å€‹ repo&lt;/p>
&lt;blockquote>
&lt;p>æ³¨æ„ï¼šç¬¬ 27, 28 è¡Œçš„ &lt;code>username&lt;/code> å’Œ &lt;code>email&lt;/code> è¨˜å¾—æ”¹æˆä½ çš„ï¼Œä¸ç„¶ git commit message æœƒæœ‰å•é¡Œ&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>ä½ æ”¾éƒ¨è½æ ¼æª”æ¡ˆçš„é‚£å€‹ repo -&amp;gt; Action -&amp;gt; New workflow -&amp;gt; set up a workflow yourself&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Hexo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">master&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Use Node.js ${{ matrix.node_version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-node@v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node_version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.node_version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Configuration environment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">DEPLOY_KEY&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.DEPLOY_KEY }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> mkdir -p ~/.ssh/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> echo &amp;#34;$DEPLOY_KEY&amp;#34; | tr -d &amp;#39;\r&amp;#39; &amp;gt; ~/.ssh/id_rsa
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> echo &amp;#34;$DEPLOY_KEY&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> chmod 600 ~/.ssh/id_rsa
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ssh-keyscan github.com &amp;gt;&amp;gt; ~/.ssh/known_hosts&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">git config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">username&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">email&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git config --global user.name &amp;#34;$username&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git config --global user.email &amp;#34;$email&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git config --global commit.gpgsign true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Imoport GPG key&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">import_gpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">crazy-max/ghaction-import-gpg@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">git_user_signingkey&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">git_commit_gpgsign&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">GPG_PRIVATE_KEY&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.GPG_PRIVATE_KEY }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">PASSPHRASE&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.PASSPHRASE }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Update themes&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git submodule init
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git submodule update&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Install dependencies&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> npm i -g hexo-cli
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> npm i&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Clean file&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo clean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Generate hexo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo generate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">list posts&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo list post&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy hexo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Reactjs Update State on Props Change</title><link>https://blog.simbafs.cc/p/js/reactjs/react-update-state-on-props-change/</link><pubDate>Sun, 12 Jul 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/reactjs/react-update-state-on-props-change/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/reactjs/React-update-state-on-props-change.png" alt="Featured image of post Reactjs Update State on Props Change" />&lt;h1 id="react-update-state-on-props-change">React Update State on Props Change&lt;/h1>
&lt;h2 id="å•é¡Œ">å•é¡Œ&lt;/h2>
&lt;p>ä»Šå¤©åœ¨ç ”ç©¶ React
é‡åˆ°ä¸€å€‹å•é¡Œ
ç•¶æˆ‘å¾žå¤–é¢æ›´æ–° props çš„æ™‚å€™ component å…§çš„ state ä¸æœƒæ›´æ–°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">Input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setText&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚åŒä¸Šé¢ç¨‹å¼ï¼Œç¬¬äºŒè¡Œçš„ &lt;code>useState&lt;/code> ä¸æœƒéš¨è‘— props æ›´æ–°è€Œæ›´æ–°&lt;/p>
&lt;h2 id="è§£æ³•">è§£æ³•&lt;/h2>
&lt;p>å¾Œä¾†æ‰¾åˆ°è§£æ³•ï¼ŒåŠ ä¸Šä¸€å€‹ &lt;code>useEffect&lt;/code> ç›£è½ &lt;code>props.text&lt;/code> ç„¶å¾Œæ›´æ–° state å°±å¥½äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">Input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setText&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">}&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾† &lt;code>state&lt;/code> å°±æœƒå’Œ &lt;code>props&lt;/code> åŒæ­¥äº†&lt;/p>
&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/54865764/react-usestate-does-not-reload-state-from-props" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/54865764/react-usestate-does-not-reload-state-from-props&lt;/a>
&lt;a class="link" href="https://zh-hant.reactjs.org/docs/hooks-effect.html" target="_blank" rel="noopener"
>https://zh-hant.reactjs.org/docs/hooks-effect.html&lt;/a>&lt;/p></description></item><item><title>è®“ YCM æŽ¥å— jsx</title><link>https://blog.simbafs.cc/p/linux/vim/ycm-jsx/</link><pubDate>Sat, 04 Jul 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/vim/ycm-jsx/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/vim/ycm-jsx.png" alt="Featured image of post è®“ YCM æŽ¥å— jsx" />&lt;h1 id="è®“-ycm-æŽ¥å—-jsx">è®“ YCM æŽ¥å— jsx&lt;/h1>
&lt;p>æœ€è¿‘å¯« Ë‹react çš„æ™‚å€™åªè¦é‡åˆ° jsx èªžæ³• YCM å°±æœƒè·³å‡ºé€™å€‹éŒ¯èª¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Cannot use JSX unless the &amp;#39;--jsx&amp;#39; flag is provided. (FixIt)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç ”ç©¶ä¹‹å¾Œç™¼ç¾é€™æ˜¯è¦çµ¦ tsserver ä¸€å€‹ &lt;code>--jsx&lt;/code> çš„ flag å°±å¯ä»¥è§£æ±º
çˆ¬æ–‡åŠå€‹å°æ™‚å¾Œç™¼ç¾åªè¦åœ¨å°ˆæ¡ˆä¸‹çš„ &lt;code>jsconfig.json&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;compilerOptions&amp;#34;: {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;target&amp;#34;: &amp;#34;es6&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;checkJs&amp;#34;: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;#34;compilerOptions&amp;#34;: {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;#34;jsx&amp;#34;: &amp;#34;react&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Webpack Reactjs</title><link>https://blog.simbafs.cc/p/js/reactjs/webpack-react/</link><pubDate>Sun, 28 Jun 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/reactjs/webpack-react/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/reactjs/webpack-react.png" alt="Featured image of post Webpack Reactjs" />&lt;h1 id="webpack-reactjs">Webpack Reactjs&lt;/h1>
&lt;h2 id="å‰è¨€">å‰è¨€&lt;/h2>
&lt;p>æœ€è¿‘é–‹å§‹æƒ³å­¸ react
åœ¨é€™ä¹‹å‰ç•¶ç„¶è¦å…ˆæŠŠé–‹ç™¼ç’°å¢ƒæžå¥½
å…¶ä¸­ react æœ€é‡è¦çš„å°±æ˜¯ webpack å’Œ babel äº†
babel è² è²¬ç·¨è­¯
webpack è² è²¬ä¸²è¡—æ‰€æœ‰å·¥ä½œ&lt;/p>
&lt;h2 id="å®‰è£å¥—ä»¶">å®‰è£å¥—ä»¶&lt;/h2>
&lt;h2 id="å»ºç«‹ä¸€å€‹å°ˆæ¡ˆä¸¦åˆå§‹åŒ–">å»ºç«‹ä¸€å€‹å°ˆæ¡ˆä¸¦åˆå§‹åŒ–&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir react-test
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd react-test
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm init -y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git init -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®‰è£é–‹ç™¼ç”¨å¥—ä»¶">å®‰è£é–‹ç™¼ç”¨å¥—ä»¶&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">npm i -D \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @babel/core \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @babel/cli \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @babel/preset-env \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @babel/preset-react \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> babel-loader \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> react \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> react-dom \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> webpack
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="packagejson">package.json&lt;/h2>
&lt;p>åŠ å…¥ä»¥ä¸‹çš„ script&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;dev&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;webpack --mode development&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;watch&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;webpack --mode development --watch&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;depoly&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;webpack --mode production&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="webpackconfigjs">webpack.config.js&lt;/h2>
&lt;p>å»ºç«‹ webpack.config.js
é€™æ˜¯æœ€å°çš„ç‰ˆæœ¬äº†
æ²’æœ‰ä»»ä½•çš„æ“´å……&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">module&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sr">/\.(js|jsx)$/&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exclude&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sr">/node_modules/&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">use&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">loader&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;babel-loader&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="srcdist">src/dist&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir src dist
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">æŽ¥ä¸‹ä¾†å¯ä»¥æŠŠæ‰€æœ‰çš„ js åŽŸå§‹ç¢¼æ”¾åœ¨ src/ ä¸‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">html template æ”¾åœ¨ dist/ ä¸‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## ç¯„ä¾‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://github.com/simbafs/react-template
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Nginx UI</title><link>https://blog.simbafs.cc/p/linux/server/nginx-ui/</link><pubDate>Tue, 23 Jun 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/server/nginx-ui/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/server/nginx-ui.png" alt="Featured image of post Nginx UI" />&lt;h1 id="nginx-ui">Nginx UI&lt;/h1>
&lt;p>å‰å¹¾å¤©ç™¼ç¾ä¸€å€‹å°ˆæ¡ˆ nginx ui
ä»–æ˜¯ä¸€å€‹å¯ä»¥è®“ä½ åœ¨ç¶²é ä¸Šæ›´æ”¹ nginx config çš„å°ˆæ¡ˆ&lt;/p>
&lt;h2 id="å®‰è£">å®‰è£&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull schenkd/nginx-ui
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å•Ÿå‹•">å•Ÿå‹•&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -p 8080:8080 -v /etc/nginx:/etc/nginx schenkd/nginx-ui
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œæ‰“é–‹ç€è¦½å™¨ http://localhost:8080 å°±å¯ä»¥çœ‹åˆ°ç®¡ç†é é¢äº†
å¾ˆé™½æ˜¥ï¼Œå°±æ˜¯ä¸ç”¨ ssh é€² serverï¼Œæ²’ä»€éº¼ç‰¹é»ž
æˆ‘æ‡‰è©²æ˜¯ä¸æœƒç”¨é€™å¥—&lt;/p></description></item><item><title>HTML form button</title><link>https://blog.simbafs.cc/p/frontend/html-form-button/</link><pubDate>Mon, 01 Jun 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/frontend/html-form-button/</guid><description>&lt;img src="https://blog.simbafs.cc/og/frontend/HTML-form-button.png" alt="Featured image of post HTML form button" />&lt;h1 id="html-form-button">HTML Form Button&lt;/h1>
&lt;p>HTML çš„ form è£¡çš„æŒ‰éˆ•é è¨­æ˜¯ submit
æ‰€ä»¥è¦åŠ ä¸Š &lt;code>type=&amp;quot;button&amp;quot;&lt;/code> å®ƒæ‰ä¸æœƒå¤ªå¿ƒæ€¥é€å‡ºè¡¨å–®&lt;/p>
&lt;p>æŒ‰éˆ•çš„ css ã€ŒæŒ‰ä¸‹ã€ selector å¥½åƒå¯å·²ç”¨ &lt;code>:active&lt;/code>ã€&lt;code>:focus&lt;/code>
ä½†æ˜¯æˆ‘å…©å€‹å¤±æ•—äº†&lt;/p></description></item><item><title>Mxlinux Change Workspace</title><link>https://blog.simbafs.cc/p/linux/mxlinux-change-workspace/</link><pubDate>Fri, 08 May 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/mxlinux-change-workspace/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/mxlinux-change-workspace.png" alt="Featured image of post Mxlinux Change Workspace" />&lt;h1 id="mxlinux-change-workspace">Mxlinux Change Workspace&lt;/h1>
&lt;h2 id="åˆ‡æ›å·¥ä½œå€">åˆ‡æ›å·¥ä½œå€&lt;/h2>
&lt;p>ä»Šå¤©æƒ³è¦åœ¨ mxlinux ä¸­å¿«é€Ÿçš„åˆ‡æ›å·¥ä½œå€
æˆ‘çœ‹åˆ°å¯ä»¥ç”¨æ»‘é¼ æ»¾è¼ªåˆ‡æ›
å¯æ˜¯æˆ‘æƒ³è¦çš„æ˜¯éµç›¤å¿«æ·éµ
ä¸Šç¶²æŸ¥äº†ä¸€ä¸‹
ç™¼ç¾å¯ä»¥é€éŽ &lt;code>Ctrl&lt;/code>+&lt;code>Alt&lt;/code>+&lt;code>up/down/home/end&lt;/code> ä¾†åˆ‡æ›&lt;/p>
&lt;h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™&lt;/h2>
&lt;p>&lt;a class="link" href="https://unix.stackexchange.com/questions/270334/how-to-move-a-window-to-another-workspace-in-xfce" target="_blank" rel="noopener"
>https://unix.stackexchange.com/questions/270334/how-to-move-a-window-to-another-workspace-in-xfce&lt;/a>&lt;/p></description></item><item><title>GPG</title><link>https://blog.simbafs.cc/p/linux/gpg/</link><pubDate>Sat, 28 Mar 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/gpg/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/gpg.png" alt="Featured image of post GPG" />&lt;h1 id="gpg">GPG&lt;/h1>
&lt;h2 id="sign-git-commit-with-gpg">sign git commit with gpg&lt;/h2>
&lt;p>æˆ‘æŒ‰ç…§ä»–çš„ä½œæ³•å¼„å®Œå¾Œå°±æ˜¯æ²’è¾¦æ³• commit
ä»–èªª GPG ç„¡æ³•ç°½ç« 
å¾Œä¾†æˆ‘ç™¼ç¾æ˜¯æˆ‘çš„ name å¡«éŒ¯ï¼ˆæ‡‰è©²å•¦ï¼Œæˆ‘çŒœçš„ï¼‰
ç¸½è€Œè¨€ä¹‹å°±é‡æ–°ç”¢ç”Ÿ GPG key å°±å¥½äº†
name å’Œ git è¨­å®šçš„ä¸€æ¨£&lt;/p>
&lt;h2 id="å¸¸è¦‹æŒ‡ä»¤">å¸¸è¦‹æŒ‡ä»¤&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ gpg --full-gen-key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ gpg --list-secret-keys
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ gpg --armor --export &amp;lt;secret key&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆªé™¤é‡‘é‘°">åˆªé™¤é‡‘é‘°&lt;/h2>
&lt;p>åœ¨åˆªé™¤çš„æ™‚å€™åˆ†æˆå…©æ­¥é©Ÿï¼Œåˆªé™¤ç§é‘°ã€åˆªé™¤å…¬é‘°ã€‚åœ¨åˆªé™¤ä¹‹å‰è¦å…ˆçŸ¥é“è¦åˆªé™¤çš„é‡‘é‘°çš„ ID&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">gpg --list-keys
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰¾åˆ°é‚£ä¸²å¾ˆé•·çš„æ–‡å­—ï¼Œé‚£å°±æ˜¯ IDï¼Œè¤‡è£½èµ·ä¾†ï¼Œä»–èµ·ä¾†ä¹Ÿè¨±æœƒåƒé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">JFDKSA8FEWHE29HFVC92UHFPA93WOHFVDOPA39U2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†ä¾†ç”¨å…©å€‹æŒ‡ä»¤å°±å¯ä»¥åˆªé™¤äº†ï¼Œæ³¨æ„ä¸€å®šè¦å…ˆåˆªç§é‘°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">gpg --delete-secret-key &amp;lt;ID&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gpg --delete-key &amp;lt;ID&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Meta Tag</title><link>https://blog.simbafs.cc/p/frontend/meta-tag/</link><pubDate>Sat, 28 Mar 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/frontend/meta-tag/</guid><description>&lt;img src="https://blog.simbafs.cc/og/frontend/meta-tag.png" alt="Featured image of post Meta Tag" />&lt;h1 id="meta-tag">Meta Tag&lt;/h1>
&lt;p>ä»Šå¤©ç‚ºäº†å¹« &lt;a class="link" href="https://daniel.simba.nctu.me" target="_blank" rel="noopener"
>Let&amp;rsquo;s Remind Daniel&lt;/a> åš SEO
åœ¨ &lt;a class="link" href="https://free.com.tw/mega-tags/" target="_blank" rel="noopener"
>å…è²»è³‡æºç¶²è·¯ç¤¾ç¾¤&lt;/a> æ‰¾åˆ°äº†ä¸€å€‹å·¥å…·å¯ä»¥ç›´æŽ¥ç”Ÿæˆ
é‚„æœ‰ä¸€å€‹å¯ä»¥æ¸¬è©¦çš„å·¥å…·&lt;/p>
&lt;h2 id="é€£çµ">é€£çµ&lt;/h2>
&lt;p>&lt;a class="link" href="https://megatags.co/" target="_blank" rel="noopener"
>ç”Ÿæˆ&lt;/a>
&lt;a class="link" href="https://www.heymeta.com/" target="_blank" rel="noopener"
>æ¸¬è©¦&lt;/a>&lt;/p></description></item><item><title>Firefox Event Listener Breakpoint</title><link>https://blog.simbafs.cc/p/frontend/firefox-event-listener-breakpoint/</link><pubDate>Wed, 25 Mar 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/frontend/firefox-event-listener-breakpoint/</guid><description>&lt;img src="https://blog.simbafs.cc/og/frontend/firefox-event-listener-breakpoint.png" alt="Featured image of post Firefox Event Listener Breakpoint" />&lt;h1 id="firefox-event-listener-breakpoint">Firefox Event Listener Breakpoint&lt;/h1>
&lt;h2 id="å•é¡Œ">å•é¡Œ&lt;/h2>
&lt;p>æœ€è¿‘åœ¨ç”¨ jquery ä½†æ˜¯ä¸çŸ¥é“ç‚ºä»€éº¼æ¯æ¬¡ debugger éƒ½æœƒè·³å‡ºä¸€å€‹é€šçŸ¥
&lt;img src="https://blog.simbafs.cc/images/firefox-event-listener-breakpoint/1.png"
loading="lazy"
alt="1.png"
>
å¾ˆç…©&lt;/p>
&lt;h2 id="è§£æ±º">è§£æ±º&lt;/h2>
&lt;p>å¾Œä¾†å°‹ç·šç™¼ç¾åŽŸä¾†æ˜¯ firefox å¥½å¿ƒçš„ debugger åœ¨ DOM ç™¼ç”Ÿæ”¹è®Šçš„æ™‚å€™é€šçŸ¥æˆ‘
åœ¨ &lt;!-- raw HTML omitted --> è£¡é¢ Debugger é ç±¤å·¦ä¸‹æœ‰å€‹æ‹‰é å«ã€ŒEvent Listener Breakpointsã€
æŠŠè£¡é¢çš„æ±è¥¿éƒ½é»žæŽ‰å°±å¥½äº†
å°±æ˜¯é‚£å€‹ DOM Mutation
&lt;img src="https://blog.simbafs.cc/images/firefox-event-listener-breakpoint/2.png"
loading="lazy"
alt="2.png"
>&lt;/p>
&lt;h2 id="å¿ƒå¾—">å¿ƒå¾—&lt;/h2>
&lt;p>æˆ‘åŽŸæœ¬é‚„ä»¥ç‚ºæ˜¯ jquery çš„å•é¡Œ
åŽŸä¾†æ˜¯å¥½å¿ƒçš„ firefox å•Š&lt;/p></description></item><item><title>jQuery</title><link>https://blog.simbafs.cc/p/frontend/jquery/</link><pubDate>Sun, 15 Mar 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/frontend/jquery/</guid><description>&lt;img src="https://blog.simbafs.cc/og/frontend/jquery.png" alt="Featured image of post jQuery" />&lt;h1 id="jquery">jQuery&lt;/h1>
&lt;p>ä»Šå¤©å¯« jquery é‡åˆ°äº†ä¸€äº›å‘&lt;/p>
&lt;h2 id="1-submit">1. submit&lt;/h2>
&lt;p>&lt;code>.submit()&lt;/code> æ˜¯è¦åŠ åœ¨ &lt;code>form&lt;/code> ä¸Šè€Œä¸æ˜¯ &lt;code>submit button&lt;/code> ä¸Š&lt;/p>
&lt;h2 id="2-this">2. this&lt;/h2>
&lt;p>åœ¨ jquery è£¡æœ‰æ™‚å¾Œæœƒç”¨åˆ° handler
æ­£å¸¸æƒ…æ³ä¸‹å¯ä»¥ç”¨ arrow function
ä½†æ˜¯å¦‚æžœç”¨åˆ° &lt;code>this&lt;/code> å°±ä¸èƒ½ç”¨ arrow function äº†
ï¼ˆé€™ä¸åªæ˜¯ jquery, JS éƒ½æ˜¯é€™æ¨£ï¼‰&lt;/p></description></item><item><title>Passport.js</title><link>https://blog.simbafs.cc/p/js/passport.js/</link><pubDate>Sun, 15 Mar 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/passport.js/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/passport.js.png" alt="Featured image of post Passport.js" />&lt;h1 id="passportjs">Passport.js&lt;/h1>
&lt;p>ä»Šå¤©çµ‚æ–¼æŠŠç™»å…¥åšå®Œäº†
æˆ‘è¦ºå¾—æœ€é‡è¦çš„æ˜¯æ‰¾å¥½çš„æ•™å­¸æ–‡ç« ã€åŽ»çœ‹æ²’æœ‰äººçœ‹å¾—æ‡‚çš„ç¨‹å¼ç¢¼&lt;/p>
&lt;hr>
&lt;h2 id="passportjs-1">passport.js&lt;/h2>
&lt;ol>
&lt;li>å»ºç«‹ strategy&lt;/li>
&lt;li>å¼„ session&lt;/li>
&lt;li>å¼„ auth å‡½å¼
æ²’äº†ï¼&lt;/li>
&lt;/ol>
&lt;p>åƒè€ƒçš„æ•™å­¸æ–‡ï¼šhttps://medium.com/%E9%BA%A5%E5%85%8B%E7%9A%84%E5%8D%8A%E8%B7%AF%E5%87%BA%E5%AE%B6%E7%AD%86%E8%A8%98/%E7%AD%86%E8%A8%98-%E9%80%8F%E9%81%8E-passport-js-%E5%AF%A6%E4%BD%9C%E9%A9%97%E8%AD%89%E6%A9%9F%E5%88%B6-11cf478f421e
é›–ç„¶é€™å€‹ä¹Ÿæ²’æœ‰å¥½åˆ°å“ªè£¡åŽ»ä½†è‡³å°‘æˆ‘çœ‹è‘—ä»–åšå‡ºä¾†äº†ï¼Œæœ‰äº›éƒ¨ä»½æ˜¯åƒè€ƒä½œè€…çš„é¤å»³ç¨‹å¼&lt;/p></description></item><item><title>sqlite3</title><link>https://blog.simbafs.cc/p/js/sqlite/</link><pubDate>Fri, 13 Mar 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/sqlite/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/sqlite.png" alt="Featured image of post sqlite3" />&lt;h1 id="sqlite3">sqlite3&lt;/h1>
&lt;p>æ˜¨å¤©æ˜¯è©¦è‘—åŽ»ç†è§£ sqlite3ï¼Œæˆ‘ç™¼ç¾ä»–çš„ callback function çœŸçš„å¤ªç…©äº†
æ–¼æ˜¯æˆ‘è©¦è‘—åŽ»å°‹æ‰¾ async çš„ç‰ˆæœ¬ï¼Œé‚„çœŸæ‰¾åˆ°äº†
é€™å€‹å¥—ä»¶æŠŠæ•´å€‹ sqlite åŒ…æˆ async äº†&lt;/p>
&lt;hr>
&lt;h2 id="install">install&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ npm i sqlite-async
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="some-sample-code">some sample code&lt;/h2>
&lt;p>é€™è£¡æ˜¯ä»¥çŸ­ç¶²å€éƒ¨ä»½ç‚ºç¯„ä¾‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å› ç‚ºé€™å€‹éœ€è¦ await æ‰€ä»¥è¦æ”¾åœ¨ async å‡½æ•¸è£¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">sqlite&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;sqlite-async&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€™è£¡å› ç‚ºé–‹ DB æœƒå»¶é²ï¼Œæ‰€ä»¥è¦ await ä¸€ä¸‹ï¼Œä¸ç„¶ç­‰ç­‰æœƒ undefined
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">Url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">sqlite&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Url.db&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€™è£¡ä¸èƒ½åŠ  await ä¸ç„¶å‡ºéŒ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Url&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`CREATE TABLE IF NOT EXISTS Url (
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> url STRING,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> code STRING
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> )`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€™è£¡ä¹Ÿè¦åŠ  await å› ç‚ºé€™ä¹Ÿæ˜¯ async
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">stat&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">Url&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prepare&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`INSERT INTO Url VALUES (?, ?)`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stat&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://google.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;goo&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stat&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://youtube.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;yt&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stat&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://gmail.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;gmail&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stat&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://ckcsc,net&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;ckcsc&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€™è¡Œå’Œä¸Šé¢å››è¡Œé¸ä¸€å€‹åŠ  await å¦å‰‡æœƒæœ‰äº›å®¶ä¸é€²åŽ»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">stat&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">finalize&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€™è£¡ç”¨ then ä¹Ÿå¯ä»¥ç”¨ awaitï¼Œthen æœƒå›žå‚³ä¸€å€‹åŒ…å«å›žå‚³å€¼çš„é™£åˆ—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">Url&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;SELECT * FROM Url&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>isolate</title><link>https://blog.simbafs.cc/p/linux/isolate/</link><pubDate>Mon, 09 Mar 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/isolate/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/isolate.png" alt="Featured image of post isolate" />&lt;h1 id="isolate">isolate&lt;/h1>
&lt;p>æˆ‘æœ‰ä¸€å€‹æ”¾äº†å¾ˆä¹…çš„è¨ˆç•«ï¼Œå°±æ˜¯è‡ªå·±å¯«ä¸€å€‹ OJï¼Œå› ç‚ºæˆ‘è¦ºå¾—ç¾åœ¨çš„é‚£å€‹å¤ªé›£ç”¨äº†ã€‚
æˆ‘å¾ˆå¿«çš„å»ºç«‹ repo ä½†æ˜¯å»å®Œå…¨æ²’æœ‰é€²å±•ï¼Œæˆ‘å¯«äº†ä¸€å€‹ shell script å¹«å¿™ç·¨è­¯åŸ·è¡Œç¨‹å¼ä¹‹å¾Œæˆ‘å°±åœ¨ä¹Ÿæ²’æœ‰å‹•éŽä»–äº†
æˆ‘æ²’æœ‰ç¹¼çºŒå‹•å·¥çš„åŽŸå› æ˜¯æˆ‘ä¸çŸ¥é“å¦‚ä½•éš”é›¢ä½¿ç”¨è€…æäº¤çš„ç¨‹å¼ç¢¼
æˆ‘æƒ³éŽ docker å¯æ˜¯æ“šèªªé‚„æ˜¯ä¸å®‰å…¨
é‚„æœ‰ chroot ä½†æ˜¯æˆ‘ä¸çŸ¥é“æœ‰æ²’æœ‰æ¯” docker å®‰å…¨è€Œä¸”è¨­å®šå¥½éº»ç…©&lt;/p>
&lt;p>æ˜¨å¤©åŽ»è€ƒ TOI ã€€å…¥ç‡Ÿè€ƒï¼ˆç•¶ç„¶æ²’é€²ï¼‰çš„æ™‚å€™ï¼Œæˆ‘çµ‚æ–¼çœ‹åˆ°å¤§åé¼Žé¼Žçš„ CMS äº†ï¼
å‡ºä¾†ä¹‹å¾Œæˆ‘ç™¼ç¾ä»–æ˜¯ç”¨ä¸€å€‹å« isolate çš„ç¨‹å¼ä¾†åšæ²™ç®±æ¸¬è©¦
è€Œä¸”é€™å¥½åƒæ˜¯ IOI è‡ªå·±å¯«çš„ï¼Œæ‡‰è©²æ˜¯è »å®‰å…¨çš„ï¼ˆå§ï¼Ÿï¼‰
ä»Šå¤©æˆåŠŸç·¨è­¯éŽå¾ŒæŠŠå¿ƒå¾—å¯«ä¸‹ä¾†&lt;/p>
&lt;hr>
&lt;h2 id="ç·¨è­¯">ç·¨è­¯&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ git clone https://github.com/ioi/isolate/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cd isolate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo apt install asciidoc libcap-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€¶ï¼ç·¨è­¯/å®‰è£å®Œæˆäº†&lt;/p>
&lt;hr>
&lt;h2 id="å»ºç«‹æ²™ç®±åŸ·è¡Œç¨‹å¼">å»ºç«‹æ²™ç®±/åŸ·è¡Œç¨‹å¼&lt;/h2>
&lt;p>å»ºç«‹å¥½ä¹‹å¾Œåˆ‡åˆ° root åŽ»
ç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># isolate --init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/var/local/lib/isolate/0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ä¸€å€‹æ–°çš„æ²™ç®±
ä»–æœƒè¼¸å‡ºæ²™ç®±æ‰€åœ¨çš„ç›®éŒ„&lt;/p>
&lt;p>æŽ¥ä¸‹ä¾†æŠŠè¦åŸ·è¡Œçš„æª”æ¡ˆæ”¾åœ¨ &lt;code>/var/local/lib/isolate/0/box&lt;/code> è£¡é¢ï¼ˆè¦çµ¦åŸ·è¡Œæ¬Šï¼‰
hello.sh&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nb">echo&lt;/span> Hello World
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># isolate --run hello.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hello World
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OK (0.005 sec real, 0.020 sec wall)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»–æœ€å¾Œæœƒè¼¸å‡ºåŸ·è¡Œæ™‚é–“å’ŒåŸ·è¡ŒæˆåŠŸçš„è¨Šæ¯
å…¶ä»–çš„å…§å®¹ç­‰ç­‰å†è£œ&lt;/p></description></item><item><title>youtube-dl</title><link>https://blog.simbafs.cc/p/linux/youtube-dl/</link><pubDate>Wed, 04 Mar 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/youtube-dl/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/youtube-dl.png" alt="Featured image of post youtube-dl" />&lt;h1 id="youtube-dl">Youtube DL&lt;/h1>
&lt;p>æœ€è¿‘åœ¨ä¸‹è¼‰ youtube éŸ³æ¨‚ï¼Œæ¯æ¬¡ä¸‹è¼‰éƒ½è¦æŠŠæª”æ¡ˆé‡æ–°æ”¹åï¼Œå¾ˆéº»ç…©ã€‚æ‰€ä»¥å°±æƒ³è¦å¯«ä¸€å€‹ shell script ä¾†å¹«æˆ‘è§£æ±ºã€‚
é¦–å…ˆæ”¹åå­—æˆ‘ç›¸ä¿¡ youtube-dl ä¸€å®šæœ‰æä¾›é€™å€‹é¸é …ï¼Œæ–¼æ˜¯é–‹å§‹æŸ¥æ–‡ä»¶ã€‚
çœ‹åˆ° &lt;code>-o&lt;/code> ï¼ŒæŽ¥ä¸‹ä¾†è¬›é‡åˆ°çš„å‘&lt;/p>
&lt;h2 id="-o-å‘">&lt;code>-o&lt;/code> å‘&lt;/h2>
&lt;p>&lt;code>-o&lt;/code> å¾Œé¢æŽ¥çš„æ˜¯ä¸€å€‹ template string ï¼Œä¸æ˜¯æª”åï¼Œè€Œä¸”å°±ç®—æŒ‡å®šå‰¯æª”åæ˜¯ .mp3 äº†é‚„æ˜¯è¦å¯«æˆ &lt;code>%(ext)s&lt;/code>&lt;/p></description></item><item><title>Blessed Landmine</title><link>https://blog.simbafs.cc/p/js/blessed/blessed-landmine/</link><pubDate>Wed, 26 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/blessed/blessed-landmine/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/blessed/blessed-landmine.png" alt="Featured image of post Blessed Landmine" />&lt;h1 id="blessed-landmine">Blessed Landmine&lt;/h1>
&lt;p>é€™æ˜¯ä¸€ç¯‡æˆ‘åœ¨ç”¨ blessed æ™‚è¸©çš„ä¸€äº›é›·&lt;/p>
&lt;h2 id="1-è¨˜å¾—-render">1. è¨˜å¾— render&lt;/h2>
&lt;p>ä»Šå¤©åœ¨å¯« API æ™‚è¸©åˆ°å…©æ¬¡
æ›´æ–°äº†è³‡æ–™å»æ²’æœ‰ render
ä¾‹å¦‚ &lt;code>textarea.setValue()&lt;/code> é€™å€‹å‡½å¼è¨­å®šå®Œä¹‹å¾Œä»–ç•«é¢ä¸æœƒæ›´æ–°
è¦è‡ªå·± render&lt;/p>
&lt;h2 id="2-textareasetvalue-åªæŽ¥å—å­—ä¸²ç•¶åƒæ•¸">2. &lt;code>textarea.setValue()&lt;/code> åªæŽ¥å—å­—ä¸²ç•¶åƒæ•¸&lt;/h2>
&lt;p>æˆ‘å€‹äººè¦ºå¾— blessed ç¼ºå°‘ä¸€å€‹åƒæ˜¯ jquery çš„å‡½å¼åº«
æ²’æœ‰ä¸€å€‹å¾ˆå¥½çš„ API åŒ…è£
ä¾‹å¦‚èªªé€™å€‹å‡½å¼ &lt;code>textarea.setValue()&lt;/code> å°±åªåƒå­—ä¸²
å› ç‚ºä»–ç”¨äº† String.prototype.replace é€™å€‹å‡½æ•¸
è€Œä¸”ä»–æ²’æœ‰ä¸€å€‹å¾ˆå¥½çš„é˜²å‘†æ©Ÿåˆ¶ä¾‹å¦‚åƒæ•¸åž‹åˆ¥æª¢æŸ¥
å¹¸å¥½æ˜¯ä»–çš„ç¨‹å¼ç¢¼æ²’æœ‰åš uglify
é‚„ç®—ç°¡å–®æ˜“æ‡‚
è€Œä¸” node çš„éŒ¯èª¤è¨Šæ¯çš„ stack å¯ä»¥å¼•å°Žåˆ°çœŸæ­£å‡ºéŒ¯çš„åœ°æ–¹&lt;/p></description></item><item><title>SSH Tunnel</title><link>https://blog.simbafs.cc/p/linux/ssh-tunnel/</link><pubDate>Mon, 24 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/ssh-tunnel/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/ssh-tunnel.png" alt="Featured image of post SSH Tunnel" />&lt;h1 id="ssh-tunnel">SSH Tunnel&lt;/h1>
&lt;p>æ˜¨å¤©æž¶å¥½äº† reverse ssh è®“æˆ‘å¯ä»¥é€£å›žå­¸æ ¡ server
ä»Šå¤©ä¾†ç ”ç©¶ ssh tunnel&lt;/p>
&lt;h2 id="ç°¡ä»‹">ç°¡ä»‹&lt;/h2>
&lt;p>ssh tunnel åˆ†æ­£åå‘
å…¶å¯¦ä»–å€‘çš„å·®åˆ¥åªæœ‰åœ¨æ–¹å‘ä¸ä¸€æ¨£
é€£èªžæ³•åƒæ•¸éƒ½ä¸€æ¨£&lt;/p>
&lt;h2 id="æ­£å‘-tunnel">æ­£å‘ tunnel&lt;/h2>
&lt;p>æ­£å‘çš„ tunnel åƒæ•¸æ˜¯ -L
èªžæ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh -L [bind_address:]port:host:hostport
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh -L [bind_address:]port:remote_socket
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh -L local_socket:host:hostport
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh -L local_socket:remote_socket
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åå‘-tunnel">åå‘ tunnel&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh -R [bind_address:]port:host:hostport
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh -R [bind_address:]port:local_socket
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh -R remote_socket:host:hostport
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh -R remote_socket:local_socket
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ssh -R [bind_address:]port
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å¿ƒå¾—">å¿ƒå¾—&lt;/h2>
&lt;p>çœ‹èµ·ä¾†å¥½åƒå¾ˆé›£
ä½†æ˜¯å…¶å¯¦ç”¨ä¸‹é¢é€™å€‹å°±å¤ äº†
æ­£å‘ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh -L &amp;lt;local port&amp;gt;:localhost:&amp;lt;remote port&amp;gt; &amp;lt;user&amp;gt;@&amp;lt;remote&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åå‘;&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh -R &amp;lt;remote port&amp;gt;:localhost:&amp;lt;local port&amp;gt; &amp;lt;user&amp;gt;@&amp;lt;remote&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¸½è€Œè¨€ä¹‹å°±æ˜¯å‰é¢çš„å’Œé¸é …ä¸€æ¨£
å¦‚æžœæ˜¯ -L é‚£å‰é¢å°±æ˜¯ local port
å¦‚æžœæ˜¯ -R é‚£å‰é¢å°±æ˜¯ remote port&lt;/p>
&lt;h2 id="åƒè€ƒé€£çµ">åƒè€ƒé€£çµ&lt;/h2>
&lt;p>&lt;a class="link" href="https://johnliu55.tw/ssh-tunnel.html" target="_blank" rel="noopener"
>https://johnliu55.tw/ssh-tunnel.html&lt;/a>&lt;/p></description></item><item><title>Reverse SSH</title><link>https://blog.simbafs.cc/p/linux/reverse-ssh/</link><pubDate>Sun, 23 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/reverse-ssh/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/reverse-ssh.png" alt="Featured image of post Reverse SSH" />&lt;h1 id="reverse-ssh">Reverse SSH&lt;/h1>
&lt;p>ä¸€ç›´ä»¥ä¾†é€£ç·šå›žç¤¾è¾¦çš„é›»è…¦éƒ½è¦èµ° webtty å†é–‹ tmate
ä½†æ˜¯ä»Šå¤©ç™¼ç¾äº†ä¸€å€‹æ–°çš„æ–¹æ³•å¯ä»¥é€éŽåå‘çš„ ssh é€£å›žç¤¾è¾¦&lt;/p>
&lt;h2 id="reverse-ssh-1">reverse ssh&lt;/h2>
&lt;p>åœ¨ç¤¾è¾¦é›»è…¦&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ssh -NfR 2222:localhost:22 simba@simba-vps
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å¯ä»¥å»ºç«‹ä¸€å€‹é€£ç·š
é€™æ™‚å€™åˆ° simba-vps&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ssh server@localhost -p 2222
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°±å¯ä»¥é€£ç·šå›žç¤¾è¾¦ä¼ºæœå™¨äº†&lt;/p>
&lt;h2 id="autossh">autossh&lt;/h2>
&lt;p>ä½†æ˜¯é€™æ¨£åš ssh é€£ç·šæœ‰å¯èƒ½æœƒè¶…æ™‚ç„¶å¾Œæ–·æŽ‰
é€™æ™‚å€™å¯ä»¥é€éŽ autossh ä¾†å¹«æˆ‘å€‘è‡ªå‹•å»ºç«‹é€£ç·š
åœ¨ç¤¾è¾¦é›»è…¦&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ apt install autossh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ autossh -Mf 2222 -NR 1111:localhost:22 simba@simba-vps -p 22
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£å°±å¯ä»¥åœ¨ vps ä¸Š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ ssh server@localhost -p 1111
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¾†é€£å›žç¤¾è¾¦å•¦ï¼
æœ€å¾Œå¯ä»¥æŠŠé€™å †åœ¨ vps ä¸Šå†åšä¸€æ¬¡å°±å¯ä»¥åœ¨ internet é€£å›žç¤¾è¾¦ä¼ºæœå™¨äº†&lt;/p>
&lt;h2 id="åƒè€ƒç¶²å€">åƒè€ƒç¶²å€&lt;/h2>
&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/15983795/how-do-i-establish-a-bidirectional-ssh-tunnel" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/15983795/how-do-i-establish-a-bidirectional-ssh-tunnel&lt;/a>&lt;br>
&lt;a class="link" href="https://ez3c.tw/2043" target="_blank" rel="noopener"
>https://ez3c.tw/2043&lt;/a>&lt;br>
&lt;a class="link" href="https://www.ubuntu-tw.org/modules/newbb/viewtopic.php?viewmode=compact&amp;amp;topic_id=17538&amp;amp;forum=7" target="_blank" rel="noopener"
>https://www.ubuntu-tw.org/modules/newbb/viewtopic.php?viewmode=compact&amp;topic_id=17538&amp;forum=7&lt;/a>&lt;br>
&lt;a class="link" href="http://blog.adahsu.net/2007/11/ssh-reverse-tunnel.html" target="_blank" rel="noopener"
>http://blog.adahsu.net/2007/11/ssh-reverse-tunnel.html&lt;/a>&lt;br>
&lt;a class="link" href="https://codertw.com/%E4%BC%BA%E6%9C%8D%E5%99%A8/377688/" target="_blank" rel="noopener"
>https://codertw.com/%E4%BC%BA%E6%9C%8D%E5%99%A8/377688/&lt;/a>&lt;br>
é€™ç¯‡è¬› ssh tunnel æœ€æ¸…æ¥š&lt;br>
&lt;a class="link" href="https://yu-jack.github.io/2019/01/08/ssh-tunnel/" target="_blank" rel="noopener"
>https://yu-jack.github.io/2019/01/08/ssh-tunnel/&lt;/a>&lt;/p></description></item><item><title>Unix Socket</title><link>https://blog.simbafs.cc/p/js/unix-socket/</link><pubDate>Sun, 23 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/unix-socket/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/unix-socket.png" alt="Featured image of post Unix Socket" />&lt;h1 id="unix-socket">Unix Socket&lt;/h1>
&lt;p>ä»Šå¤©å¿ƒè¡€ä¾†æ½®åœ¨çœ‹ unix socket
çªç„¶æƒ³åˆ° node å¯ä¸å¯ä»¥æŠŠ æœå‹™ç›£è½åœ¨ä¸€å€‹ socket file
é€™æ¨£åœ¨è¨­å®šçš„æ™‚å€™å°±ä¸ç”¨è¨˜å“ªå€‹æœå‹™æ˜¯å¹¾ port&lt;/p>
&lt;h2 id="node-éƒ¨ä»½">node éƒ¨ä»½&lt;/h2>
&lt;h2 id="ç›£è½åœ¨-unix-socket">ç›£è½åœ¨ unix socket&lt;/h2>
&lt;p>æŸ¥å®Œè³‡æ–™å¾Œç™¼ç¾å…¶å¯¦åªè¦æŠŠåŽŸæœ¬å¡« port çš„åœ°æ–¹æ”¹æˆ socket file çš„è·¯å¾‘å°±å¥½äº†
åƒé€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello World\n&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/tmp/express.sock&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆªé™¤-socket-file">åˆªé™¤ socket file&lt;/h2>
&lt;p>å› ç‚ºæ¯æ¬¡çš„ listen éƒ½æœƒæ–°å¢žä¸€å€‹ socket file
ç›¸ç•¶æ–¼ä½”ç”¨ä¸€å€‹ port
å¦‚æžœä¸åˆªé™¤çš„è©±å°±ç›¸ç•¶æ–¼ port è¢«ä½”ç”¨äº†
æœƒå™´éŒ¯
æ‰€ä»¥æ¯æ¬¡ç¨‹å¼çµæŸçš„æ™‚å€™è¦æŠŠé€™å€‹ socket file åˆªæŽ‰
ç„¶å¾Œåœ¨ &lt;code>/tmp&lt;/code> ä¸‹çš„æª”æ¡ˆæœƒåœ¨é–‹æ©Ÿå¾Œè‡ªå‹•åˆªæŽ‰
æ‰€ä»¥å¦‚æžœéƒ¨å±¬å¾Œç™¼ä»€éº¼å•é¡Œé‡é–‹æ©Ÿå°±å°äº†ï¼
ä¿®æ”¹å®Œçš„ code é•·é€™æ¨£&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello World\n&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/tmp/express.sock&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;SIGINT&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unlinkSync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/tmp/express.sock&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ¸¬è©¦">æ¸¬è©¦&lt;/h2>
&lt;p>å¼„å®Œäº†ä¼ºæœå™¨
è¦æ€Žéº¼æ¸¬è©¦å‘¢ï¼Ÿ
é€™æ™‚å€™å¯ä»¥ç”¨ &lt;code>curl&lt;/code> ä¾†æ¸¬è©¦&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ curl --unix-socket /tmp/express.sock http://localhost
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hello World
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="nginx-reverse-proxy">nginx reverse proxy&lt;/h2>
&lt;p>ç¾åœ¨æˆ‘å€‘æŠŠä¼ºæœå™¨é–‹å¥½äº†
ä½†æ˜¯ unix socket åªèƒ½åœ¨æœ¬æ©Ÿç€è¦½å•Šï¼
æ‰€ä»¥æˆ‘å€‘è¦é€éŽ nginx ä¾†å¹«å¿™åš reverse proxy
å…ˆæ–°å¢žä¸€å€‹ &lt;code>/etc/nginx/sites-available/test.conf&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">server{
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 80;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name t.localhost;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://unix:/tmp/express.sock:/;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œåœ¨ &lt;code>/etc/hosts&lt;/code> æ–°å¢žä¸€æ¢&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">127.0.0.1 t.localhost
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€å¾Œå°±å¯ä»¥æ‰“é–‹ç€è¦½å™¨ &lt;a class="link" href="http://t.localhost" target="_blank" rel="noopener"
>http://t.localhost&lt;/a>
æ‡‰è©²æœƒå‡ºç¾ 502 Getway Error
ç‚ºä»€éº¼å‘¢ï¼Ÿ
å› ç‚º socket file çš„æ¬Šé™è¨­å®š
å…¶ä»–ä½¿ç”¨è€… (nginx) ç„¡æ³•é–‹å•Ÿ
æ‰€ä»¥è¦&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ chmod 777 /tmp/express.sock
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£å°±å¯ä»¥å•¦ï¼&lt;/p></description></item><item><title>Blessed åˆ‡æ›ç•«é¢</title><link>https://blog.simbafs.cc/p/js/blessed/blessed%E5%88%87%E6%8F%9B%E7%95%AB%E9%9D%A2/</link><pubDate>Thu, 20 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/blessed/blessed%E5%88%87%E6%8F%9B%E7%95%AB%E9%9D%A2/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/blessed/blessed%E5%88%87%E6%8F%9B%E7%95%AB%E9%9D%A2.png" alt="Featured image of post Blessed åˆ‡æ›ç•«é¢" />&lt;h1 id="blessed-åˆ‡æ›ç•«é¢">Blessed åˆ‡æ›ç•«é¢&lt;/h1>
&lt;p>ä»Šå¤©å®Œæˆäº†æ–°ç‰ˆæœ¬çš„ &lt;code>treetify&lt;/code> &lt;a class="link" href="https://blog.simbafs.cc/2020/02/18/blessed-contrib-tree/" >çœ‹é€™&lt;/a>
åŒæ™‚æˆ‘è¨­è¨ˆå¥½äº†å³é‚Šçš„ &lt;code>edit&lt;/code>
ä½†æ˜¯æˆ‘çš„å•é¡Œæ˜¯ä»–è¦æ ¹æ“šæƒ…æ³ä¸åŒåˆ‡æ›ä¸åŒçš„é é¢
ä¾†çœ‹çœ‹æˆ‘çš„ä¸€äº›æƒ³æ³•ï¼š&lt;/p>
&lt;ol>
&lt;li>å¾ž &lt;code>screen.children[2]&lt;/code> æŠŠä»–æœƒæŽ‰ï¼Œå¯æ˜¯æœƒå‡ºéŒ¯ä¸è¡Œ&lt;/li>
&lt;li>æœ‰ä¸€å€‹å…ƒä»¶ &lt;code>Carousel&lt;/code> å¥½åƒå¯ä»¥ä½†æ˜¯ä»–å…¶å¯¦æ˜¯ç”¨æ–¹å‘éµæŽ§åˆ¶æ‰€ä»¥ä¹Ÿä¸è¡Œ&lt;/li>
&lt;li>çµ‚æ–¼æˆ‘æƒ³äº†ä¸€å€‹æ–¹æ³•ï¼ŒæŽ¥ä¸‹ä¾†ä¾†ä»‹ç´¹
é€™æ˜¯æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">blessed&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;blessed&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">contrib&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;blessed-contrib&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">screen&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">blessed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">screen&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;JSON viewer&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">debug&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">grid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">contrib&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">grid&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rows&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cols&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">screen&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">screen&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">tree&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">grid&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">blessed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">box&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">border&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;line&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Tree&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Tree&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">edit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">grid&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">blessed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">box&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">border&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;line&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Edit&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Edit&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">box2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">blessed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">box&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">border&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;line&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Box2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Box2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">box3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">blessed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">box&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">border&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;line&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Box3&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Box3&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">box4&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">blessed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">box&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">border&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;line&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Box4&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Box4&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">box5&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">blessed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">box&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">border&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;line&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Box5&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">label&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Box5&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">edit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">box2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">edit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">box3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">edit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">box4&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">edit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">box5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">edit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">box2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">edit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">box3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">keys&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">edit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">children&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">screen&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;escape&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;q&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;C-c&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">tree&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">screen&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;tab&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;t&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">ch&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">key&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">screen&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focused&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">tree&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">rows&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="nx">edit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span> &lt;span class="nx">tree&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">screen&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡å»ºç«‹ä¸‰å€‹ &lt;code>box&lt;/code> è¦é¡¯ç¤ºå“ªä¸€å€‹çš„æ™‚å€™å°±å°‡ä»– append
å¯¦é©—è­‰å¯¦é€™æ¨£ä¸æœƒå»ºç«‹æ–°çš„åœ–å±¤
è€Œæ˜¯æŠŠä¸‹é¢çš„é‚£å€‹æ¬åˆ°æœ€ä¸Šé¢
å®Œç¾Žçš„è§£æ±ºäº†é€™å€‹å•é¡Œ&lt;/p></description></item><item><title>Blessed Contrib Tree</title><link>https://blog.simbafs.cc/p/js/blessed/blessed-contrib-tree/</link><pubDate>Tue, 18 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/blessed/blessed-contrib-tree/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/blessed/blessed-contrib-tree.png" alt="Featured image of post Blessed Contrib Tree" />&lt;h1 id="blessed-contrib-tree">blessed Contrib Tree&lt;/h1>
&lt;h2 id="tree">Tree&lt;/h2>
&lt;p>æƒ³èªªå…ˆæƒ³ä¸€å€‹å°ˆæ¡ˆä¾†ç·´ç·´æ‰‹
ç†Ÿæ‚‰ä¸€ä¸‹ blessed
çªç„¶çœ‹åˆ° blessed-contrib è£¡æœ‰å€‹å…ƒä»¶å« &lt;code>tree&lt;/code>
æƒ³èªªå¯ä»¥åšæˆ JSON viewer
æ–¼æ˜¯å°±é–‹å·¥äº†ï¼&lt;/p>
&lt;p>å…¶ä¸­æœ€é‡è¦çš„éƒ¨ä»½å°±æ˜¯æžå®šæ¨¹ç‹€çµæ§‹
å› ç‚ºä»–æœ‰ç‰¹å®šçš„æ ¼å¼å’Œé¸é …
ä¸‹é¢æ˜¯å®˜æ–¹çš„ç¯„ä¾‹&lt;/p>
&lt;h2 id="ç¯„ä¾‹">ç¯„ä¾‹&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extended&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Fruit&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Banana&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Apple&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Cherry&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Exotics&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Mango&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Papaya&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Kiwi&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Kiwi(notthebird!)&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">myCustomProperty&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;hairyfruit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Pear&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Vegetables&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">children&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Peas&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Lettuce&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Pepper&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¯å€‹ç¯€é»žéƒ½æ˜¯ç‰©ä»¶
ä»–çš„å­ç¯€é»žå­˜åœ¨ &lt;code>children&lt;/code> è£¡
å¦‚æžœæ˜¯ç©ºç‰©ä»¶ä»£è¡¨é€™æ˜¯è‘‰ç¯€é»ž
&lt;code>extended&lt;/code> å±¬æ€§æ˜¯æ˜¯å¦å±•é–‹ï¼Œé è¨­ &lt;code>true&lt;/code>
&lt;code>name&lt;/code> æ˜¯é¡¯ç¤ºå‡ºä¾†çš„å­—ï¼Œå¦‚æžœè¦æ”¹å†è¨­ï¼Œé è¨­æ˜¯ &lt;code>index&lt;/code>
&lt;code>myCustomProperty&lt;/code> ç›´ç¿»æ˜¯è‡ªè¨‚å±¬æ€§ï¼Œæ‡‰è©²æ˜¯ç•¶ &lt;code>tree.on('select')&lt;/code> è§¸ç™¼æ™‚å‚³é€²åŽ»çš„&lt;/p></description></item><item><title>Blessed</title><link>https://blog.simbafs.cc/p/js/blessed/blessed/</link><pubDate>Mon, 17 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/js/blessed/blessed/</guid><description>&lt;img src="https://blog.simbafs.cc/og/js/blessed/blessed.png" alt="Featured image of post Blessed" />&lt;h1 id="blessed">Blessed&lt;/h1>
&lt;p>æŸå¤©æˆ‘æœ‰ä¸€å€‹å•é¡Œ
gtop çš„åœ–ç•«ç•Œé¢æ˜¯æ€Žéº¼åšçš„ï¼Œæˆ‘çŸ¥é“ä»–æ˜¯ç”¨ node å¯«çš„ï¼Œå°ä»–åˆ¥æœ‰èˆˆè¶£
æˆ‘ä¸Š github çœ‹ä»–çš„ package.json
ç™¼ç¾ä»–çš„ depandence åªæœ‰ä¸‰å€‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="err">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;dependencies&amp;#34;&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;blessed&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^0.1.81&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;blessed-contrib&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^4.8.16&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;systeminformation&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^4.14.4&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;span class="err">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ &lt;code>systeminformation&lt;/code> å¾ˆé¡¯ç„¶æ˜¯å–å¾—ç³»çµ±è³‡è¨Š
é‚£ GUI çš„ library æ‡‰è©²å°±æ˜¯ &lt;code>blessed&lt;/code> å’Œ &lt;code>blessed-contrib&lt;/code> äº†
åŽ» &lt;code>blessed&lt;/code> çš„ github çœ‹çœ‹
æ²’æƒ³åˆ°é€™æ˜¯ä¸€å€‹è¶…å¼·å¤§çš„å‡½å¼åº«
å¯æ˜¯ç¶²è·¯ä¸Šçš„æ•™å­¸å»å¾ˆå°‘
åªå¥½è‡ªå·±çœ‹ docs å•¦&lt;/p>
&lt;p>æŽ¥ä¸‹ä¾†æ˜¯æˆ‘æ¸¬è©¦çš„ä¸€äº›ç¨‹å¼ç¢¼å’Œæˆªåœ–&lt;/p></description></item><item><title>Server Tool</title><link>https://blog.simbafs.cc/p/linux/server/server-tool/</link><pubDate>Sun, 16 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/server/server-tool/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/server/server-tool.png" alt="Featured image of post Server Tool" />&lt;h1 id="server-tool">Server Tool&lt;/h1>
&lt;h2 id="ç”¨-bash-å¯«-log-åˆ†æžå·¥å…·">ç”¨ bash å¯« log åˆ†æžå·¥å…·&lt;/h2>
&lt;p>å› ç‚ºæˆ‘å€‘çš„ server ä¸çŸ¥é“æ˜¯ç‚ºä»€éº¼ä¸€ç›´å—åˆ° DDoS æ”»æ“Š&lt;br>
æˆ‘æƒ³çŸ¥é“æ˜¯ä»€éº¼æ™‚æ®µå®¹æ˜“å—åˆ°æ”»æ“Šå’Œæ¯æ¬¡å¤šä¹…ã€ä¾†è‡ªé‚£å€‹ ip&lt;br>
æ–¼æ˜¯æˆ‘èŠ±äº†ä¸€é»žæ™‚é–“å¯«äº†å¹¾å€‹ç°¡å–®çš„ script&lt;/p>
&lt;hr>
&lt;h3 id="å…ˆä¾†è¬›æˆ‘é‡åˆ°çš„å‘å¥½äº†">å…ˆä¾†è¬›æˆ‘é‡åˆ°çš„å‘å¥½äº†&lt;/h3>
&lt;h4 id="sh">sh&lt;/h4>
&lt;p>éŽç¨‹ä¸­é‡åˆ°ä¸€å€‹æœ€å¤§çš„å‘æ˜¯åœ¨ ubuntu é è¨­çš„ sh ä¸æ˜¯ bash
æ˜¯ dash
æ“šèªªæ¯”è¼ƒæƒ…è¼•è–„&lt;br>
æˆ‘åœ¨è©¦ bash ä¸­æ•¸å­—çš„é‹ç®—æ¯”è¼ƒæ™‚è¸©åˆ°é€™å€‹å‘&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">b&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">6&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">((&lt;/span> a &amp;gt; b &lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> no
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚ºæˆ‘åœ¨è©¦èªžæ³•æ˜¯å¦æ­£ç¢º
é–‹äº†ä¸€å€‹æ–°çš„æª”æ¡ˆ
æˆ‘æ‡¶çš„ &lt;code>chmod&lt;/code> ç›´æŽ¥ &lt;code>sh tt.sh&lt;/code>
çµæžœ &lt;code>sh&lt;/code> æ˜¯ dash
dash æ²’æœ‰æ”¯æ´é€™å€‹èªžæ³•
ç„¶å¾ŒæŠ“äº†å¿« 20 åˆ†é˜çš„ bug
é‚„æ˜¯ä¹–ä¹–å¯« &lt;code>#!/bin/bash&lt;/code> å§&lt;/p>
&lt;h4 id="floating-point-number">floating point number&lt;/h4>
&lt;p>æˆ‘çš„ script ä¸­æœ‰ç”¨æµ®é»žæ•¸çš„é™¤æ³•
ä½†æ˜¯ bash åªæ”¯æ´æ•´æ•¸
æ‰€ä»¥é™¤å‡ºä¾†éƒ½æ˜¯ 0
é€™å€‹å‘æ²’æœ‰å¾ˆå¤§
å¾ˆå®¹æ˜“è§£æ±º
åªè¦ä½¿ç”¨ &lt;code>bc&lt;/code> é€™å€‹æŒ‡ä»¤å°±å¯ä»¥äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ bc -l &lt;span class="o">&amp;lt;&amp;lt;&amp;lt;&lt;/span> &lt;span class="s1">&amp;#39;100/3&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">33.33333333333333333333
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="associate-array">Associate array&lt;/h4>
&lt;p>åœ¨æœ‰ä¸€å€‹åœ°æ–¹æœ¬ä¾†è¦ç”¨é—œè¯å¼é™£åˆ—ä¾†å­˜ä¸€äº›è³‡æ–™
åœ¨å®šç¾©é—œè¯æ˜¯é™£åˆ—è¦æŠŠ &lt;code>-a&lt;/code> æ”¹æˆ &lt;code>-A&lt;/code>
é€™é‚Šé‡åˆ°ä»€éº¼å•é¡Œæœ‰é»žå¿˜è¨˜äº†
æƒ³åˆ°å†è£œèµ·ä¾†
åæ­£æœ€å¾Œæ²’æœ‰ç”¨é—œè¯å¼é™£åˆ—&lt;/p>
&lt;hr>
&lt;h3 id="å…¶ä»–">å…¶ä»–&lt;/h3>
&lt;h4 id="ç¨‹å¼ç¢¼">ç¨‹å¼ç¢¼&lt;/h4>
&lt;p>&lt;a class="link" href="https://github.com/simba-fs/server-tool" target="_blank" rel="noopener"
>https://github.com/simba-fs/server-tool&lt;/a>
ä»‹ç´¹ï¼š&lt;/p>
&lt;h4 id="barsh">bar.sh&lt;/h4>
&lt;p>Draw a bar from data&lt;/p>
&lt;h4 id="countsh">count.sh&lt;/h4>
&lt;p>Count how many times does each line appear in file&lt;/p>
&lt;h4 id="ipsh">ip.sh&lt;/h4>
&lt;p>Count how many times does each ip send a request&lt;/p>
&lt;h4 id="timesh">time.sh&lt;/h4>
&lt;p>Count how many request in each secend/minute/hour/day&lt;/p>
&lt;h4 id="å¥½ç«™é€£çµ">å¥½ç«™é€£çµ&lt;/h4>
&lt;p>&lt;a class="link" href="https://www.regextester.com/" target="_blank" rel="noopener"
>https://www.regextester.com/&lt;/a>
é€™å€‹ç¶²ç«™å¯ä»¥æ¸¬è©¦ RegEx
è »ä¸éŒ¯çš„&lt;/p></description></item><item><title>ddos</title><link>https://blog.simbafs.cc/p/linux/server/ddos/</link><pubDate>Thu, 13 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/server/ddos/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/server/ddos.png" alt="Featured image of post ddos" />&lt;h1 id="ddos">DDOS&lt;/h1>
&lt;h2 id="ä¼ºæœå™¨è¢«-ddos-æƒ¹">ä¼ºæœå™¨è¢« DDoS æƒ¹&lt;/h2>
&lt;p>ä»Šå¤©æ—©ä¸ŠæŠŠç¤¾åœ˜çš„ reverse proxy server æ›æˆ nginx&lt;br>
ä¸‹åˆå¿ƒè¡€ä¾†æ½®çœ‹çœ‹ log æª”
å› ç‚ºæ²’æœ‰å¯«å¥½çš„å·¥å…·&lt;br>
é¦–å…ˆæŠŠ log æª” cp åˆ°æˆ‘çš„é›»è…¦å†ä¾†è™•ç†&lt;/p>
&lt;hr>
&lt;p>å…ˆå¯«äº†ä¸€å€‹ script ä¾†è¨ˆç®—é‡è¤‡çš„è¡Œæ•¸&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1"># count.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">declare&lt;/span> -A cnt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="nb">read&lt;/span> id extre
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">let&lt;/span> cnt&lt;span class="o">[&lt;/span>&lt;span class="nv">$id&lt;/span>&lt;span class="o">]&lt;/span>++
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> id in &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="p">!cnt[@]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="nv">$id&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">cnt&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nv">$id&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>å†ä¾†ç”¨ &lt;code>awk&lt;/code> æŠŠ &lt;code>status code&lt;/code> æ˜¯ 404 çš„ ip æŒ‘å‡ºä¾†
ç„¶å¾Œä¸Ÿçµ¦ &lt;code>count.sh&lt;/code> è¨ˆç®—æ¯å€‹ ip æœ‰å¹¾å€‹ 404
æœ€å¾Œå†å­˜åˆ° &lt;code>404-ip.txt&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">awk &lt;span class="s1">&amp;#39;$9 == 404 {print $1}&amp;#39;&lt;/span> access.log &lt;span class="p">|&lt;/span> ./count.sh &amp;gt; 404-ip.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>å†ä¾†ç”¨ &lt;code>sort&lt;/code> ä¾†æŽ’åºå‰›å‰›çš„ &lt;code>404-ip.txt&lt;/code>ï¼Œå­˜åˆ° &lt;code>404-ip-sorted.txt&lt;/code>
&lt;code>sort&lt;/code> åŠ ä¸Š &lt;code>-n&lt;/code> é¸é …è®“ä»–ä»¥æ•¸å­—é †æ•¸æŽ’åºï¼Œé è¨­æ˜¯ä»¥ ascii é †åºæŽ’åº
&lt;code>-r&lt;/code> è®“ä»–ç”±å¤§åˆ°å°
&lt;code>-k2&lt;/code> æŒ‡å®šä»¥ç¬¬äºŒæ¬„æŽ’åºï¼Œé è¨­ä»¥ç©ºç™½åˆ†é–‹ï¼Œå¯ä»¥ç”¨ &lt;code>-t&lt;/code> æ”¹è®Šåˆ†éš”ç¬¦è™Ÿ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sort -n 404-ip.txt -k2 -r &amp;gt; 404-ip-sorted.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>é€™æ™‚å€™ä¾†çœ‹çœ‹ &lt;code>404-ip-sorted.txt&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ head 404-ip-sorted.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">91.199.118.175 1329180
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">91.199.118.212 259477
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">163.172.12.108 145050
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">195.154.161.234 142920
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">195.154.102.22 142450
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">195.154.102.191 137800
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">163.172.12.148 132650
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">62.210.220.48 129248
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">195.154.102.159 11353
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">62.210.85.48 11206
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å“‡è³½ï¼ç¬¬ä¸€åçš„ ip é€äº†ä¸€ç™¾ä¸‰åå¤šè¬å€‹è«‹æ±‚&lt;br>
é€™ä»½ log æª”æ˜¯åœ¨æ—©ä¸Šåé»žå¤šæ‰é–‹å§‹ç´€éŒ„çš„&lt;br>
å¹³å‡æ¯ç§’ 41 å€‹è«‹æ±‚
é€™éº¼å¤šéµå®šæ˜¯ ddos
æˆ‘å€‘ä¾†çœ‹çœ‹å®Œæ•´çš„æª”æ¡ˆçœ‹çœ‹æœ‰å¤šå°‘äººåœ¨ DDoS æˆ‘å€‘çš„ server
å—¯ï¼Œç¸½å…±åä¹å€‹ç ´åƒçš„&lt;br>
é€™äº›é€šé€šæœ‰å•é¡Œï¼ˆå…¶å¯¦æ‡‰è©²ä»¥å¹³å‡è«‹æ±‚æ•¸ä¾†çœ‹ï¼Œä½†å¤ªè¤‡é›œäº†æ‰€ä»¥ä»¥å¾Œå†è£œ
æŽ¥ä¸‹ä¾†å°±æŽ¥æŠŠé€™å¹¾å€‹ ip ban æŽ‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ sudo su
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ &lt;span class="nb">cd&lt;/span> /etc/nginx/sites-enabled/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ vi banned-ip.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°‡ ip è²¼åˆ°æ–‡ä»¶è£¡é¢
åœ¨ä¸€èˆ¬æ¨¡å¼ä¸‹åŸ·è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[esc] :%s/^/deny /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[esc] :%s/&amp;amp;/;/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ &lt;span class="nb">cd&lt;/span> ../sites-enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ ln -s ../sites-available
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>$ nginx -t&lt;/code> ç¢ºèªè¨­å®šæª”æ²’å•é¡Œ
&lt;code>$ systemctl restart nginx&lt;/code> ä¾†é‡å•Ÿä¼ºæœå™¨
ç„¶å¾Œå°±å¤§å…¬å‘Šæˆäº†ï½žï½ž
æ˜Žå¤©å†ä¾†çœ‹çœ‹æœ‰æ²’æœ‰å•é¡Œ&lt;/p></description></item><item><title>Nginx Reverse Proxy Setup</title><link>https://blog.simbafs.cc/p/linux/server/nginx-reverse-proxy-setup/</link><pubDate>Thu, 13 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/linux/server/nginx-reverse-proxy-setup/</guid><description>&lt;img src="https://blog.simbafs.cc/og/linux/server/nginx-reverse-proxy-setup.png" alt="Featured image of post Nginx Reverse Proxy Setup" />&lt;h1 id="nginx-åå‘ä»£ç†ä¼ºæœå™¨-reverse-proxy">nginx åå‘ä»£ç†ä¼ºæœå™¨ (reverse proxy)&lt;/h1>
&lt;p>ä¹‹å‰ç¤¾ç¶² server å› ç‚ºå­¸æ ¡é˜²ç«ç‰†é™åˆ¶åªèƒ½å°å¤–é–‹ 80 443 å…©å€‹ port&lt;br>
è€Œä¸”æˆ‘å€‘åªæœ‰ä¸€å€‹ ip (203.64.138.177)&lt;br>
æ‰€ä»¥è¦ç”¨ reverse proxy ä¾†ä»£ç†æˆ‘å€‘çš„å¤šé …æœå‹™&lt;br>
åŽŸæœ¬æˆ‘åªæœƒç”¨ apache2
å¾Œä¾†ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ç‚º apache å¤ªè‚¥å°Žè‡´æœ‰æ™‚å€™å›žæ‡‰æ™‚é–“æœƒå¾ˆä¹…&lt;br>
æ‰€ä»¥æˆ‘èµ·äº†å°‡ proxy server æ›æˆ nginx çš„æƒ³æ³•&lt;/p></description></item><item><title>hexo-config</title><link>https://blog.simbafs.cc/p/hexo/hexo-config/</link><pubDate>Wed, 12 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/hexo/hexo-config/</guid><description>&lt;img src="https://blog.simbafs.cc/og/hexo/hexo-config.png" alt="Featured image of post hexo-config" />&lt;h1 id="å„ç¨®è¨­å®šå€¼å˜—è©¦">å„ç¨®è¨­å®šå€¼å˜—è©¦&lt;/h1>
&lt;h2 id="highlight">Highlight&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- # highlight: rainbow
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+ highlight: rainbow
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7122&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7122&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7122&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Audo Depoly by Github Action</title><link>https://blog.simbafs.cc/p/hexo/audo-depoly-by-github-action/</link><pubDate>Tue, 11 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/hexo/audo-depoly-by-github-action/</guid><description>&lt;img src="https://blog.simbafs.cc/og/hexo/audo-depoly-by-github-action.png" alt="Featured image of post Audo Depoly by Github Action" />&lt;h1 id="github-action-è‡ªå‹•éƒ¨ç½²-hexo">GitHub Action è‡ªå‹•éƒ¨ç½² Hexo&lt;/h1>
&lt;h2 id="è‡ªå‹•éƒ¨å±¬éƒ¨è½æ ¼">è‡ªå‹•éƒ¨å±¬éƒ¨è½æ ¼&lt;/h2>
&lt;p>åƒè€ƒç¶²å€ï¼š&lt;a class="link" href="https://op30132.github.io/2020/02/05/github-action/" target="_blank" rel="noopener"
>https://op30132.github.io/2020/02/05/github-action/&lt;/a>
ç”Ÿæˆå…¬ç§é‘°æ™‚ä¸ç”¨åœ¨éƒ¨è½æ ¼æ ¹ç›®éŒ„ï¼Œè¨˜çš„ä¸è¦åŠ å…¥ gitï¼Œè¦åˆªæŽ‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEXO CI&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">master&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="m">12.&lt;/span>&lt;span class="l">x]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Use Node.js ${{ matrix.node-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-node@v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.node-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Configuration environment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">HEXO_DEPLOY_PRI&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{secrets.HEXO_DEPLOY_PRI}}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> mkdir -p ~/.ssh/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> echo &amp;#34;$HEXO_DEPLOY_PRI&amp;#34; | tr -d &amp;#39;\r&amp;#39; &amp;gt; ~/.ssh/id_rsa
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> chmod 600 ~/.ssh/id_rsa
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ssh-keyscan github.com &amp;gt;&amp;gt; ~/.ssh/known_hosts
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git config --global user.name &amp;#34;simbafs&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git config --global user.email &amp;#34;simbafsgmail.com&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Install dependencies&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> npm i -g hexo-cli
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> npm i -S hexo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> npm i&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hexo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git checkout hexo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">test hexo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo new post telsst&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">list&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ls source/_posts
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> PWD=$(pwd) hexo list post&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo clean&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">generate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo g&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo d&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>gitalk</title><link>https://blog.simbafs.cc/p/hexo/gitalk/</link><pubDate>Tue, 11 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/hexo/gitalk/</guid><description>&lt;img src="https://blog.simbafs.cc/og/hexo/gitalk.png" alt="Featured image of post gitalk" />&lt;h1 id="å•Ÿç”¨-gitalk-ç•™è¨€">å•Ÿç”¨ gitalk ç•™è¨€&lt;/h1>
&lt;ol>
&lt;li>åˆ°&lt;a class="link" href="https://github.com/settings/applications/new" target="_blank" rel="noopener"
>é€™å€‹ç¶²å€&lt;/a>å¡«è³‡æ–™&lt;/li>
&lt;li>åŠ å…¥ä¸‹é¢çš„ç‰‡æ®µåˆ°&lt;code>_config.yml&lt;/code>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">disqus:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> enabled: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gitalk:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> enabled: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> owner: &amp;lt;username&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> repo: &amp;lt;username&amp;gt;.github.io
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> admin: [&amp;#39;&amp;lt;username&amp;gt;&amp;#39;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> clientID: &amp;lt;clientID&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> clientSecret: &amp;lt;clientSecret&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>åŠ å…¥ä¸‹é¢çš„ç‰‡æ®µåˆ°&lt;code>themes/cactus/layout/_partial/comments.ejs&lt;/code>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;% if(page.comments &amp;amp;&amp;amp; theme.gitalk.enabled){ %&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;link rel=&amp;#34;stylesheet&amp;#34; href=&amp;#34;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;script src=&amp;#34;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;script src=&amp;#34;https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;div id=&amp;#34;gitalk-container&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;script type=&amp;#34;text/javascript&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> var gitalk = new Gitalk({
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> clientID: &amp;#39;&amp;lt;%= theme.gitalk.clientID %&amp;gt;&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> clientSecret: &amp;#39;&amp;lt;%= theme.gitalk.clientSecret %&amp;gt;&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id: md5(window.location.pathname),
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> repo: &amp;#39;&amp;lt;%= theme.gitalk.repo %&amp;gt;&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> owner: &amp;#39;&amp;lt;%= theme.gitalk.owner %&amp;gt;&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> admin: &amp;#39;&amp;lt;%= theme.gitalk.admin %&amp;gt;&amp;#39;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> distractionFreeMode: &amp;#39;&amp;lt;%= theme.gitalk.on %&amp;gt;&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> })
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> gitalk.render(&amp;#39;gitalk-container&amp;#39;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/script&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;% } %&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>å®Œæˆï¼æ³¨æ„ gitalk åœ¨æœ¬åœ°ç«¯æ˜¯æ²’æœ‰ç”¨çš„å–”ï¼è¨˜å¾— &lt;code>hexo g; hexo d&lt;/code>&lt;/li>
&lt;/ol></description></item><item><title>hexo-cli-extras</title><link>https://blog.simbafs.cc/p/hexo/hexo-cli-extras/</link><pubDate>Tue, 11 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/hexo/hexo-cli-extras/</guid><description>&lt;img src="https://blog.simbafs.cc/og/hexo/hexo-cli-extras.png" alt="Featured image of post hexo-cli-extras" />&lt;h1 id="å¥½ç”¨çš„æ’ä»¶">å¥½ç”¨çš„æ’ä»¶&lt;/h1>
&lt;p>å› ç‚º hexo æœ¬èº«æ²’æœ‰æä¾›ç·¨è¼¯å™¨&lt;br>
æ‰€ä»¥æ¯æ¬¡åœ¨ç·¨è¼¯æ–‡ç« æ™‚éƒ½éœ€è¦æ‰“è·¯å¾‘&lt;br>
é€™å€‹æ’ä»¶ä»–æœƒåŽ»æ‰¾åˆ°ä½ çš„æ–‡ç« &lt;br>
ç„¶å¾Œçµ¦ä½ é¸è¦ç·¨è¼¯é‚£ä¸€å€‹&lt;br>
é€™åªæ˜¯å…¶ä¸­ä¸€å€‹åŠŸèƒ½&lt;br>
é‚„æœ‰&lt;strong>é‡æ–°å‘½å&lt;/strong>ã€&lt;strong>åˆªé™¤&lt;/strong>ã€&lt;strong>éš”é›¢&lt;/strong>å’Œ&lt;strong>åŠ å…¥&lt;/strong>&lt;br>
&lt;strong>éš”é›¢&lt;/strong>æ˜¯å°‡å…¶ä»–æ–‡ç« æš«æ™‚éš”é›¢ï¼Œ&lt;strong>åŠ å…¥&lt;/strong>æ˜¯å°‡æ–‡ç« åŠ å›žä¾†&lt;/p></description></item><item><title>hexo-installation</title><link>https://blog.simbafs.cc/p/hexo/hexo-installation/</link><pubDate>Mon, 10 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.simbafs.cc/p/hexo/hexo-installation/</guid><description>&lt;img src="https://blog.simbafs.cc/og/hexo/hexo-installation.png" alt="Featured image of post hexo-installation" />&lt;h1 id="æŠŠ-hexo-éƒ¨å±¬åˆ°-gh-page">æŠŠ hexo éƒ¨å±¬åˆ° gh-page&lt;/h1>
&lt;p>åŸ·è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ npm i hexo -g
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ hexo init blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ cd blog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¿®æ”¹ &lt;code>_config.yml&lt;/code> åˆªé™¤æœ€å¾Œå…©è¡Œï¼Œæ”¹æˆ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">deploy:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type: git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> repo: git@github.com:&amp;lt;username&amp;gt;/&amp;lt;repo&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> branch: master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸ·è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ npm i hexo-deployer-git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ hexo depoly
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ repo è¨­å®šä¸­ &lt;code>GitHub Pages&lt;/code> éš¨ä¾¿é¸ä¸€å€‹ Jekyll themeï¼Œé€™æ¨£æ‰ä¸æœƒ 404&lt;/p>
&lt;blockquote>
&lt;p>åœ°é›·ï¼šåœ¨ä¹‹å¾Œéƒ½éƒ¨å±¬è¦åŠ ä¸Š &lt;code>-g&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ hexo d -g
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸ç„¶ä¸æœƒç”Ÿæ•ˆ&lt;/p>
&lt;p>å®Œæˆ!&lt;/p>
&lt;h1 id="å°‡åŽŸå§‹ç¢¼ä¿å­˜">å°‡åŽŸå§‹ç¢¼ä¿å­˜&lt;/h1>
&lt;p>åŸ·è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ git checkout -b hexo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git commit -m init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ git push -u origin hexo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆ&lt;/p></description></item></channel></rss>