<!doctype html><html lang=zh-tw dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="ä»Šå¤©çš„æ±è¥¿ç›¸ç•¶å¤šï¼Œåœ¨ GitHub README Example ä¸­é™¤äº†æ˜¨å¤©ä»‹ç´¹éå¾—ä»Šå¤©éƒ½æ”¶éŒ„äº†ï¼Œç›´æ¥é€²ä¸»é¡Œå§ï¼\nå–”ï¼å¦å¤–æœ‰äº›æ±è¥¿æˆ‘çœŸçš„ä¸çŸ¥é“æ˜¯ä»€éº¼æˆ‘æœƒç”¨åŸæ–‡å¯«ä¸¦ç”¨ä¸­æ–‡æ‹¬è™Ÿæ‹¬èµ·ä¾†ï¼Œæ­¡è¿çŸ¥é“çš„æœ‹å‹ç•™è¨€å‘Šè¨´æˆ‘\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 &#34; è¨­å®šæ–‡å­—ç·¨ç¢¼ï¼ˆæˆ‘æƒ³é€™å€‹ä½ çš„ init.vim/.vimrc éƒ½æ‡‰è©²æœ‰äº†ï¼‰ set encoding=utf-8 &#34; å¦‚æœ hidden æ²’æœ‰è¨­å®šï¼Œã€ŒTextEditã€å¯èƒ½æœƒå¤±æ•— &#34; TextEdit ä¹Ÿè¨±æ˜¯å½ˆå‡ºå¼è¼¸å…¥æ¡†å§ï¼Ÿé˜¿ç½ set hidden &#34; æœ‰äº›ä¼ºæœå™¨å°æ–¼å‚™ä»½æª”æœƒå‡ºéŒ¯ï¼Œè«‹çœ‹ issue #649 &#34; https://github.com/neoclide/coc.nvim/issues/649 set nobackup set nowritebackup &#34; æŠŠä¸‹é¢çš„å‘½ä»¤æ¬„è®Šé«˜ï¼Œå¤šä¸€é»ç©ºé–“ set cmdheight=2 &#34; ä¸å‚³è¨Šæ¯çµ¦ã€Œ|ins-completion-menu|ã€ï¼ˆé€™æˆ‘çœ‹ä¸å¤ªå‡ºä¾†æœ‰ä»€éº¼å·® set shortmess+=c &#34; ä½¿ç”¨ <c-space> è§¸ç™¼è‡ªå‹•å®Œæˆ if has('nvim') inoremap <silent><expr> <c-space> coc#refresh() else inoremap <silent><expr> <c-@> coc#refresh endif &#34; ç”¨ `[g` å’Œ `]g` è·³åˆ°è¨ºæ–·çš„ä½ç½®ï¼ˆå°±æ˜¯ç¨‹å¼ç¢¼æœ‰å•é¡Œåœ°æ–¹ &#34; ç”¨å‘½ä»¤ `:CocDiagnostics` åœ¨åˆ†å‰²è¦–çª—åˆ—å‡ºç›®å‰æª”æ¡ˆä¸­æ‰€æœ‰æœ‰å•é¡Œçš„é» nmap <silent> [g <Plug>(coc-diagnostic-prev) nmap <silent> ]g <Plug>(coc-diagnostic-next) &#34; ç¨‹å¼ç¢¼è½‰è·³ï¼ˆé€™å€‹æˆ‘è¦ºå¾—æœ‰é»é›£è¨˜ï¼Œè€Œä¸”é€™å››å€‹å¯¦é©—å‡ºä¾†æ•ˆæœéå¸¸åƒï¼Œæˆ‘çš„å»ºè­°æ˜¯è©¦éå¾Œé¸ä½ è¦ºå¾—é †çœ¼çš„ï¼Œä¸è¦å…¨ä¸Š nmap <silent> gd <Plug>(coc-definition) nmap <silent> gy <Plug>(coc-type-definition) nmap <silent> gi <Plug>(coc-implementation) nmap <silent> gr <Plug>(coc-references) &#34; ç”¨ Kï¼ˆæ³¨æ„å¤§å¯«ï¼‰é¡¯ç¤ºæ–‡ä»¶åœ¨åˆ†å‰²è¦–çª— nnoremap <silent> K :call <SID>show_documentation()<CR> function! s:show_documentation() if (index(['vim','help'], &amp;filetype) >= 0) execute 'h '.expand('<cword>') elseif (coc#rpc#ready()) call CocActionAsync('doHover') else execute '!' . &amp;keywordprg . &#34; &#34; . expand('<cword>') endif endfunction &#34; çªé¡¯æ¸¸æ¨™ä¸‹çš„ç¬¦è™Ÿï¼ˆé€™æ˜¯æ·¡æ·¡çš„ç°è‰² autocmd CursorHold * silent call CocActionAsync('highlight') &#34; æ•´ç†ç¨‹å¼ç¢¼ï¼Œä½†æ˜¯æˆ‘å€‘åœ¨ Day 15 è£é Chiel92/vim-autoformat äº†ï¼Œcoc çš„ autoformat åœ¨é‡åˆ°ä¸æœƒçš„æƒ…æ³æœƒç›´ç™½çš„å™´éŒ¯æ¯”è¼ƒé†œï¼Œ &#34; ç›¸è¼ƒä¹‹ä¸‹ vim-autoformat æ¯”è¼ƒå¥½çœ‹ï¼Œæ‰€ä»¥æˆ‘å»ºè­°å…©å€‹é¸ä¸€å€‹ï¼Œä¸è¦éƒ½è£ xmap <leader>f <Plug>(coc-format-selected) nmap <leader>f <Plug>(coc-format-selected) augroup mygroup autocmd! &#34; è¨­å®šæŒ‡å®šæª”æ¡ˆçš„ formatter autocmd FileType typescript,json setl formatexpr=CocAction('formatSelected') &#34; Update signature help on jump placeholder.ï¼ˆé€™å€‹çœŸçš„ä¸æœƒç¿»è­¯ autocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp') augroup end &#34; å°‡ codeAction æ‡‰ç”¨åˆ°é¸å–çš„å€åŸŸ &#34; ç¯„ä¾‹ï¼š`<leader>aap` å°æ‡‰ä¸€å€‹æ®µè½ (ap = a paragraphï¼ŒåŒç† aw = a word) xmap <leader>a <Plug>(coc-codeaction-selected) nmap <leader>a <Plug>(coc-codeaction-selected) &#34; å°‡ codeaction æ‡‰ç”¨åˆ°é€™å€‹æª”æ¡ˆ nmap <leader>ac <Plug>(coc-codeaction) &#34; è‡ªå‹•ä¿®è£œç›®å‰é€™è¡Œï¼ˆé€™è¦ language server æœ‰æä¾› nmap <leader>qf <Plug>(coc-fix-current) &#34; æ˜ å°„å‡½æ•¸å’Œé¡åˆ¥ï¼ˆå—ï¼Ÿæ¸¬è©¦èµ·ä¾†æ€ªæ€ªçš„ &#34; æ³¨æ„ï¼šéœ€è¦ language server æ”¯æ´ 'textDocument.documentSymbol' xmap if <Plug>(coc-funcobj-i) omap if <Plug>(coc-funcobj-i) xmap af <Plug>(coc-funcobj-a) omap af <Plug>(coc-funcobj-a) xmap ic <Plug>(coc-classobj-i) omap ic <Plug>(coc-classobj-i) xmap ac <Plug>(coc-classobj-a) omap ac <Plug>(coc-classobj-a) &#34; ç”¨ CTRL-S é¸å–æ•´å€‹å‡½æ•¸æˆ–æ˜¯é¡åˆ¥ &#34; éœ€è¦ language server æ”¯æ´ 'textDocument/selectionRange' nmap <silent> <C-s> <Plug>(coc-range-select) xmap <silent> <C-s> <Plug>(coc-range-select) &#34; æ–°å¢ `:Format` å‘½ä»¤ï¼Œå’Œ Chiel92/vim-autoformat é¸ä¸€å€‹å°±è¡Œäº† command! -nargs=0 Format :call CocAction('format') &#34; æ–°å¢ `:Fold` å‘½ä»¤ï¼Œå¯ä»¥æŠ˜ç–Šç›®å‰çš„æª”æ¡ˆï¼ˆæˆ‘æ€éº¼æ¸¬è©¦å°±æ˜¯æŠ˜ä¸èµ·ä¾†ï¼Œä¸ç¢ºå®šåˆ°åº•åœ¨å¹¹éº»ï¼Œvim å…§å»ºä¹Ÿæœ‰æŠ˜ç–Šé˜¿ï¼Ÿ command! -nargs=? Fold :call CocAction('fold', <f-args>) &#34; æ–°å¢ `:OR` å‘½ä»¤ï¼Œå¯ä»¥æ•´ç†ç›®å‰æª”æ¡ˆå¼•å…¥çš„å‡½å¼åº«ï¼ˆæ¸¬è©¦ Golang æœƒåˆªæ‰æ²’ç”¨åˆ°çš„ä½†æ˜¯ nodejs è¦ç”¨ 'import' æ‰æœƒç†äººï¼Œç”¨ 'require' ä»–æœƒç•¶ä½œæ²’çœ‹åˆ°ä»€éº¼éƒ½ä¸åš command! -nargs=0 OR :call CocAction('runCommand', 'editor.action.organizeImport') &#34; æ·»åŠ  (neo)vim åŸç”Ÿçš„ç‹€æ…‹åˆ—æ”¯æ´ï¼ˆä»–æœƒåœ¨æœ€ä¸‹é¢æä¾›ä¸€äº›è¨Šæ¯ &#34; æ³¨æ„ï¼šç”¨ `:h coc-status` æŒ‡ä»¤çœ‹å¦‚ä½•å’Œå…¶ä»–ç‹€æ…‹åˆ—å¤–æ›çµåˆ &#34; æä¾›ç¯„ä¾‹ï¼šlightline.vim, vim-airline.ï¼ˆå¦‚æœä½ è¦ç”¨é€™å€‹çš„è©±è«‹å‹™å¿…çœ‹ç¯„ä¾‹ï¼Œä¸ç„¶ä½ çš„å¤–æ›ç­‰æ–¼ç™½è£ set statusline^=%{coc#status()}%{get(b:,'coc_current_function','')} &#34; CocList çš„éµç›¤æ˜ å°„ï¼ˆCocList çš„åŠŸèƒ½æ˜¯é¡¯ç¤ºæ‰€æœ‰ XXXï¼Œæˆ‘ç­‰ç­‰å°±åªå¯« XXX çš„éƒ¨ä»½ &#34; è¨ºæ–· nnoremap <silent><nowait> <space>a :<C-u>CocList diagnostics<cr> &#34; æ“´å…… nnoremap <silent><nowait> <space>e :<C-u>CocList extensions<cr> &#34; å‘½ä»¤ nnoremap <silent><nowait> <space>c :<C-u>CocList commands<cr> &#34; å¤§ç¶±ï¼ˆå’Œ tag bar çš„åŠŸèƒ½å·®ä¸å¤šï¼Œå°±æ˜¯ä½ å®šç¾©çš„è®Šæ•¸ç‰©ä»¶å‡½æ•¸ç­‰ç­‰ nnoremap <silent><nowait> <space>o :<C-u>CocList outline<cr> &#34; åœ¨ workspace ä¸­æ‰¾æŸå€‹è®Šæ•¸ã€å‡½æ•¸ã€ç‰©ä»¶ï¼ˆã€Œç¬¦è™Ÿã€ï¼‰ nnoremap <silent><nowait> <space>s :<C-u>CocList -I symbols<cr> &#34; åŸ·è¡Œé è¨­çš„ `:CocNext` nnoremap <silent><nowait> <space>j :<C-u>CocNext<CR> &#34; åŸ·è¡Œé è¨­çš„ `:CocPrev nnoremap <silent><nowait> <space>k :<C-u>CocPrev<CR> &#34; æ‰“é–‹ä¸Šä¸€æ¬¡çš„ `:CocList`ï¼ˆé€™å€‹æŒ‡ä»¤å¯ä»¥åˆ—å‡ºå¾ˆå¤šæ±è¥¿ nnoremap <silent><nowait> <space>p :<C-u>CocListResume<CR> çµå°¾ å‘¼ï½ï¼ç¸½ç®—ç¿»è­¯å®Œäº†ï¼Œæœ‰å¹¾å€‹æˆ‘çœŸçš„çœ‹ä¸å‡ºä¾†åœ¨å¹¹å˜›çš„è¨­å®šç¿»è­¯ä¸å¤ªå¥½è«‹å„ä½è¦‹è«’ã€‚\n"><title>Day 17ï¼šcoc.nvim è¨­å®šä¸‹é›†</title>
<link rel=canonical href=https://blog.simbafs.cc/p/day17/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Day 17ï¼šcoc.nvim è¨­å®šä¸‹é›†"><meta property='og:description' content="ä»Šå¤©çš„æ±è¥¿ç›¸ç•¶å¤šï¼Œåœ¨ GitHub README Example ä¸­é™¤äº†æ˜¨å¤©ä»‹ç´¹éå¾—ä»Šå¤©éƒ½æ”¶éŒ„äº†ï¼Œç›´æ¥é€²ä¸»é¡Œå§ï¼\nå–”ï¼å¦å¤–æœ‰äº›æ±è¥¿æˆ‘çœŸçš„ä¸çŸ¥é“æ˜¯ä»€éº¼æˆ‘æœƒç”¨åŸæ–‡å¯«ä¸¦ç”¨ä¸­æ–‡æ‹¬è™Ÿæ‹¬èµ·ä¾†ï¼Œæ­¡è¿çŸ¥é“çš„æœ‹å‹ç•™è¨€å‘Šè¨´æˆ‘\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 &#34; è¨­å®šæ–‡å­—ç·¨ç¢¼ï¼ˆæˆ‘æƒ³é€™å€‹ä½ çš„ init.vim/.vimrc éƒ½æ‡‰è©²æœ‰äº†ï¼‰ set encoding=utf-8 &#34; å¦‚æœ hidden æ²’æœ‰è¨­å®šï¼Œã€ŒTextEditã€å¯èƒ½æœƒå¤±æ•— &#34; TextEdit ä¹Ÿè¨±æ˜¯å½ˆå‡ºå¼è¼¸å…¥æ¡†å§ï¼Ÿé˜¿ç½ set hidden &#34; æœ‰äº›ä¼ºæœå™¨å°æ–¼å‚™ä»½æª”æœƒå‡ºéŒ¯ï¼Œè«‹çœ‹ issue #649 &#34; https://github.com/neoclide/coc.nvim/issues/649 set nobackup set nowritebackup &#34; æŠŠä¸‹é¢çš„å‘½ä»¤æ¬„è®Šé«˜ï¼Œå¤šä¸€é»ç©ºé–“ set cmdheight=2 &#34; ä¸å‚³è¨Šæ¯çµ¦ã€Œ|ins-completion-menu|ã€ï¼ˆé€™æˆ‘çœ‹ä¸å¤ªå‡ºä¾†æœ‰ä»€éº¼å·® set shortmess+=c &#34; ä½¿ç”¨ <c-space> è§¸ç™¼è‡ªå‹•å®Œæˆ if has('nvim') inoremap <silent><expr> <c-space> coc#refresh() else inoremap <silent><expr> <c-@> coc#refresh endif &#34; ç”¨ `[g` å’Œ `]g` è·³åˆ°è¨ºæ–·çš„ä½ç½®ï¼ˆå°±æ˜¯ç¨‹å¼ç¢¼æœ‰å•é¡Œåœ°æ–¹ &#34; ç”¨å‘½ä»¤ `:CocDiagnostics` åœ¨åˆ†å‰²è¦–çª—åˆ—å‡ºç›®å‰æª”æ¡ˆä¸­æ‰€æœ‰æœ‰å•é¡Œçš„é» nmap <silent> [g <Plug>(coc-diagnostic-prev) nmap <silent> ]g <Plug>(coc-diagnostic-next) &#34; ç¨‹å¼ç¢¼è½‰è·³ï¼ˆé€™å€‹æˆ‘è¦ºå¾—æœ‰é»é›£è¨˜ï¼Œè€Œä¸”é€™å››å€‹å¯¦é©—å‡ºä¾†æ•ˆæœéå¸¸åƒï¼Œæˆ‘çš„å»ºè­°æ˜¯è©¦éå¾Œé¸ä½ è¦ºå¾—é †çœ¼çš„ï¼Œä¸è¦å…¨ä¸Š nmap <silent> gd <Plug>(coc-definition) nmap <silent> gy <Plug>(coc-type-definition) nmap <silent> gi <Plug>(coc-implementation) nmap <silent> gr <Plug>(coc-references) &#34; ç”¨ Kï¼ˆæ³¨æ„å¤§å¯«ï¼‰é¡¯ç¤ºæ–‡ä»¶åœ¨åˆ†å‰²è¦–çª— nnoremap <silent> K :call <SID>show_documentation()<CR> function! s:show_documentation() if (index(['vim','help'], &amp;filetype) >= 0) execute 'h '.expand('<cword>') elseif (coc#rpc#ready()) call CocActionAsync('doHover') else execute '!' . &amp;keywordprg . &#34; &#34; . expand('<cword>') endif endfunction &#34; çªé¡¯æ¸¸æ¨™ä¸‹çš„ç¬¦è™Ÿï¼ˆé€™æ˜¯æ·¡æ·¡çš„ç°è‰² autocmd CursorHold * silent call CocActionAsync('highlight') &#34; æ•´ç†ç¨‹å¼ç¢¼ï¼Œä½†æ˜¯æˆ‘å€‘åœ¨ Day 15 è£é Chiel92/vim-autoformat äº†ï¼Œcoc çš„ autoformat åœ¨é‡åˆ°ä¸æœƒçš„æƒ…æ³æœƒç›´ç™½çš„å™´éŒ¯æ¯”è¼ƒé†œï¼Œ &#34; ç›¸è¼ƒä¹‹ä¸‹ vim-autoformat æ¯”è¼ƒå¥½çœ‹ï¼Œæ‰€ä»¥æˆ‘å»ºè­°å…©å€‹é¸ä¸€å€‹ï¼Œä¸è¦éƒ½è£ xmap <leader>f <Plug>(coc-format-selected) nmap <leader>f <Plug>(coc-format-selected) augroup mygroup autocmd! &#34; è¨­å®šæŒ‡å®šæª”æ¡ˆçš„ formatter autocmd FileType typescript,json setl formatexpr=CocAction('formatSelected') &#34; Update signature help on jump placeholder.ï¼ˆé€™å€‹çœŸçš„ä¸æœƒç¿»è­¯ autocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp') augroup end &#34; å°‡ codeAction æ‡‰ç”¨åˆ°é¸å–çš„å€åŸŸ &#34; ç¯„ä¾‹ï¼š`<leader>aap` å°æ‡‰ä¸€å€‹æ®µè½ (ap = a paragraphï¼ŒåŒç† aw = a word) xmap <leader>a <Plug>(coc-codeaction-selected) nmap <leader>a <Plug>(coc-codeaction-selected) &#34; å°‡ codeaction æ‡‰ç”¨åˆ°é€™å€‹æª”æ¡ˆ nmap <leader>ac <Plug>(coc-codeaction) &#34; è‡ªå‹•ä¿®è£œç›®å‰é€™è¡Œï¼ˆé€™è¦ language server æœ‰æä¾› nmap <leader>qf <Plug>(coc-fix-current) &#34; æ˜ å°„å‡½æ•¸å’Œé¡åˆ¥ï¼ˆå—ï¼Ÿæ¸¬è©¦èµ·ä¾†æ€ªæ€ªçš„ &#34; æ³¨æ„ï¼šéœ€è¦ language server æ”¯æ´ 'textDocument.documentSymbol' xmap if <Plug>(coc-funcobj-i) omap if <Plug>(coc-funcobj-i) xmap af <Plug>(coc-funcobj-a) omap af <Plug>(coc-funcobj-a) xmap ic <Plug>(coc-classobj-i) omap ic <Plug>(coc-classobj-i) xmap ac <Plug>(coc-classobj-a) omap ac <Plug>(coc-classobj-a) &#34; ç”¨ CTRL-S é¸å–æ•´å€‹å‡½æ•¸æˆ–æ˜¯é¡åˆ¥ &#34; éœ€è¦ language server æ”¯æ´ 'textDocument/selectionRange' nmap <silent> <C-s> <Plug>(coc-range-select) xmap <silent> <C-s> <Plug>(coc-range-select) &#34; æ–°å¢ `:Format` å‘½ä»¤ï¼Œå’Œ Chiel92/vim-autoformat é¸ä¸€å€‹å°±è¡Œäº† command! -nargs=0 Format :call CocAction('format') &#34; æ–°å¢ `:Fold` å‘½ä»¤ï¼Œå¯ä»¥æŠ˜ç–Šç›®å‰çš„æª”æ¡ˆï¼ˆæˆ‘æ€éº¼æ¸¬è©¦å°±æ˜¯æŠ˜ä¸èµ·ä¾†ï¼Œä¸ç¢ºå®šåˆ°åº•åœ¨å¹¹éº»ï¼Œvim å…§å»ºä¹Ÿæœ‰æŠ˜ç–Šé˜¿ï¼Ÿ command! -nargs=? Fold :call CocAction('fold', <f-args>) &#34; æ–°å¢ `:OR` å‘½ä»¤ï¼Œå¯ä»¥æ•´ç†ç›®å‰æª”æ¡ˆå¼•å…¥çš„å‡½å¼åº«ï¼ˆæ¸¬è©¦ Golang æœƒåˆªæ‰æ²’ç”¨åˆ°çš„ä½†æ˜¯ nodejs è¦ç”¨ 'import' æ‰æœƒç†äººï¼Œç”¨ 'require' ä»–æœƒç•¶ä½œæ²’çœ‹åˆ°ä»€éº¼éƒ½ä¸åš command! -nargs=0 OR :call CocAction('runCommand', 'editor.action.organizeImport') &#34; æ·»åŠ  (neo)vim åŸç”Ÿçš„ç‹€æ…‹åˆ—æ”¯æ´ï¼ˆä»–æœƒåœ¨æœ€ä¸‹é¢æä¾›ä¸€äº›è¨Šæ¯ &#34; æ³¨æ„ï¼šç”¨ `:h coc-status` æŒ‡ä»¤çœ‹å¦‚ä½•å’Œå…¶ä»–ç‹€æ…‹åˆ—å¤–æ›çµåˆ &#34; æä¾›ç¯„ä¾‹ï¼šlightline.vim, vim-airline.ï¼ˆå¦‚æœä½ è¦ç”¨é€™å€‹çš„è©±è«‹å‹™å¿…çœ‹ç¯„ä¾‹ï¼Œä¸ç„¶ä½ çš„å¤–æ›ç­‰æ–¼ç™½è£ set statusline^=%{coc#status()}%{get(b:,'coc_current_function','')} &#34; CocList çš„éµç›¤æ˜ å°„ï¼ˆCocList çš„åŠŸèƒ½æ˜¯é¡¯ç¤ºæ‰€æœ‰ XXXï¼Œæˆ‘ç­‰ç­‰å°±åªå¯« XXX çš„éƒ¨ä»½ &#34; è¨ºæ–· nnoremap <silent><nowait> <space>a :<C-u>CocList diagnostics<cr> &#34; æ“´å…… nnoremap <silent><nowait> <space>e :<C-u>CocList extensions<cr> &#34; å‘½ä»¤ nnoremap <silent><nowait> <space>c :<C-u>CocList commands<cr> &#34; å¤§ç¶±ï¼ˆå’Œ tag bar çš„åŠŸèƒ½å·®ä¸å¤šï¼Œå°±æ˜¯ä½ å®šç¾©çš„è®Šæ•¸ç‰©ä»¶å‡½æ•¸ç­‰ç­‰ nnoremap <silent><nowait> <space>o :<C-u>CocList outline<cr> &#34; åœ¨ workspace ä¸­æ‰¾æŸå€‹è®Šæ•¸ã€å‡½æ•¸ã€ç‰©ä»¶ï¼ˆã€Œç¬¦è™Ÿã€ï¼‰ nnoremap <silent><nowait> <space>s :<C-u>CocList -I symbols<cr> &#34; åŸ·è¡Œé è¨­çš„ `:CocNext` nnoremap <silent><nowait> <space>j :<C-u>CocNext<CR> &#34; åŸ·è¡Œé è¨­çš„ `:CocPrev nnoremap <silent><nowait> <space>k :<C-u>CocPrev<CR> &#34; æ‰“é–‹ä¸Šä¸€æ¬¡çš„ `:CocList`ï¼ˆé€™å€‹æŒ‡ä»¤å¯ä»¥åˆ—å‡ºå¾ˆå¤šæ±è¥¿ nnoremap <silent><nowait> <space>p :<C-u>CocListResume<CR> çµå°¾ å‘¼ï½ï¼ç¸½ç®—ç¿»è­¯å®Œäº†ï¼Œæœ‰å¹¾å€‹æˆ‘çœŸçš„çœ‹ä¸å‡ºä¾†åœ¨å¹¹å˜›çš„è¨­å®šç¿»è­¯ä¸å¤ªå¥½è«‹å„ä½è¦‹è«’ã€‚\n"><meta property='og:url' content='https://blog.simbafs.cc/p/day17/'><meta property='og:site_name' content='Simba çš„å–µçª©'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='cli'><meta property='article:tag' content='terminal'><meta property='article:tag' content='software development'><meta property='article:tag' content='vim'><meta property='article:tag' content='tmux'><meta property='article:tag' content='zsh'><meta property='article:published_time' content='2021-09-17T00:00:00+00:00'><meta property='article:modified_time' content='2021-09-17T00:00:00+00:00'><meta property='og:image' content='https://blog.simbafs.cc/og/ithelp/day17.png'><meta name=twitter:site content="@simbafs"><meta name=twitter:creator content="@simbafs"><meta name=twitter:title content="Day 17ï¼šcoc.nvim è¨­å®šä¸‹é›†"><meta name=twitter:description content="ä»Šå¤©çš„æ±è¥¿ç›¸ç•¶å¤šï¼Œåœ¨ GitHub README Example ä¸­é™¤äº†æ˜¨å¤©ä»‹ç´¹éå¾—ä»Šå¤©éƒ½æ”¶éŒ„äº†ï¼Œç›´æ¥é€²ä¸»é¡Œå§ï¼\nå–”ï¼å¦å¤–æœ‰äº›æ±è¥¿æˆ‘çœŸçš„ä¸çŸ¥é“æ˜¯ä»€éº¼æˆ‘æœƒç”¨åŸæ–‡å¯«ä¸¦ç”¨ä¸­æ–‡æ‹¬è™Ÿæ‹¬èµ·ä¾†ï¼Œæ­¡è¿çŸ¥é“çš„æœ‹å‹ç•™è¨€å‘Šè¨´æˆ‘\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 &#34; è¨­å®šæ–‡å­—ç·¨ç¢¼ï¼ˆæˆ‘æƒ³é€™å€‹ä½ çš„ init.vim/.vimrc éƒ½æ‡‰è©²æœ‰äº†ï¼‰ set encoding=utf-8 &#34; å¦‚æœ hidden æ²’æœ‰è¨­å®šï¼Œã€ŒTextEditã€å¯èƒ½æœƒå¤±æ•— &#34; TextEdit ä¹Ÿè¨±æ˜¯å½ˆå‡ºå¼è¼¸å…¥æ¡†å§ï¼Ÿé˜¿ç½ set hidden &#34; æœ‰äº›ä¼ºæœå™¨å°æ–¼å‚™ä»½æª”æœƒå‡ºéŒ¯ï¼Œè«‹çœ‹ issue #649 &#34; https://github.com/neoclide/coc.nvim/issues/649 set nobackup set nowritebackup &#34; æŠŠä¸‹é¢çš„å‘½ä»¤æ¬„è®Šé«˜ï¼Œå¤šä¸€é»ç©ºé–“ set cmdheight=2 &#34; ä¸å‚³è¨Šæ¯çµ¦ã€Œ|ins-completion-menu|ã€ï¼ˆé€™æˆ‘çœ‹ä¸å¤ªå‡ºä¾†æœ‰ä»€éº¼å·® set shortmess+=c &#34; ä½¿ç”¨ <c-space> è§¸ç™¼è‡ªå‹•å®Œæˆ if has('nvim') inoremap <silent><expr> <c-space> coc#refresh() else inoremap <silent><expr> <c-@> coc#refresh endif &#34; ç”¨ `[g` å’Œ `]g` è·³åˆ°è¨ºæ–·çš„ä½ç½®ï¼ˆå°±æ˜¯ç¨‹å¼ç¢¼æœ‰å•é¡Œåœ°æ–¹ &#34; ç”¨å‘½ä»¤ `:CocDiagnostics` åœ¨åˆ†å‰²è¦–çª—åˆ—å‡ºç›®å‰æª”æ¡ˆä¸­æ‰€æœ‰æœ‰å•é¡Œçš„é» nmap <silent> [g <Plug>(coc-diagnostic-prev) nmap <silent> ]g <Plug>(coc-diagnostic-next) &#34; ç¨‹å¼ç¢¼è½‰è·³ï¼ˆé€™å€‹æˆ‘è¦ºå¾—æœ‰é»é›£è¨˜ï¼Œè€Œä¸”é€™å››å€‹å¯¦é©—å‡ºä¾†æ•ˆæœéå¸¸åƒï¼Œæˆ‘çš„å»ºè­°æ˜¯è©¦éå¾Œé¸ä½ è¦ºå¾—é †çœ¼çš„ï¼Œä¸è¦å…¨ä¸Š nmap <silent> gd <Plug>(coc-definition) nmap <silent> gy <Plug>(coc-type-definition) nmap <silent> gi <Plug>(coc-implementation) nmap <silent> gr <Plug>(coc-references) &#34; ç”¨ Kï¼ˆæ³¨æ„å¤§å¯«ï¼‰é¡¯ç¤ºæ–‡ä»¶åœ¨åˆ†å‰²è¦–çª— nnoremap <silent> K :call <SID>show_documentation()<CR> function! s:show_documentation() if (index(['vim','help'], &amp;filetype) >= 0) execute 'h '.expand('<cword>') elseif (coc#rpc#ready()) call CocActionAsync('doHover') else execute '!' . &amp;keywordprg . &#34; &#34; . expand('<cword>') endif endfunction &#34; çªé¡¯æ¸¸æ¨™ä¸‹çš„ç¬¦è™Ÿï¼ˆé€™æ˜¯æ·¡æ·¡çš„ç°è‰² autocmd CursorHold * silent call CocActionAsync('highlight') &#34; æ•´ç†ç¨‹å¼ç¢¼ï¼Œä½†æ˜¯æˆ‘å€‘åœ¨ Day 15 è£é Chiel92/vim-autoformat äº†ï¼Œcoc çš„ autoformat åœ¨é‡åˆ°ä¸æœƒçš„æƒ…æ³æœƒç›´ç™½çš„å™´éŒ¯æ¯”è¼ƒé†œï¼Œ &#34; ç›¸è¼ƒä¹‹ä¸‹ vim-autoformat æ¯”è¼ƒå¥½çœ‹ï¼Œæ‰€ä»¥æˆ‘å»ºè­°å…©å€‹é¸ä¸€å€‹ï¼Œä¸è¦éƒ½è£ xmap <leader>f <Plug>(coc-format-selected) nmap <leader>f <Plug>(coc-format-selected) augroup mygroup autocmd! &#34; è¨­å®šæŒ‡å®šæª”æ¡ˆçš„ formatter autocmd FileType typescript,json setl formatexpr=CocAction('formatSelected') &#34; Update signature help on jump placeholder.ï¼ˆé€™å€‹çœŸçš„ä¸æœƒç¿»è­¯ autocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp') augroup end &#34; å°‡ codeAction æ‡‰ç”¨åˆ°é¸å–çš„å€åŸŸ &#34; ç¯„ä¾‹ï¼š`<leader>aap` å°æ‡‰ä¸€å€‹æ®µè½ (ap = a paragraphï¼ŒåŒç† aw = a word) xmap <leader>a <Plug>(coc-codeaction-selected) nmap <leader>a <Plug>(coc-codeaction-selected) &#34; å°‡ codeaction æ‡‰ç”¨åˆ°é€™å€‹æª”æ¡ˆ nmap <leader>ac <Plug>(coc-codeaction) &#34; è‡ªå‹•ä¿®è£œç›®å‰é€™è¡Œï¼ˆé€™è¦ language server æœ‰æä¾› nmap <leader>qf <Plug>(coc-fix-current) &#34; æ˜ å°„å‡½æ•¸å’Œé¡åˆ¥ï¼ˆå—ï¼Ÿæ¸¬è©¦èµ·ä¾†æ€ªæ€ªçš„ &#34; æ³¨æ„ï¼šéœ€è¦ language server æ”¯æ´ 'textDocument.documentSymbol' xmap if <Plug>(coc-funcobj-i) omap if <Plug>(coc-funcobj-i) xmap af <Plug>(coc-funcobj-a) omap af <Plug>(coc-funcobj-a) xmap ic <Plug>(coc-classobj-i) omap ic <Plug>(coc-classobj-i) xmap ac <Plug>(coc-classobj-a) omap ac <Plug>(coc-classobj-a) &#34; ç”¨ CTRL-S é¸å–æ•´å€‹å‡½æ•¸æˆ–æ˜¯é¡åˆ¥ &#34; éœ€è¦ language server æ”¯æ´ 'textDocument/selectionRange' nmap <silent> <C-s> <Plug>(coc-range-select) xmap <silent> <C-s> <Plug>(coc-range-select) &#34; æ–°å¢ `:Format` å‘½ä»¤ï¼Œå’Œ Chiel92/vim-autoformat é¸ä¸€å€‹å°±è¡Œäº† command! -nargs=0 Format :call CocAction('format') &#34; æ–°å¢ `:Fold` å‘½ä»¤ï¼Œå¯ä»¥æŠ˜ç–Šç›®å‰çš„æª”æ¡ˆï¼ˆæˆ‘æ€éº¼æ¸¬è©¦å°±æ˜¯æŠ˜ä¸èµ·ä¾†ï¼Œä¸ç¢ºå®šåˆ°åº•åœ¨å¹¹éº»ï¼Œvim å…§å»ºä¹Ÿæœ‰æŠ˜ç–Šé˜¿ï¼Ÿ command! -nargs=? Fold :call CocAction('fold', <f-args>) &#34; æ–°å¢ `:OR` å‘½ä»¤ï¼Œå¯ä»¥æ•´ç†ç›®å‰æª”æ¡ˆå¼•å…¥çš„å‡½å¼åº«ï¼ˆæ¸¬è©¦ Golang æœƒåˆªæ‰æ²’ç”¨åˆ°çš„ä½†æ˜¯ nodejs è¦ç”¨ 'import' æ‰æœƒç†äººï¼Œç”¨ 'require' ä»–æœƒç•¶ä½œæ²’çœ‹åˆ°ä»€éº¼éƒ½ä¸åš command! -nargs=0 OR :call CocAction('runCommand', 'editor.action.organizeImport') &#34; æ·»åŠ  (neo)vim åŸç”Ÿçš„ç‹€æ…‹åˆ—æ”¯æ´ï¼ˆä»–æœƒåœ¨æœ€ä¸‹é¢æä¾›ä¸€äº›è¨Šæ¯ &#34; æ³¨æ„ï¼šç”¨ `:h coc-status` æŒ‡ä»¤çœ‹å¦‚ä½•å’Œå…¶ä»–ç‹€æ…‹åˆ—å¤–æ›çµåˆ &#34; æä¾›ç¯„ä¾‹ï¼šlightline.vim, vim-airline.ï¼ˆå¦‚æœä½ è¦ç”¨é€™å€‹çš„è©±è«‹å‹™å¿…çœ‹ç¯„ä¾‹ï¼Œä¸ç„¶ä½ çš„å¤–æ›ç­‰æ–¼ç™½è£ set statusline^=%{coc#status()}%{get(b:,'coc_current_function','')} &#34; CocList çš„éµç›¤æ˜ å°„ï¼ˆCocList çš„åŠŸèƒ½æ˜¯é¡¯ç¤ºæ‰€æœ‰ XXXï¼Œæˆ‘ç­‰ç­‰å°±åªå¯« XXX çš„éƒ¨ä»½ &#34; è¨ºæ–· nnoremap <silent><nowait> <space>a :<C-u>CocList diagnostics<cr> &#34; æ“´å…… nnoremap <silent><nowait> <space>e :<C-u>CocList extensions<cr> &#34; å‘½ä»¤ nnoremap <silent><nowait> <space>c :<C-u>CocList commands<cr> &#34; å¤§ç¶±ï¼ˆå’Œ tag bar çš„åŠŸèƒ½å·®ä¸å¤šï¼Œå°±æ˜¯ä½ å®šç¾©çš„è®Šæ•¸ç‰©ä»¶å‡½æ•¸ç­‰ç­‰ nnoremap <silent><nowait> <space>o :<C-u>CocList outline<cr> &#34; åœ¨ workspace ä¸­æ‰¾æŸå€‹è®Šæ•¸ã€å‡½æ•¸ã€ç‰©ä»¶ï¼ˆã€Œç¬¦è™Ÿã€ï¼‰ nnoremap <silent><nowait> <space>s :<C-u>CocList -I symbols<cr> &#34; åŸ·è¡Œé è¨­çš„ `:CocNext` nnoremap <silent><nowait> <space>j :<C-u>CocNext<CR> &#34; åŸ·è¡Œé è¨­çš„ `:CocPrev nnoremap <silent><nowait> <space>k :<C-u>CocPrev<CR> &#34; æ‰“é–‹ä¸Šä¸€æ¬¡çš„ `:CocList`ï¼ˆé€™å€‹æŒ‡ä»¤å¯ä»¥åˆ—å‡ºå¾ˆå¤šæ±è¥¿ nnoremap <silent><nowait> <space>p :<C-u>CocListResume<CR> çµå°¾ å‘¼ï½ï¼ç¸½ç®—ç¿»è­¯å®Œäº†ï¼Œæœ‰å¹¾å€‹æˆ‘çœŸçš„çœ‹ä¸å‡ºä¾†åœ¨å¹¹å˜›çš„è¨­å®šç¿»è­¯ä¸å¤ªå¥½è«‹å„ä½è¦‹è«’ã€‚\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://blog.simbafs.cc/og/ithelp/day17.png'><link rel="shortcut icon" href=/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-DTMEFY7DTF"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DTMEFY7DTF")</script><link rel=alternate type=application/rss+xml title="Simba çš„å–µçª©" href=https://blog.simbafs.cc/index.xml></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ›é¸å–®>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu7418080469569761488.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ’¤</span></figure><div class=site-meta><h1 class=site-name><a href=/>Simba çš„å–µçª©</a></h1><h2 class=site-description>æˆå¤§ç‰©ç†ç³»å¤§å››</h2></div></header><ol class=menu-social><li><a href=https://github.com/simbafs target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://murmur.simbafs.cc target=_blank title=murmur rel=me><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li><li><a href=https://twitter.com/simbafs target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/works/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>Works</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>å¤œæ™šæ¨¡å¼</span></li></ol></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/day17/><img src=/og/ithelp/day17.png loading=lazy alt="Featured image of post Day 17ï¼šcoc.nvim è¨­å®šä¸‹é›†"></a></div><div class=article-details><header class=article-category><a href=/categories/ithelp/>Ithelp</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/day17/>Day 17ï¼šcoc.nvim è¨­å®šä¸‹é›†</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2021/09/17</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é–±è®€æ™‚é–“: 3 åˆ†é˜</time></div></footer></div></header><section class=article-content><p>ä»Šå¤©çš„æ±è¥¿ç›¸ç•¶å¤šï¼Œåœ¨ <a class=link href=https://github.com/neoclide/coc.nvim#example-vim-configuration target=_blank rel=noopener>GitHub README Example</a> ä¸­é™¤äº†æ˜¨å¤©ä»‹ç´¹éå¾—ä»Šå¤©éƒ½æ”¶éŒ„äº†ï¼Œç›´æ¥é€²ä¸»é¡Œå§ï¼<br>å–”ï¼å¦å¤–æœ‰äº›æ±è¥¿æˆ‘çœŸçš„ä¸çŸ¥é“æ˜¯ä»€éº¼æˆ‘æœƒç”¨åŸæ–‡å¯«ä¸¦ç”¨ä¸­æ–‡æ‹¬è™Ÿæ‹¬èµ·ä¾†ï¼Œæ­¡è¿çŸ¥é“çš„æœ‹å‹ç•™è¨€å‘Šè¨´æˆ‘</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=c>&#34; è¨­å®šæ–‡å­—ç·¨ç¢¼ï¼ˆæˆ‘æƒ³é€™å€‹ä½ çš„ init.vim/.vimrc éƒ½æ‡‰è©²æœ‰äº†ï¼‰</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nx>encoding</span><span class=p>=</span><span class=nx>utf</span><span class=m>-8</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; å¦‚æœ hidden æ²’æœ‰è¨­å®šï¼Œã€ŒTextEditã€å¯èƒ½æœƒå¤±æ•—</span>
</span></span><span class=line><span class=cl><span class=c>&#34; TextEdit ä¹Ÿè¨±æ˜¯å½ˆå‡ºå¼è¼¸å…¥æ¡†å§ï¼Ÿé˜¿ç½</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nx>hidden</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; æœ‰äº›ä¼ºæœå™¨å°æ–¼å‚™ä»½æª”æœƒå‡ºéŒ¯ï¼Œè«‹çœ‹ issue #649</span>
</span></span><span class=line><span class=cl><span class=c>&#34; https://github.com/neoclide/coc.nvim/issues/649</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nx>nobackup</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nx>nowritebackup</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; æŠŠä¸‹é¢çš„å‘½ä»¤æ¬„è®Šé«˜ï¼Œå¤šä¸€é»ç©ºé–“</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nx>cmdheight</span><span class=p>=</span><span class=m>2</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; ä¸å‚³è¨Šæ¯çµ¦ã€Œ|ins-completion-menu|ã€ï¼ˆé€™æˆ‘çœ‹ä¸å¤ªå‡ºä¾†æœ‰ä»€éº¼å·®</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nx>shortmess</span><span class=p>+=</span><span class=nx>c</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; ä½¿ç”¨ &lt;c-space&gt; è§¸ç™¼è‡ªå‹•å®Œæˆ</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>has</span><span class=p>(</span><span class=s1>&#39;nvim&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>inoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>expr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>c</span><span class=p>-</span><span class=nx>space</span><span class=p>&gt;</span> <span class=nx>coc</span>#<span class=nx>refresh</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>  <span class=nx>inoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>expr</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>c</span><span class=p>-</span>@<span class=p>&gt;</span> <span class=nx>coc</span>#<span class=nx>refresh</span>
</span></span><span class=line><span class=cl><span class=k>endif</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; ç”¨ `[g` å’Œ `]g` è·³åˆ°è¨ºæ–·çš„ä½ç½®ï¼ˆå°±æ˜¯ç¨‹å¼ç¢¼æœ‰å•é¡Œåœ°æ–¹</span>
</span></span><span class=line><span class=cl><span class=c>&#34; ç”¨å‘½ä»¤ `:CocDiagnostics` åœ¨åˆ†å‰²è¦–çª—åˆ—å‡ºç›®å‰æª”æ¡ˆä¸­æ‰€æœ‰æœ‰å•é¡Œçš„é»</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> [<span class=nx>g</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>diagnostic</span><span class=p>-</span><span class=nx>prev</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> ]<span class=nx>g</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>diagnostic</span><span class=p>-</span><span class=nx>next</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; ç¨‹å¼ç¢¼è½‰è·³ï¼ˆé€™å€‹æˆ‘è¦ºå¾—æœ‰é»é›£è¨˜ï¼Œè€Œä¸”é€™å››å€‹å¯¦é©—å‡ºä¾†æ•ˆæœéå¸¸åƒï¼Œæˆ‘çš„å»ºè­°æ˜¯è©¦éå¾Œé¸ä½ è¦ºå¾—é †çœ¼çš„ï¼Œä¸è¦å…¨ä¸Š</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> <span class=nx>gd</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>definition</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> <span class=nx>gy</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>type</span><span class=p>-</span><span class=nx>definition</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> <span class=nx>gi</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>implementation</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> <span class=nx>gr</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>references</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; ç”¨ Kï¼ˆæ³¨æ„å¤§å¯«ï¼‰é¡¯ç¤ºæ–‡ä»¶åœ¨åˆ†å‰²è¦–çª—</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> <span class=nx>K</span> :<span class=nx>call</span> <span class=p>&lt;</span><span class=nx>SID</span><span class=p>&gt;</span><span class=nx>show_documentation</span><span class=p>()&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span><span class=p>!</span> <span class=nx>s</span>:<span class=nx>show_documentation</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>index</span><span class=p>(</span>[<span class=s1>&#39;vim&#39;</span><span class=p>,</span><span class=s1>&#39;help&#39;</span>]<span class=p>,</span> &amp;<span class=k>filetype</span><span class=p>)</span> <span class=p>&gt;=</span> <span class=m>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>execute</span> <span class=s1>&#39;h &#39;</span>.<span class=nx>expand</span><span class=p>(</span><span class=s1>&#39;&lt;cword&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>elseif</span> <span class=p>(</span><span class=nx>coc</span>#<span class=nx>rpc</span>#<span class=nx>ready</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=nx>call</span> <span class=nx>CocActionAsync</span><span class=p>(</span><span class=s1>&#39;doHover&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=k>execute</span> <span class=s1>&#39;!&#39;</span> . &amp;<span class=nx>keywordprg</span> . <span class=s2>&#34; &#34;</span> . <span class=nx>expand</span><span class=p>(</span><span class=s1>&#39;&lt;cword&gt;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>endif</span>
</span></span><span class=line><span class=cl><span class=k>endfunction</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; çªé¡¯æ¸¸æ¨™ä¸‹çš„ç¬¦è™Ÿï¼ˆé€™æ˜¯æ·¡æ·¡çš„ç°è‰²</span>
</span></span><span class=line><span class=cl><span class=k>autocmd</span> <span class=nx>CursorHold</span> * <span class=nx>silent</span> <span class=nx>call</span> <span class=nx>CocActionAsync</span><span class=p>(</span><span class=s1>&#39;highlight&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; æ•´ç†ç¨‹å¼ç¢¼ï¼Œä½†æ˜¯æˆ‘å€‘åœ¨ Day 15 è£é Chiel92/vim-autoformat äº†ï¼Œcoc çš„ autoformat åœ¨é‡åˆ°ä¸æœƒçš„æƒ…æ³æœƒç›´ç™½çš„å™´éŒ¯æ¯”è¼ƒé†œï¼Œ</span>
</span></span><span class=line><span class=cl><span class=c>&#34; ç›¸è¼ƒä¹‹ä¸‹ vim-autoformat æ¯”è¼ƒå¥½çœ‹ï¼Œæ‰€ä»¥æˆ‘å»ºè­°å…©å€‹é¸ä¸€å€‹ï¼Œä¸è¦éƒ½è£</span>
</span></span><span class=line><span class=cl><span class=nx>xmap</span> <span class=p>&lt;</span><span class=nx>leader</span><span class=p>&gt;</span><span class=nx>f</span>  <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>format</span><span class=p>-</span><span class=nx>selected</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>leader</span><span class=p>&gt;</span><span class=nx>f</span>  <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>format</span><span class=p>-</span><span class=nx>selected</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>augroup</span> <span class=nx>mygroup</span>
</span></span><span class=line><span class=cl>  <span class=k>autocmd</span><span class=p>!</span>
</span></span><span class=line><span class=cl><span class=c>  &#34; è¨­å®šæŒ‡å®šæª”æ¡ˆçš„ formatter</span>
</span></span><span class=line><span class=cl>  <span class=k>autocmd</span> <span class=nx>FileType</span> <span class=nx>typescript</span><span class=p>,</span><span class=nx>json</span> <span class=nx>setl</span> <span class=nx>formatexpr</span><span class=p>=</span><span class=nx>CocAction</span><span class=p>(</span><span class=s1>&#39;formatSelected&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>  &#34; Update signature help on jump placeholder.ï¼ˆé€™å€‹çœŸçš„ä¸æœƒç¿»è­¯</span>
</span></span><span class=line><span class=cl>  <span class=k>autocmd</span> <span class=nx>User</span> <span class=nx>CocJumpPlaceholder</span> <span class=nx>call</span> <span class=nx>CocActionAsync</span><span class=p>(</span><span class=s1>&#39;showSignatureHelp&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>augroup</span> <span class=nx>end</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; å°‡ codeAction æ‡‰ç”¨åˆ°é¸å–çš„å€åŸŸ</span>
</span></span><span class=line><span class=cl><span class=c>&#34; ç¯„ä¾‹ï¼š`&lt;leader&gt;aap` å°æ‡‰ä¸€å€‹æ®µè½ (ap = a paragraphï¼ŒåŒç† aw = a word)</span>
</span></span><span class=line><span class=cl><span class=nx>xmap</span> <span class=p>&lt;</span><span class=nx>leader</span><span class=p>&gt;</span><span class=nx>a</span>  <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>codeaction</span><span class=p>-</span><span class=nx>selected</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>leader</span><span class=p>&gt;</span><span class=nx>a</span>  <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>codeaction</span><span class=p>-</span><span class=nx>selected</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; å°‡ codeaction æ‡‰ç”¨åˆ°é€™å€‹æª”æ¡ˆ</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>leader</span><span class=p>&gt;</span><span class=nx>ac</span>  <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>codeaction</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>&#34; è‡ªå‹•ä¿®è£œç›®å‰é€™è¡Œï¼ˆé€™è¦ language server æœ‰æä¾›</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>leader</span><span class=p>&gt;</span><span class=nx>qf</span>  <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>fix</span><span class=p>-</span><span class=nx>current</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; æ˜ å°„å‡½æ•¸å’Œé¡åˆ¥ï¼ˆå—ï¼Ÿæ¸¬è©¦èµ·ä¾†æ€ªæ€ªçš„</span>
</span></span><span class=line><span class=cl><span class=c>&#34; æ³¨æ„ï¼šéœ€è¦ language server æ”¯æ´ &#39;textDocument.documentSymbol&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>xmap</span> <span class=k>if</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>funcobj</span><span class=p>-</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>omap</span> <span class=k>if</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>funcobj</span><span class=p>-</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>xmap</span> <span class=nx>af</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>funcobj</span><span class=p>-</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>omap</span> <span class=nx>af</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>funcobj</span><span class=p>-</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>xmap</span> <span class=nx>ic</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>classobj</span><span class=p>-</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>omap</span> <span class=nx>ic</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>classobj</span><span class=p>-</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>xmap</span> <span class=nx>ac</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>classobj</span><span class=p>-</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>omap</span> <span class=nx>ac</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>classobj</span><span class=p>-</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; ç”¨ CTRL-S é¸å–æ•´å€‹å‡½æ•¸æˆ–æ˜¯é¡åˆ¥</span>
</span></span><span class=line><span class=cl><span class=c>&#34; éœ€è¦ language server æ”¯æ´ &#39;textDocument/selectionRange&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>nmap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>s</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>range</span><span class=p>-</span><span class=nx>select</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>xmap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>s</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>Plug</span><span class=p>&gt;(</span><span class=nx>coc</span><span class=p>-</span><span class=nx>range</span><span class=p>-</span><span class=nx>select</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; æ–°å¢ `:Format` å‘½ä»¤ï¼Œå’Œ Chiel92/vim-autoformat é¸ä¸€å€‹å°±è¡Œäº†</span>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span><span class=m>0</span> <span class=nx>Format</span> :<span class=nx>call</span> <span class=nx>CocAction</span><span class=p>(</span><span class=s1>&#39;format&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; æ–°å¢ `:Fold` å‘½ä»¤ï¼Œå¯ä»¥æŠ˜ç–Šç›®å‰çš„æª”æ¡ˆï¼ˆæˆ‘æ€éº¼æ¸¬è©¦å°±æ˜¯æŠ˜ä¸èµ·ä¾†ï¼Œä¸ç¢ºå®šåˆ°åº•åœ¨å¹¹éº»ï¼Œvim å…§å»ºä¹Ÿæœ‰æŠ˜ç–Šé˜¿ï¼Ÿ</span>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span>? <span class=nx>Fold</span> :<span class=nx>call</span>     <span class=nx>CocAction</span><span class=p>(</span><span class=s1>&#39;fold&#39;</span><span class=p>,</span> <span class=p>&lt;</span><span class=nx>f</span><span class=p>-</span><span class=nx>args</span><span class=p>&gt;)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; æ–°å¢ `:OR` å‘½ä»¤ï¼Œå¯ä»¥æ•´ç†ç›®å‰æª”æ¡ˆå¼•å…¥çš„å‡½å¼åº«ï¼ˆæ¸¬è©¦ Golang æœƒåˆªæ‰æ²’ç”¨åˆ°çš„ä½†æ˜¯ nodejs è¦ç”¨ &#39;import&#39; æ‰æœƒç†äººï¼Œç”¨ &#39;require&#39; ä»–æœƒç•¶ä½œæ²’çœ‹åˆ°ä»€éº¼éƒ½ä¸åš</span>
</span></span><span class=line><span class=cl><span class=nx>command</span><span class=p>!</span> <span class=p>-</span><span class=nx>nargs</span><span class=p>=</span><span class=m>0</span> <span class=nx>OR</span>   :<span class=nx>call</span>     <span class=nx>CocAction</span><span class=p>(</span><span class=s1>&#39;runCommand&#39;</span><span class=p>,</span> <span class=s1>&#39;editor.action.organizeImport&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; æ·»åŠ  (neo)vim åŸç”Ÿçš„ç‹€æ…‹åˆ—æ”¯æ´ï¼ˆä»–æœƒåœ¨æœ€ä¸‹é¢æä¾›ä¸€äº›è¨Šæ¯</span>
</span></span><span class=line><span class=cl><span class=c>&#34; æ³¨æ„ï¼šç”¨ `:h coc-status` æŒ‡ä»¤çœ‹å¦‚ä½•å’Œå…¶ä»–ç‹€æ…‹åˆ—å¤–æ›çµåˆ</span>
</span></span><span class=line><span class=cl><span class=c>&#34; æä¾›ç¯„ä¾‹ï¼šlightline.vim, vim-airline.ï¼ˆå¦‚æœä½ è¦ç”¨é€™å€‹çš„è©±è«‹å‹™å¿…çœ‹ç¯„ä¾‹ï¼Œä¸ç„¶ä½ çš„å¤–æ›ç­‰æ–¼ç™½è£</span>
</span></span><span class=line><span class=cl><span class=k>set</span> <span class=nx>statusline</span>^<span class=p>=</span>%{<span class=nx>coc</span>#<span class=nx>status</span><span class=p>()</span>}%{<span class=nx>get</span><span class=p>(</span><span class=nx>b</span>:<span class=p>,</span><span class=s1>&#39;coc_current_function&#39;</span><span class=p>,</span><span class=s1>&#39;&#39;</span><span class=p>)</span>}
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; CocList çš„éµç›¤æ˜ å°„ï¼ˆCocList çš„åŠŸèƒ½æ˜¯é¡¯ç¤ºæ‰€æœ‰ XXXï¼Œæˆ‘ç­‰ç­‰å°±åªå¯« XXX çš„éƒ¨ä»½</span>
</span></span><span class=line><span class=cl><span class=c>&#34; è¨ºæ–·</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>nowait</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>space</span><span class=p>&gt;</span><span class=nx>a</span>  :<span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>u</span><span class=p>&gt;</span><span class=nx>CocList</span> <span class=nx>diagnostics</span><span class=p>&lt;</span><span class=nx>cr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&#34; æ“´å……</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>nowait</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>space</span><span class=p>&gt;</span><span class=nx>e</span>  :<span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>u</span><span class=p>&gt;</span><span class=nx>CocList</span> <span class=nx>extensions</span><span class=p>&lt;</span><span class=nx>cr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&#34; å‘½ä»¤</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>nowait</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>space</span><span class=p>&gt;</span><span class=nx>c</span>  :<span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>u</span><span class=p>&gt;</span><span class=nx>CocList</span> <span class=nx>commands</span><span class=p>&lt;</span><span class=nx>cr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&#34; å¤§ç¶±ï¼ˆå’Œ tag bar çš„åŠŸèƒ½å·®ä¸å¤šï¼Œå°±æ˜¯ä½ å®šç¾©çš„è®Šæ•¸ç‰©ä»¶å‡½æ•¸ç­‰ç­‰</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>nowait</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>space</span><span class=p>&gt;</span><span class=nx>o</span>  :<span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>u</span><span class=p>&gt;</span><span class=nx>CocList</span> <span class=nx>outline</span><span class=p>&lt;</span><span class=nx>cr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&#34; åœ¨ workspace ä¸­æ‰¾æŸå€‹è®Šæ•¸ã€å‡½æ•¸ã€ç‰©ä»¶ï¼ˆã€Œç¬¦è™Ÿã€ï¼‰</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>nowait</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>space</span><span class=p>&gt;</span><span class=nx>s</span>  :<span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>u</span><span class=p>&gt;</span><span class=nx>CocList</span> <span class=p>-</span><span class=nx>I</span> <span class=nx>symbols</span><span class=p>&lt;</span><span class=nx>cr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&#34; åŸ·è¡Œé è¨­çš„ `:CocNext`</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>nowait</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>space</span><span class=p>&gt;</span><span class=nx>j</span>  :<span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>u</span><span class=p>&gt;</span><span class=nx>CocNext</span><span class=p>&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&#34; åŸ·è¡Œé è¨­çš„ `:CocPrev</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>nowait</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>space</span><span class=p>&gt;</span><span class=nx>k</span>  :<span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>u</span><span class=p>&gt;</span><span class=nx>CocPrev</span><span class=p>&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&#34; æ‰“é–‹ä¸Šä¸€æ¬¡çš„ `:CocList`ï¼ˆé€™å€‹æŒ‡ä»¤å¯ä»¥åˆ—å‡ºå¾ˆå¤šæ±è¥¿</span>
</span></span><span class=line><span class=cl><span class=nx>nnoremap</span> <span class=p>&lt;</span><span class=nx>silent</span><span class=p>&gt;&lt;</span><span class=nx>nowait</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nx>space</span><span class=p>&gt;</span><span class=nx>p</span>  :<span class=p>&lt;</span><span class=nx>C</span><span class=p>-</span><span class=nx>u</span><span class=p>&gt;</span><span class=nx>CocListResume</span><span class=p>&lt;</span><span class=nx>CR</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=çµå°¾><a href=#%e7%b5%90%e5%b0%be class=header-anchor></a>çµå°¾</h1><p>å‘¼ï½ï¼ç¸½ç®—ç¿»è­¯å®Œäº†ï¼Œæœ‰å¹¾å€‹æˆ‘çœŸçš„çœ‹ä¸å‡ºä¾†åœ¨å¹¹å˜›çš„è¨­å®šç¿»è­¯ä¸å¤ªå¥½è«‹å„ä½è¦‹è«’ã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/cli/>Cli</a>
<a href=/tags/terminal/>Terminal</a>
<a href=/tags/software-development/>Software Development</a>
<a href=/tags/vim/>Vim</a>
<a href=/tags/tmux/>Tmux</a>
<a href=/tags/zsh/>Zsh</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸é—œæ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/day21/><div class=article-image><img src=/og/ithelp/day21.png loading=lazy data-key=day21 data-hash=/og/ithelp/day21.png></div><div class=article-details><h2 class=article-title>Day 21ï¼šå„²å­˜å™¨èˆ‡å‰ªè²¼ç°¿</h2></div></a></article><article class=has-image><a href=/p/day20/><div class=article-image><img src=/og/ithelp/day20.png loading=lazy data-key=day20 data-hash=/og/ithelp/day20.png></div><div class=article-details><h2 class=article-title>Day 20ï¼šåˆ‡æ°´æœå›‰ï¼vim åˆ‡è¢å¹•èˆ‡åˆ†é </h2></div></a></article><article class=has-image><a href=/p/day19/><div class=article-image><img src=/og/ithelp/day19.png loading=lazy data-key=day19 data-hash=/og/ithelp/day19.png></div><div class=article-details><h2 class=article-title>Day 19ï¼šè©²æ˜¯æ™‚å€™å‡ç´šä½ çš„å™´å°„å¼•æ“å›‰ï¼vim-emmet é‡è¤‡èˆ‡è¿­ä»£</h2></div></a></article><article class=has-image><a href=/p/day18/><div class=article-image><img src=/og/ithelp/day18.png loading=lazy data-key=day18 data-hash=/og/ithelp/day18.png></div><div class=article-details><h2 class=article-title>Day 18ï¼šå¹«ä½ çš„ HTML é–‹ç™¼è£ä¸Šå™´å°„å¼•æ“ï¼vim-emmet</h2></div></a></article><article class=has-image><a href=/p/day16/><div class=article-image><img src=/og/ithelp/day16.png loading=lazy data-key=day16 data-hash=/og/ithelp/day16.png></div><div class=article-details><h2 class=article-title>Day 16ï¼šè‡ªå‹•è£œå…¨ï¼coc.nvim</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Simba çš„å–µçª©</section><section class=powerby>å¥½æƒ³é¤Šè²“é˜¿~~<br>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> å»ºç«‹<br>ä¸»é¡Œ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è¨­è¨ˆ</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>